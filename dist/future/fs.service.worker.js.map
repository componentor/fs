{"version":3,"sources":["../../future/buffer-shim-bundled.js","../../future/src/fs.module-server.ts","../../future/src/fs.service.worker.ts"],"sourcesContent":["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\n\n// ../node_modules/base64-js/index.js\nvar require_base64_js = __commonJS({\n  \"../node_modules/base64-js/index.js\"(exports) {\n    \"use strict\";\n    exports.byteLength = byteLength;\n    exports.toByteArray = toByteArray;\n    exports.fromByteArray = fromByteArray;\n    var lookup = [];\n    var revLookup = [];\n    var Arr = typeof Uint8Array !== \"undefined\" ? Uint8Array : Array;\n    var code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for (i = 0, len = code.length; i < len; ++i) {\n      lookup[i] = code[i];\n      revLookup[code.charCodeAt(i)] = i;\n    }\n    var i;\n    var len;\n    revLookup[\"-\".charCodeAt(0)] = 62;\n    revLookup[\"_\".charCodeAt(0)] = 63;\n    function getLens(b64) {\n      var len2 = b64.length;\n      if (len2 % 4 > 0) {\n        throw new Error(\"Invalid string. Length must be a multiple of 4\");\n      }\n      var validLen = b64.indexOf(\"=\");\n      if (validLen === -1) validLen = len2;\n      var placeHoldersLen = validLen === len2 ? 0 : 4 - validLen % 4;\n      return [validLen, placeHoldersLen];\n    }\n    function byteLength(b64) {\n      var lens = getLens(b64);\n      var validLen = lens[0];\n      var placeHoldersLen = lens[1];\n      return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n    }\n    function _byteLength(b64, validLen, placeHoldersLen) {\n      return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n    }\n    function toByteArray(b64) {\n      var tmp;\n      var lens = getLens(b64);\n      var validLen = lens[0];\n      var placeHoldersLen = lens[1];\n      var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n      var curByte = 0;\n      var len2 = placeHoldersLen > 0 ? validLen - 4 : validLen;\n      var i2;\n      for (i2 = 0; i2 < len2; i2 += 4) {\n        tmp = revLookup[b64.charCodeAt(i2)] << 18 | revLookup[b64.charCodeAt(i2 + 1)] << 12 | revLookup[b64.charCodeAt(i2 + 2)] << 6 | revLookup[b64.charCodeAt(i2 + 3)];\n        arr[curByte++] = tmp >> 16 & 255;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n      }\n      if (placeHoldersLen === 2) {\n        tmp = revLookup[b64.charCodeAt(i2)] << 2 | revLookup[b64.charCodeAt(i2 + 1)] >> 4;\n        arr[curByte++] = tmp & 255;\n      }\n      if (placeHoldersLen === 1) {\n        tmp = revLookup[b64.charCodeAt(i2)] << 10 | revLookup[b64.charCodeAt(i2 + 1)] << 4 | revLookup[b64.charCodeAt(i2 + 2)] >> 2;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n      }\n      return arr;\n    }\n    function tripletToBase64(num) {\n      return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];\n    }\n    function encodeChunk(uint8, start, end) {\n      var tmp;\n      var output = [];\n      for (var i2 = start; i2 < end; i2 += 3) {\n        tmp = (uint8[i2] << 16 & 16711680) + (uint8[i2 + 1] << 8 & 65280) + (uint8[i2 + 2] & 255);\n        output.push(tripletToBase64(tmp));\n      }\n      return output.join(\"\");\n    }\n    function fromByteArray(uint8) {\n      var tmp;\n      var len2 = uint8.length;\n      var extraBytes = len2 % 3;\n      var parts = [];\n      var maxChunkLength = 16383;\n      for (var i2 = 0, len22 = len2 - extraBytes; i2 < len22; i2 += maxChunkLength) {\n        parts.push(encodeChunk(uint8, i2, i2 + maxChunkLength > len22 ? len22 : i2 + maxChunkLength));\n      }\n      if (extraBytes === 1) {\n        tmp = uint8[len2 - 1];\n        parts.push(\n          lookup[tmp >> 2] + lookup[tmp << 4 & 63] + \"==\"\n        );\n      } else if (extraBytes === 2) {\n        tmp = (uint8[len2 - 2] << 8) + uint8[len2 - 1];\n        parts.push(\n          lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + \"=\"\n        );\n      }\n      return parts.join(\"\");\n    }\n  }\n});\n\n// ../node_modules/ieee754/index.js\nvar require_ieee754 = __commonJS({\n  \"../node_modules/ieee754/index.js\"(exports) {\n    exports.read = function(buffer, offset, isLE, mLen, nBytes) {\n      var e, m;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var nBits = -7;\n      var i = isLE ? nBytes - 1 : 0;\n      var d = isLE ? -1 : 1;\n      var s = buffer[offset + i];\n      i += d;\n      e = s & (1 << -nBits) - 1;\n      s >>= -nBits;\n      nBits += eLen;\n      for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {\n      }\n      m = e & (1 << -nBits) - 1;\n      e >>= -nBits;\n      nBits += mLen;\n      for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {\n      }\n      if (e === 0) {\n        e = 1 - eBias;\n      } else if (e === eMax) {\n        return m ? NaN : (s ? -1 : 1) * Infinity;\n      } else {\n        m = m + Math.pow(2, mLen);\n        e = e - eBias;\n      }\n      return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n    };\n    exports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n      var e, m, c;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n      var i = isLE ? 0 : nBytes - 1;\n      var d = isLE ? 1 : -1;\n      var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n      value = Math.abs(value);\n      if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e = eMax;\n      } else {\n        e = Math.floor(Math.log(value) / Math.LN2);\n        if (value * (c = Math.pow(2, -e)) < 1) {\n          e--;\n          c *= 2;\n        }\n        if (e + eBias >= 1) {\n          value += rt / c;\n        } else {\n          value += rt * Math.pow(2, 1 - eBias);\n        }\n        if (value * c >= 2) {\n          e++;\n          c /= 2;\n        }\n        if (e + eBias >= eMax) {\n          m = 0;\n          e = eMax;\n        } else if (e + eBias >= 1) {\n          m = (value * c - 1) * Math.pow(2, mLen);\n          e = e + eBias;\n        } else {\n          m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n          e = 0;\n        }\n      }\n      for (; mLen >= 8; buffer[offset + i] = m & 255, i += d, m /= 256, mLen -= 8) {\n      }\n      e = e << mLen | m;\n      eLen += mLen;\n      for (; eLen > 0; buffer[offset + i] = e & 255, i += d, e /= 256, eLen -= 8) {\n      }\n      buffer[offset + i - d] |= s * 128;\n    };\n  }\n});\n\n// ../node_modules/buffer/index.js\nvar require_buffer = __commonJS({\n  \"../node_modules/buffer/index.js\"(exports) {\n    \"use strict\";\n    var base64 = require_base64_js();\n    var ieee754 = require_ieee754();\n    var customInspectSymbol = typeof Symbol === \"function\" && typeof Symbol[\"for\"] === \"function\" ? Symbol[\"for\"](\"nodejs.util.inspect.custom\") : null;\n    exports.Buffer = Buffer3;\n    exports.SlowBuffer = SlowBuffer;\n    exports.INSPECT_MAX_BYTES = 50;\n    var K_MAX_LENGTH = 2147483647;\n    exports.kMaxLength = K_MAX_LENGTH;\n    Buffer3.TYPED_ARRAY_SUPPORT = typedArraySupport();\n    if (!Buffer3.TYPED_ARRAY_SUPPORT && typeof console !== \"undefined\" && typeof console.error === \"function\") {\n      console.error(\n        \"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"\n      );\n    }\n    function typedArraySupport() {\n      try {\n        const arr = new Uint8Array(1);\n        const proto = { foo: function() {\n          return 42;\n        } };\n        Object.setPrototypeOf(proto, Uint8Array.prototype);\n        Object.setPrototypeOf(arr, proto);\n        return arr.foo() === 42;\n      } catch (e) {\n        return false;\n      }\n    }\n    Object.defineProperty(Buffer3.prototype, \"parent\", {\n      enumerable: true,\n      get: function() {\n        if (!Buffer3.isBuffer(this)) return void 0;\n        return this.buffer;\n      }\n    });\n    Object.defineProperty(Buffer3.prototype, \"offset\", {\n      enumerable: true,\n      get: function() {\n        if (!Buffer3.isBuffer(this)) return void 0;\n        return this.byteOffset;\n      }\n    });\n    function createBuffer(length) {\n      if (length > K_MAX_LENGTH) {\n        throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"');\n      }\n      const buf = new Uint8Array(length);\n      Object.setPrototypeOf(buf, Buffer3.prototype);\n      return buf;\n    }\n    function Buffer3(arg, encodingOrOffset, length) {\n      if (typeof arg === \"number\") {\n        if (typeof encodingOrOffset === \"string\") {\n          throw new TypeError(\n            'The \"string\" argument must be of type string. Received type number'\n          );\n        }\n        return allocUnsafe(arg);\n      }\n      return from(arg, encodingOrOffset, length);\n    }\n    Buffer3.poolSize = 8192;\n    function from(value, encodingOrOffset, length) {\n      if (typeof value === \"string\") {\n        return fromString(value, encodingOrOffset);\n      }\n      if (ArrayBuffer.isView(value)) {\n        return fromArrayView(value);\n      }\n      if (value == null) {\n        throw new TypeError(\n          \"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof value\n        );\n      }\n      if (isInstance(value, ArrayBuffer) || value && isInstance(value.buffer, ArrayBuffer)) {\n        return fromArrayBuffer(value, encodingOrOffset, length);\n      }\n      if (typeof SharedArrayBuffer !== \"undefined\" && (isInstance(value, SharedArrayBuffer) || value && isInstance(value.buffer, SharedArrayBuffer))) {\n        return fromArrayBuffer(value, encodingOrOffset, length);\n      }\n      if (typeof value === \"number\") {\n        throw new TypeError(\n          'The \"value\" argument must not be of type number. Received type number'\n        );\n      }\n      const valueOf = value.valueOf && value.valueOf();\n      if (valueOf != null && valueOf !== value) {\n        return Buffer3.from(valueOf, encodingOrOffset, length);\n      }\n      const b = fromObject(value);\n      if (b) return b;\n      if (typeof Symbol !== \"undefined\" && Symbol.toPrimitive != null && typeof value[Symbol.toPrimitive] === \"function\") {\n        return Buffer3.from(value[Symbol.toPrimitive](\"string\"), encodingOrOffset, length);\n      }\n      throw new TypeError(\n        \"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof value\n      );\n    }\n    Buffer3.from = function(value, encodingOrOffset, length) {\n      return from(value, encodingOrOffset, length);\n    };\n    Object.setPrototypeOf(Buffer3.prototype, Uint8Array.prototype);\n    Object.setPrototypeOf(Buffer3, Uint8Array);\n    function assertSize(size) {\n      if (typeof size !== \"number\") {\n        throw new TypeError('\"size\" argument must be of type number');\n      } else if (size < 0) {\n        throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"');\n      }\n    }\n    function alloc(size, fill, encoding) {\n      assertSize(size);\n      if (size <= 0) {\n        return createBuffer(size);\n      }\n      if (fill !== void 0) {\n        return typeof encoding === \"string\" ? createBuffer(size).fill(fill, encoding) : createBuffer(size).fill(fill);\n      }\n      return createBuffer(size);\n    }\n    Buffer3.alloc = function(size, fill, encoding) {\n      return alloc(size, fill, encoding);\n    };\n    function allocUnsafe(size) {\n      assertSize(size);\n      return createBuffer(size < 0 ? 0 : checked(size) | 0);\n    }\n    Buffer3.allocUnsafe = function(size) {\n      return allocUnsafe(size);\n    };\n    Buffer3.allocUnsafeSlow = function(size) {\n      return allocUnsafe(size);\n    };\n    function fromString(string, encoding) {\n      if (typeof encoding !== \"string\" || encoding === \"\") {\n        encoding = \"utf8\";\n      }\n      if (!Buffer3.isEncoding(encoding)) {\n        throw new TypeError(\"Unknown encoding: \" + encoding);\n      }\n      const length = byteLength(string, encoding) | 0;\n      let buf = createBuffer(length);\n      const actual = buf.write(string, encoding);\n      if (actual !== length) {\n        buf = buf.slice(0, actual);\n      }\n      return buf;\n    }\n    function fromArrayLike(array) {\n      const length = array.length < 0 ? 0 : checked(array.length) | 0;\n      const buf = createBuffer(length);\n      for (let i = 0; i < length; i += 1) {\n        buf[i] = array[i] & 255;\n      }\n      return buf;\n    }\n    function fromArrayView(arrayView) {\n      if (isInstance(arrayView, Uint8Array)) {\n        const copy = new Uint8Array(arrayView);\n        return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength);\n      }\n      return fromArrayLike(arrayView);\n    }\n    function fromArrayBuffer(array, byteOffset, length) {\n      if (byteOffset < 0 || array.byteLength < byteOffset) {\n        throw new RangeError('\"offset\" is outside of buffer bounds');\n      }\n      if (array.byteLength < byteOffset + (length || 0)) {\n        throw new RangeError('\"length\" is outside of buffer bounds');\n      }\n      let buf;\n      if (byteOffset === void 0 && length === void 0) {\n        buf = new Uint8Array(array);\n      } else if (length === void 0) {\n        buf = new Uint8Array(array, byteOffset);\n      } else {\n        buf = new Uint8Array(array, byteOffset, length);\n      }\n      Object.setPrototypeOf(buf, Buffer3.prototype);\n      return buf;\n    }\n    function fromObject(obj) {\n      if (Buffer3.isBuffer(obj)) {\n        const len = checked(obj.length) | 0;\n        const buf = createBuffer(len);\n        if (buf.length === 0) {\n          return buf;\n        }\n        obj.copy(buf, 0, 0, len);\n        return buf;\n      }\n      if (obj.length !== void 0) {\n        if (typeof obj.length !== \"number\" || numberIsNaN(obj.length)) {\n          return createBuffer(0);\n        }\n        return fromArrayLike(obj);\n      }\n      if (obj.type === \"Buffer\" && Array.isArray(obj.data)) {\n        return fromArrayLike(obj.data);\n      }\n    }\n    function checked(length) {\n      if (length >= K_MAX_LENGTH) {\n        throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\" + K_MAX_LENGTH.toString(16) + \" bytes\");\n      }\n      return length | 0;\n    }\n    function SlowBuffer(length) {\n      if (+length != length) {\n        length = 0;\n      }\n      return Buffer3.alloc(+length);\n    }\n    Buffer3.isBuffer = function isBuffer(b) {\n      return b != null && b._isBuffer === true && b !== Buffer3.prototype;\n    };\n    Buffer3.compare = function compare(a, b) {\n      if (isInstance(a, Uint8Array)) a = Buffer3.from(a, a.offset, a.byteLength);\n      if (isInstance(b, Uint8Array)) b = Buffer3.from(b, b.offset, b.byteLength);\n      if (!Buffer3.isBuffer(a) || !Buffer3.isBuffer(b)) {\n        throw new TypeError(\n          'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n        );\n      }\n      if (a === b) return 0;\n      let x = a.length;\n      let y = b.length;\n      for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n        if (a[i] !== b[i]) {\n          x = a[i];\n          y = b[i];\n          break;\n        }\n      }\n      if (x < y) return -1;\n      if (y < x) return 1;\n      return 0;\n    };\n    Buffer3.isEncoding = function isEncoding(encoding) {\n      switch (String(encoding).toLowerCase()) {\n        case \"hex\":\n        case \"utf8\":\n        case \"utf-8\":\n        case \"ascii\":\n        case \"latin1\":\n        case \"binary\":\n        case \"base64\":\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n          return true;\n        default:\n          return false;\n      }\n    };\n    Buffer3.concat = function concat(list, length) {\n      if (!Array.isArray(list)) {\n        throw new TypeError('\"list\" argument must be an Array of Buffers');\n      }\n      if (list.length === 0) {\n        return Buffer3.alloc(0);\n      }\n      let i;\n      if (length === void 0) {\n        length = 0;\n        for (i = 0; i < list.length; ++i) {\n          length += list[i].length;\n        }\n      }\n      const buffer = Buffer3.allocUnsafe(length);\n      let pos = 0;\n      for (i = 0; i < list.length; ++i) {\n        let buf = list[i];\n        if (isInstance(buf, Uint8Array)) {\n          if (pos + buf.length > buffer.length) {\n            if (!Buffer3.isBuffer(buf)) buf = Buffer3.from(buf);\n            buf.copy(buffer, pos);\n          } else {\n            Uint8Array.prototype.set.call(\n              buffer,\n              buf,\n              pos\n            );\n          }\n        } else if (!Buffer3.isBuffer(buf)) {\n          throw new TypeError('\"list\" argument must be an Array of Buffers');\n        } else {\n          buf.copy(buffer, pos);\n        }\n        pos += buf.length;\n      }\n      return buffer;\n    };\n    function byteLength(string, encoding) {\n      if (Buffer3.isBuffer(string)) {\n        return string.length;\n      }\n      if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n        return string.byteLength;\n      }\n      if (typeof string !== \"string\") {\n        throw new TypeError(\n          'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof string\n        );\n      }\n      const len = string.length;\n      const mustMatch = arguments.length > 2 && arguments[2] === true;\n      if (!mustMatch && len === 0) return 0;\n      let loweredCase = false;\n      for (; ; ) {\n        switch (encoding) {\n          case \"ascii\":\n          case \"latin1\":\n          case \"binary\":\n            return len;\n          case \"utf8\":\n          case \"utf-8\":\n            return utf8ToBytes(string).length;\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return len * 2;\n          case \"hex\":\n            return len >>> 1;\n          case \"base64\":\n            return base64ToBytes(string).length;\n          default:\n            if (loweredCase) {\n              return mustMatch ? -1 : utf8ToBytes(string).length;\n            }\n            encoding = (\"\" + encoding).toLowerCase();\n            loweredCase = true;\n        }\n      }\n    }\n    Buffer3.byteLength = byteLength;\n    function slowToString(encoding, start, end) {\n      let loweredCase = false;\n      if (start === void 0 || start < 0) {\n        start = 0;\n      }\n      if (start > this.length) {\n        return \"\";\n      }\n      if (end === void 0 || end > this.length) {\n        end = this.length;\n      }\n      if (end <= 0) {\n        return \"\";\n      }\n      end >>>= 0;\n      start >>>= 0;\n      if (end <= start) {\n        return \"\";\n      }\n      if (!encoding) encoding = \"utf8\";\n      while (true) {\n        switch (encoding) {\n          case \"hex\":\n            return hexSlice(this, start, end);\n          case \"utf8\":\n          case \"utf-8\":\n            return utf8Slice(this, start, end);\n          case \"ascii\":\n            return asciiSlice(this, start, end);\n          case \"latin1\":\n          case \"binary\":\n            return latin1Slice(this, start, end);\n          case \"base64\":\n            return base64Slice(this, start, end);\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return utf16leSlice(this, start, end);\n          default:\n            if (loweredCase) throw new TypeError(\"Unknown encoding: \" + encoding);\n            encoding = (encoding + \"\").toLowerCase();\n            loweredCase = true;\n        }\n      }\n    }\n    Buffer3.prototype._isBuffer = true;\n    function swap(b, n, m) {\n      const i = b[n];\n      b[n] = b[m];\n      b[m] = i;\n    }\n    Buffer3.prototype.swap16 = function swap16() {\n      const len = this.length;\n      if (len % 2 !== 0) {\n        throw new RangeError(\"Buffer size must be a multiple of 16-bits\");\n      }\n      for (let i = 0; i < len; i += 2) {\n        swap(this, i, i + 1);\n      }\n      return this;\n    };\n    Buffer3.prototype.swap32 = function swap32() {\n      const len = this.length;\n      if (len % 4 !== 0) {\n        throw new RangeError(\"Buffer size must be a multiple of 32-bits\");\n      }\n      for (let i = 0; i < len; i += 4) {\n        swap(this, i, i + 3);\n        swap(this, i + 1, i + 2);\n      }\n      return this;\n    };\n    Buffer3.prototype.swap64 = function swap64() {\n      const len = this.length;\n      if (len % 8 !== 0) {\n        throw new RangeError(\"Buffer size must be a multiple of 64-bits\");\n      }\n      for (let i = 0; i < len; i += 8) {\n        swap(this, i, i + 7);\n        swap(this, i + 1, i + 6);\n        swap(this, i + 2, i + 5);\n        swap(this, i + 3, i + 4);\n      }\n      return this;\n    };\n    Buffer3.prototype.toString = function toString() {\n      const length = this.length;\n      if (length === 0) return \"\";\n      if (arguments.length === 0) return utf8Slice(this, 0, length);\n      return slowToString.apply(this, arguments);\n    };\n    Buffer3.prototype.toLocaleString = Buffer3.prototype.toString;\n    Buffer3.prototype.equals = function equals(b) {\n      if (!Buffer3.isBuffer(b)) throw new TypeError(\"Argument must be a Buffer\");\n      if (this === b) return true;\n      return Buffer3.compare(this, b) === 0;\n    };\n    Buffer3.prototype.inspect = function inspect() {\n      let str = \"\";\n      const max = exports.INSPECT_MAX_BYTES;\n      str = this.toString(\"hex\", 0, max).replace(/(.{2})/g, \"$1 \").trim();\n      if (this.length > max) str += \" ... \";\n      return \"<Buffer \" + str + \">\";\n    };\n    if (customInspectSymbol) {\n      Buffer3.prototype[customInspectSymbol] = Buffer3.prototype.inspect;\n    }\n    Buffer3.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n      if (isInstance(target, Uint8Array)) {\n        target = Buffer3.from(target, target.offset, target.byteLength);\n      }\n      if (!Buffer3.isBuffer(target)) {\n        throw new TypeError(\n          'The \"target\" argument must be one of type Buffer or Uint8Array. Received type ' + typeof target\n        );\n      }\n      if (start === void 0) {\n        start = 0;\n      }\n      if (end === void 0) {\n        end = target ? target.length : 0;\n      }\n      if (thisStart === void 0) {\n        thisStart = 0;\n      }\n      if (thisEnd === void 0) {\n        thisEnd = this.length;\n      }\n      if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n        throw new RangeError(\"out of range index\");\n      }\n      if (thisStart >= thisEnd && start >= end) {\n        return 0;\n      }\n      if (thisStart >= thisEnd) {\n        return -1;\n      }\n      if (start >= end) {\n        return 1;\n      }\n      start >>>= 0;\n      end >>>= 0;\n      thisStart >>>= 0;\n      thisEnd >>>= 0;\n      if (this === target) return 0;\n      let x = thisEnd - thisStart;\n      let y = end - start;\n      const len = Math.min(x, y);\n      const thisCopy = this.slice(thisStart, thisEnd);\n      const targetCopy = target.slice(start, end);\n      for (let i = 0; i < len; ++i) {\n        if (thisCopy[i] !== targetCopy[i]) {\n          x = thisCopy[i];\n          y = targetCopy[i];\n          break;\n        }\n      }\n      if (x < y) return -1;\n      if (y < x) return 1;\n      return 0;\n    };\n    function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n      if (buffer.length === 0) return -1;\n      if (typeof byteOffset === \"string\") {\n        encoding = byteOffset;\n        byteOffset = 0;\n      } else if (byteOffset > 2147483647) {\n        byteOffset = 2147483647;\n      } else if (byteOffset < -2147483648) {\n        byteOffset = -2147483648;\n      }\n      byteOffset = +byteOffset;\n      if (numberIsNaN(byteOffset)) {\n        byteOffset = dir ? 0 : buffer.length - 1;\n      }\n      if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n      if (byteOffset >= buffer.length) {\n        if (dir) return -1;\n        else byteOffset = buffer.length - 1;\n      } else if (byteOffset < 0) {\n        if (dir) byteOffset = 0;\n        else return -1;\n      }\n      if (typeof val === \"string\") {\n        val = Buffer3.from(val, encoding);\n      }\n      if (Buffer3.isBuffer(val)) {\n        if (val.length === 0) {\n          return -1;\n        }\n        return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n      } else if (typeof val === \"number\") {\n        val = val & 255;\n        if (typeof Uint8Array.prototype.indexOf === \"function\") {\n          if (dir) {\n            return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n          } else {\n            return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n          }\n        }\n        return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n      }\n      throw new TypeError(\"val must be string, number or Buffer\");\n    }\n    function arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n      let indexSize = 1;\n      let arrLength = arr.length;\n      let valLength = val.length;\n      if (encoding !== void 0) {\n        encoding = String(encoding).toLowerCase();\n        if (encoding === \"ucs2\" || encoding === \"ucs-2\" || encoding === \"utf16le\" || encoding === \"utf-16le\") {\n          if (arr.length < 2 || val.length < 2) {\n            return -1;\n          }\n          indexSize = 2;\n          arrLength /= 2;\n          valLength /= 2;\n          byteOffset /= 2;\n        }\n      }\n      function read(buf, i2) {\n        if (indexSize === 1) {\n          return buf[i2];\n        } else {\n          return buf.readUInt16BE(i2 * indexSize);\n        }\n      }\n      let i;\n      if (dir) {\n        let foundIndex = -1;\n        for (i = byteOffset; i < arrLength; i++) {\n          if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n            if (foundIndex === -1) foundIndex = i;\n            if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n          } else {\n            if (foundIndex !== -1) i -= i - foundIndex;\n            foundIndex = -1;\n          }\n        }\n      } else {\n        if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n        for (i = byteOffset; i >= 0; i--) {\n          let found = true;\n          for (let j = 0; j < valLength; j++) {\n            if (read(arr, i + j) !== read(val, j)) {\n              found = false;\n              break;\n            }\n          }\n          if (found) return i;\n        }\n      }\n      return -1;\n    }\n    Buffer3.prototype.includes = function includes(val, byteOffset, encoding) {\n      return this.indexOf(val, byteOffset, encoding) !== -1;\n    };\n    Buffer3.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n      return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n    };\n    Buffer3.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n      return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n    };\n    function hexWrite(buf, string, offset, length) {\n      offset = Number(offset) || 0;\n      const remaining = buf.length - offset;\n      if (!length) {\n        length = remaining;\n      } else {\n        length = Number(length);\n        if (length > remaining) {\n          length = remaining;\n        }\n      }\n      const strLen = string.length;\n      if (length > strLen / 2) {\n        length = strLen / 2;\n      }\n      let i;\n      for (i = 0; i < length; ++i) {\n        const parsed = parseInt(string.substr(i * 2, 2), 16);\n        if (numberIsNaN(parsed)) return i;\n        buf[offset + i] = parsed;\n      }\n      return i;\n    }\n    function utf8Write(buf, string, offset, length) {\n      return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n    }\n    function asciiWrite(buf, string, offset, length) {\n      return blitBuffer(asciiToBytes(string), buf, offset, length);\n    }\n    function base64Write(buf, string, offset, length) {\n      return blitBuffer(base64ToBytes(string), buf, offset, length);\n    }\n    function ucs2Write(buf, string, offset, length) {\n      return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n    }\n    Buffer3.prototype.write = function write(string, offset, length, encoding) {\n      if (offset === void 0) {\n        encoding = \"utf8\";\n        length = this.length;\n        offset = 0;\n      } else if (length === void 0 && typeof offset === \"string\") {\n        encoding = offset;\n        length = this.length;\n        offset = 0;\n      } else if (isFinite(offset)) {\n        offset = offset >>> 0;\n        if (isFinite(length)) {\n          length = length >>> 0;\n          if (encoding === void 0) encoding = \"utf8\";\n        } else {\n          encoding = length;\n          length = void 0;\n        }\n      } else {\n        throw new Error(\n          \"Buffer.write(string, encoding, offset[, length]) is no longer supported\"\n        );\n      }\n      const remaining = this.length - offset;\n      if (length === void 0 || length > remaining) length = remaining;\n      if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n        throw new RangeError(\"Attempt to write outside buffer bounds\");\n      }\n      if (!encoding) encoding = \"utf8\";\n      let loweredCase = false;\n      for (; ; ) {\n        switch (encoding) {\n          case \"hex\":\n            return hexWrite(this, string, offset, length);\n          case \"utf8\":\n          case \"utf-8\":\n            return utf8Write(this, string, offset, length);\n          case \"ascii\":\n          case \"latin1\":\n          case \"binary\":\n            return asciiWrite(this, string, offset, length);\n          case \"base64\":\n            return base64Write(this, string, offset, length);\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return ucs2Write(this, string, offset, length);\n          default:\n            if (loweredCase) throw new TypeError(\"Unknown encoding: \" + encoding);\n            encoding = (\"\" + encoding).toLowerCase();\n            loweredCase = true;\n        }\n      }\n    };\n    Buffer3.prototype.toJSON = function toJSON() {\n      return {\n        type: \"Buffer\",\n        data: Array.prototype.slice.call(this._arr || this, 0)\n      };\n    };\n    function base64Slice(buf, start, end) {\n      if (start === 0 && end === buf.length) {\n        return base64.fromByteArray(buf);\n      } else {\n        return base64.fromByteArray(buf.slice(start, end));\n      }\n    }\n    function utf8Slice(buf, start, end) {\n      end = Math.min(buf.length, end);\n      const res = [];\n      let i = start;\n      while (i < end) {\n        const firstByte = buf[i];\n        let codePoint = null;\n        let bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n        if (i + bytesPerSequence <= end) {\n          let secondByte, thirdByte, fourthByte, tempCodePoint;\n          switch (bytesPerSequence) {\n            case 1:\n              if (firstByte < 128) {\n                codePoint = firstByte;\n              }\n              break;\n            case 2:\n              secondByte = buf[i + 1];\n              if ((secondByte & 192) === 128) {\n                tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n                if (tempCodePoint > 127) {\n                  codePoint = tempCodePoint;\n                }\n              }\n              break;\n            case 3:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n              if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n                tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n                if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n                  codePoint = tempCodePoint;\n                }\n              }\n              break;\n            case 4:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n              fourthByte = buf[i + 3];\n              if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n                tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n                if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n                  codePoint = tempCodePoint;\n                }\n              }\n          }\n        }\n        if (codePoint === null) {\n          codePoint = 65533;\n          bytesPerSequence = 1;\n        } else if (codePoint > 65535) {\n          codePoint -= 65536;\n          res.push(codePoint >>> 10 & 1023 | 55296);\n          codePoint = 56320 | codePoint & 1023;\n        }\n        res.push(codePoint);\n        i += bytesPerSequence;\n      }\n      return decodeCodePointsArray(res);\n    }\n    var MAX_ARGUMENTS_LENGTH = 4096;\n    function decodeCodePointsArray(codePoints) {\n      const len = codePoints.length;\n      if (len <= MAX_ARGUMENTS_LENGTH) {\n        return String.fromCharCode.apply(String, codePoints);\n      }\n      let res = \"\";\n      let i = 0;\n      while (i < len) {\n        res += String.fromCharCode.apply(\n          String,\n          codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n        );\n      }\n      return res;\n    }\n    function asciiSlice(buf, start, end) {\n      let ret = \"\";\n      end = Math.min(buf.length, end);\n      for (let i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i] & 127);\n      }\n      return ret;\n    }\n    function latin1Slice(buf, start, end) {\n      let ret = \"\";\n      end = Math.min(buf.length, end);\n      for (let i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i]);\n      }\n      return ret;\n    }\n    function hexSlice(buf, start, end) {\n      const len = buf.length;\n      if (!start || start < 0) start = 0;\n      if (!end || end < 0 || end > len) end = len;\n      let out = \"\";\n      for (let i = start; i < end; ++i) {\n        out += hexSliceLookupTable[buf[i]];\n      }\n      return out;\n    }\n    function utf16leSlice(buf, start, end) {\n      const bytes = buf.slice(start, end);\n      let res = \"\";\n      for (let i = 0; i < bytes.length - 1; i += 2) {\n        res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n      }\n      return res;\n    }\n    Buffer3.prototype.slice = function slice(start, end) {\n      const len = this.length;\n      start = ~~start;\n      end = end === void 0 ? len : ~~end;\n      if (start < 0) {\n        start += len;\n        if (start < 0) start = 0;\n      } else if (start > len) {\n        start = len;\n      }\n      if (end < 0) {\n        end += len;\n        if (end < 0) end = 0;\n      } else if (end > len) {\n        end = len;\n      }\n      if (end < start) end = start;\n      const newBuf = this.subarray(start, end);\n      Object.setPrototypeOf(newBuf, Buffer3.prototype);\n      return newBuf;\n    };\n    function checkOffset(offset, ext, length) {\n      if (offset % 1 !== 0 || offset < 0) throw new RangeError(\"offset is not uint\");\n      if (offset + ext > length) throw new RangeError(\"Trying to access beyond buffer length\");\n    }\n    Buffer3.prototype.readUintLE = Buffer3.prototype.readUIntLE = function readUIntLE(offset, byteLength2, noAssert) {\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) checkOffset(offset, byteLength2, this.length);\n      let val = this[offset];\n      let mul = 1;\n      let i = 0;\n      while (++i < byteLength2 && (mul *= 256)) {\n        val += this[offset + i] * mul;\n      }\n      return val;\n    };\n    Buffer3.prototype.readUintBE = Buffer3.prototype.readUIntBE = function readUIntBE(offset, byteLength2, noAssert) {\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) {\n        checkOffset(offset, byteLength2, this.length);\n      }\n      let val = this[offset + --byteLength2];\n      let mul = 1;\n      while (byteLength2 > 0 && (mul *= 256)) {\n        val += this[offset + --byteLength2] * mul;\n      }\n      return val;\n    };\n    Buffer3.prototype.readUint8 = Buffer3.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 1, this.length);\n      return this[offset];\n    };\n    Buffer3.prototype.readUint16LE = Buffer3.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      return this[offset] | this[offset + 1] << 8;\n    };\n    Buffer3.prototype.readUint16BE = Buffer3.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      return this[offset] << 8 | this[offset + 1];\n    };\n    Buffer3.prototype.readUint32LE = Buffer3.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;\n    };\n    Buffer3.prototype.readUint32BE = Buffer3.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n    };\n    Buffer3.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE(offset) {\n      offset = offset >>> 0;\n      validateNumber(offset, \"offset\");\n      const first = this[offset];\n      const last = this[offset + 7];\n      if (first === void 0 || last === void 0) {\n        boundsError(offset, this.length - 8);\n      }\n      const lo = first + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 24;\n      const hi = this[++offset] + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + last * 2 ** 24;\n      return BigInt(lo) + (BigInt(hi) << BigInt(32));\n    });\n    Buffer3.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE(offset) {\n      offset = offset >>> 0;\n      validateNumber(offset, \"offset\");\n      const first = this[offset];\n      const last = this[offset + 7];\n      if (first === void 0 || last === void 0) {\n        boundsError(offset, this.length - 8);\n      }\n      const hi = first * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + this[++offset];\n      const lo = this[++offset] * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + last;\n      return (BigInt(hi) << BigInt(32)) + BigInt(lo);\n    });\n    Buffer3.prototype.readIntLE = function readIntLE(offset, byteLength2, noAssert) {\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) checkOffset(offset, byteLength2, this.length);\n      let val = this[offset];\n      let mul = 1;\n      let i = 0;\n      while (++i < byteLength2 && (mul *= 256)) {\n        val += this[offset + i] * mul;\n      }\n      mul *= 128;\n      if (val >= mul) val -= Math.pow(2, 8 * byteLength2);\n      return val;\n    };\n    Buffer3.prototype.readIntBE = function readIntBE(offset, byteLength2, noAssert) {\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) checkOffset(offset, byteLength2, this.length);\n      let i = byteLength2;\n      let mul = 1;\n      let val = this[offset + --i];\n      while (i > 0 && (mul *= 256)) {\n        val += this[offset + --i] * mul;\n      }\n      mul *= 128;\n      if (val >= mul) val -= Math.pow(2, 8 * byteLength2);\n      return val;\n    };\n    Buffer3.prototype.readInt8 = function readInt8(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 1, this.length);\n      if (!(this[offset] & 128)) return this[offset];\n      return (255 - this[offset] + 1) * -1;\n    };\n    Buffer3.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      const val = this[offset] | this[offset + 1] << 8;\n      return val & 32768 ? val | 4294901760 : val;\n    };\n    Buffer3.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      const val = this[offset + 1] | this[offset] << 8;\n      return val & 32768 ? val | 4294901760 : val;\n    };\n    Buffer3.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n    };\n    Buffer3.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n    };\n    Buffer3.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE(offset) {\n      offset = offset >>> 0;\n      validateNumber(offset, \"offset\");\n      const first = this[offset];\n      const last = this[offset + 7];\n      if (first === void 0 || last === void 0) {\n        boundsError(offset, this.length - 8);\n      }\n      const val = this[offset + 4] + this[offset + 5] * 2 ** 8 + this[offset + 6] * 2 ** 16 + (last << 24);\n      return (BigInt(val) << BigInt(32)) + BigInt(first + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 24);\n    });\n    Buffer3.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE(offset) {\n      offset = offset >>> 0;\n      validateNumber(offset, \"offset\");\n      const first = this[offset];\n      const last = this[offset + 7];\n      if (first === void 0 || last === void 0) {\n        boundsError(offset, this.length - 8);\n      }\n      const val = (first << 24) + // Overflow\n      this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + this[++offset];\n      return (BigInt(val) << BigInt(32)) + BigInt(this[++offset] * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + last);\n    });\n    Buffer3.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return ieee754.read(this, offset, true, 23, 4);\n    };\n    Buffer3.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return ieee754.read(this, offset, false, 23, 4);\n    };\n    Buffer3.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 8, this.length);\n      return ieee754.read(this, offset, true, 52, 8);\n    };\n    Buffer3.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 8, this.length);\n      return ieee754.read(this, offset, false, 52, 8);\n    };\n    function checkInt(buf, value, offset, ext, max, min) {\n      if (!Buffer3.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n      if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n      if (offset + ext > buf.length) throw new RangeError(\"Index out of range\");\n    }\n    Buffer3.prototype.writeUintLE = Buffer3.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength2, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) {\n        const maxBytes = Math.pow(2, 8 * byteLength2) - 1;\n        checkInt(this, value, offset, byteLength2, maxBytes, 0);\n      }\n      let mul = 1;\n      let i = 0;\n      this[offset] = value & 255;\n      while (++i < byteLength2 && (mul *= 256)) {\n        this[offset + i] = value / mul & 255;\n      }\n      return offset + byteLength2;\n    };\n    Buffer3.prototype.writeUintBE = Buffer3.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength2, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) {\n        const maxBytes = Math.pow(2, 8 * byteLength2) - 1;\n        checkInt(this, value, offset, byteLength2, maxBytes, 0);\n      }\n      let i = byteLength2 - 1;\n      let mul = 1;\n      this[offset + i] = value & 255;\n      while (--i >= 0 && (mul *= 256)) {\n        this[offset + i] = value / mul & 255;\n      }\n      return offset + byteLength2;\n    };\n    Buffer3.prototype.writeUint8 = Buffer3.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 1, 255, 0);\n      this[offset] = value & 255;\n      return offset + 1;\n    };\n    Buffer3.prototype.writeUint16LE = Buffer3.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 65535, 0);\n      this[offset] = value & 255;\n      this[offset + 1] = value >>> 8;\n      return offset + 2;\n    };\n    Buffer3.prototype.writeUint16BE = Buffer3.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 65535, 0);\n      this[offset] = value >>> 8;\n      this[offset + 1] = value & 255;\n      return offset + 2;\n    };\n    Buffer3.prototype.writeUint32LE = Buffer3.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 4294967295, 0);\n      this[offset + 3] = value >>> 24;\n      this[offset + 2] = value >>> 16;\n      this[offset + 1] = value >>> 8;\n      this[offset] = value & 255;\n      return offset + 4;\n    };\n    Buffer3.prototype.writeUint32BE = Buffer3.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 4294967295, 0);\n      this[offset] = value >>> 24;\n      this[offset + 1] = value >>> 16;\n      this[offset + 2] = value >>> 8;\n      this[offset + 3] = value & 255;\n      return offset + 4;\n    };\n    function wrtBigUInt64LE(buf, value, offset, min, max) {\n      checkIntBI(value, min, max, buf, offset, 7);\n      let lo = Number(value & BigInt(4294967295));\n      buf[offset++] = lo;\n      lo = lo >> 8;\n      buf[offset++] = lo;\n      lo = lo >> 8;\n      buf[offset++] = lo;\n      lo = lo >> 8;\n      buf[offset++] = lo;\n      let hi = Number(value >> BigInt(32) & BigInt(4294967295));\n      buf[offset++] = hi;\n      hi = hi >> 8;\n      buf[offset++] = hi;\n      hi = hi >> 8;\n      buf[offset++] = hi;\n      hi = hi >> 8;\n      buf[offset++] = hi;\n      return offset;\n    }\n    function wrtBigUInt64BE(buf, value, offset, min, max) {\n      checkIntBI(value, min, max, buf, offset, 7);\n      let lo = Number(value & BigInt(4294967295));\n      buf[offset + 7] = lo;\n      lo = lo >> 8;\n      buf[offset + 6] = lo;\n      lo = lo >> 8;\n      buf[offset + 5] = lo;\n      lo = lo >> 8;\n      buf[offset + 4] = lo;\n      let hi = Number(value >> BigInt(32) & BigInt(4294967295));\n      buf[offset + 3] = hi;\n      hi = hi >> 8;\n      buf[offset + 2] = hi;\n      hi = hi >> 8;\n      buf[offset + 1] = hi;\n      hi = hi >> 8;\n      buf[offset] = hi;\n      return offset + 8;\n    }\n    Buffer3.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE(value, offset = 0) {\n      return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n    });\n    Buffer3.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE(value, offset = 0) {\n      return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n    });\n    Buffer3.prototype.writeIntLE = function writeIntLE(value, offset, byteLength2, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) {\n        const limit = Math.pow(2, 8 * byteLength2 - 1);\n        checkInt(this, value, offset, byteLength2, limit - 1, -limit);\n      }\n      let i = 0;\n      let mul = 1;\n      let sub = 0;\n      this[offset] = value & 255;\n      while (++i < byteLength2 && (mul *= 256)) {\n        if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n          sub = 1;\n        }\n        this[offset + i] = (value / mul >> 0) - sub & 255;\n      }\n      return offset + byteLength2;\n    };\n    Buffer3.prototype.writeIntBE = function writeIntBE(value, offset, byteLength2, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) {\n        const limit = Math.pow(2, 8 * byteLength2 - 1);\n        checkInt(this, value, offset, byteLength2, limit - 1, -limit);\n      }\n      let i = byteLength2 - 1;\n      let mul = 1;\n      let sub = 0;\n      this[offset + i] = value & 255;\n      while (--i >= 0 && (mul *= 256)) {\n        if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n          sub = 1;\n        }\n        this[offset + i] = (value / mul >> 0) - sub & 255;\n      }\n      return offset + byteLength2;\n    };\n    Buffer3.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 1, 127, -128);\n      if (value < 0) value = 255 + value + 1;\n      this[offset] = value & 255;\n      return offset + 1;\n    };\n    Buffer3.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 32767, -32768);\n      this[offset] = value & 255;\n      this[offset + 1] = value >>> 8;\n      return offset + 2;\n    };\n    Buffer3.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 32767, -32768);\n      this[offset] = value >>> 8;\n      this[offset + 1] = value & 255;\n      return offset + 2;\n    };\n    Buffer3.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 2147483647, -2147483648);\n      this[offset] = value & 255;\n      this[offset + 1] = value >>> 8;\n      this[offset + 2] = value >>> 16;\n      this[offset + 3] = value >>> 24;\n      return offset + 4;\n    };\n    Buffer3.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 2147483647, -2147483648);\n      if (value < 0) value = 4294967295 + value + 1;\n      this[offset] = value >>> 24;\n      this[offset + 1] = value >>> 16;\n      this[offset + 2] = value >>> 8;\n      this[offset + 3] = value & 255;\n      return offset + 4;\n    };\n    Buffer3.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE(value, offset = 0) {\n      return wrtBigUInt64LE(this, value, offset, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n    });\n    Buffer3.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE(value, offset = 0) {\n      return wrtBigUInt64BE(this, value, offset, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n    });\n    function checkIEEE754(buf, value, offset, ext, max, min) {\n      if (offset + ext > buf.length) throw new RangeError(\"Index out of range\");\n      if (offset < 0) throw new RangeError(\"Index out of range\");\n    }\n    function writeFloat(buf, value, offset, littleEndian, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) {\n        checkIEEE754(buf, value, offset, 4, 34028234663852886e22, -34028234663852886e22);\n      }\n      ieee754.write(buf, value, offset, littleEndian, 23, 4);\n      return offset + 4;\n    }\n    Buffer3.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n      return writeFloat(this, value, offset, true, noAssert);\n    };\n    Buffer3.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n      return writeFloat(this, value, offset, false, noAssert);\n    };\n    function writeDouble(buf, value, offset, littleEndian, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) {\n        checkIEEE754(buf, value, offset, 8, 17976931348623157e292, -17976931348623157e292);\n      }\n      ieee754.write(buf, value, offset, littleEndian, 52, 8);\n      return offset + 8;\n    }\n    Buffer3.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n      return writeDouble(this, value, offset, true, noAssert);\n    };\n    Buffer3.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n      return writeDouble(this, value, offset, false, noAssert);\n    };\n    Buffer3.prototype.copy = function copy(target, targetStart, start, end) {\n      if (!Buffer3.isBuffer(target)) throw new TypeError(\"argument should be a Buffer\");\n      if (!start) start = 0;\n      if (!end && end !== 0) end = this.length;\n      if (targetStart >= target.length) targetStart = target.length;\n      if (!targetStart) targetStart = 0;\n      if (end > 0 && end < start) end = start;\n      if (end === start) return 0;\n      if (target.length === 0 || this.length === 0) return 0;\n      if (targetStart < 0) {\n        throw new RangeError(\"targetStart out of bounds\");\n      }\n      if (start < 0 || start >= this.length) throw new RangeError(\"Index out of range\");\n      if (end < 0) throw new RangeError(\"sourceEnd out of bounds\");\n      if (end > this.length) end = this.length;\n      if (target.length - targetStart < end - start) {\n        end = target.length - targetStart + start;\n      }\n      const len = end - start;\n      if (this === target && typeof Uint8Array.prototype.copyWithin === \"function\") {\n        this.copyWithin(targetStart, start, end);\n      } else {\n        Uint8Array.prototype.set.call(\n          target,\n          this.subarray(start, end),\n          targetStart\n        );\n      }\n      return len;\n    };\n    Buffer3.prototype.fill = function fill(val, start, end, encoding) {\n      if (typeof val === \"string\") {\n        if (typeof start === \"string\") {\n          encoding = start;\n          start = 0;\n          end = this.length;\n        } else if (typeof end === \"string\") {\n          encoding = end;\n          end = this.length;\n        }\n        if (encoding !== void 0 && typeof encoding !== \"string\") {\n          throw new TypeError(\"encoding must be a string\");\n        }\n        if (typeof encoding === \"string\" && !Buffer3.isEncoding(encoding)) {\n          throw new TypeError(\"Unknown encoding: \" + encoding);\n        }\n        if (val.length === 1) {\n          const code = val.charCodeAt(0);\n          if (encoding === \"utf8\" && code < 128 || encoding === \"latin1\") {\n            val = code;\n          }\n        }\n      } else if (typeof val === \"number\") {\n        val = val & 255;\n      } else if (typeof val === \"boolean\") {\n        val = Number(val);\n      }\n      if (start < 0 || this.length < start || this.length < end) {\n        throw new RangeError(\"Out of range index\");\n      }\n      if (end <= start) {\n        return this;\n      }\n      start = start >>> 0;\n      end = end === void 0 ? this.length : end >>> 0;\n      if (!val) val = 0;\n      let i;\n      if (typeof val === \"number\") {\n        for (i = start; i < end; ++i) {\n          this[i] = val;\n        }\n      } else {\n        const bytes = Buffer3.isBuffer(val) ? val : Buffer3.from(val, encoding);\n        const len = bytes.length;\n        if (len === 0) {\n          throw new TypeError('The value \"' + val + '\" is invalid for argument \"value\"');\n        }\n        for (i = 0; i < end - start; ++i) {\n          this[i + start] = bytes[i % len];\n        }\n      }\n      return this;\n    };\n    var errors = {};\n    function E(sym, getMessage, Base) {\n      errors[sym] = class NodeError extends Base {\n        constructor() {\n          super();\n          Object.defineProperty(this, \"message\", {\n            value: getMessage.apply(this, arguments),\n            writable: true,\n            configurable: true\n          });\n          this.name = `${this.name} [${sym}]`;\n          this.stack;\n          delete this.name;\n        }\n        get code() {\n          return sym;\n        }\n        set code(value) {\n          Object.defineProperty(this, \"code\", {\n            configurable: true,\n            enumerable: true,\n            value,\n            writable: true\n          });\n        }\n        toString() {\n          return `${this.name} [${sym}]: ${this.message}`;\n        }\n      };\n    }\n    E(\n      \"ERR_BUFFER_OUT_OF_BOUNDS\",\n      function(name) {\n        if (name) {\n          return `${name} is outside of buffer bounds`;\n        }\n        return \"Attempt to access memory outside buffer bounds\";\n      },\n      RangeError\n    );\n    E(\n      \"ERR_INVALID_ARG_TYPE\",\n      function(name, actual) {\n        return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`;\n      },\n      TypeError\n    );\n    E(\n      \"ERR_OUT_OF_RANGE\",\n      function(str, range, input) {\n        let msg = `The value of \"${str}\" is out of range.`;\n        let received = input;\n        if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n          received = addNumericalSeparator(String(input));\n        } else if (typeof input === \"bigint\") {\n          received = String(input);\n          if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n            received = addNumericalSeparator(received);\n          }\n          received += \"n\";\n        }\n        msg += ` It must be ${range}. Received ${received}`;\n        return msg;\n      },\n      RangeError\n    );\n    function addNumericalSeparator(val) {\n      let res = \"\";\n      let i = val.length;\n      const start = val[0] === \"-\" ? 1 : 0;\n      for (; i >= start + 4; i -= 3) {\n        res = `_${val.slice(i - 3, i)}${res}`;\n      }\n      return `${val.slice(0, i)}${res}`;\n    }\n    function checkBounds(buf, offset, byteLength2) {\n      validateNumber(offset, \"offset\");\n      if (buf[offset] === void 0 || buf[offset + byteLength2] === void 0) {\n        boundsError(offset, buf.length - (byteLength2 + 1));\n      }\n    }\n    function checkIntBI(value, min, max, buf, offset, byteLength2) {\n      if (value > max || value < min) {\n        const n = typeof min === \"bigint\" ? \"n\" : \"\";\n        let range;\n        if (byteLength2 > 3) {\n          if (min === 0 || min === BigInt(0)) {\n            range = `>= 0${n} and < 2${n} ** ${(byteLength2 + 1) * 8}${n}`;\n          } else {\n            range = `>= -(2${n} ** ${(byteLength2 + 1) * 8 - 1}${n}) and < 2 ** ${(byteLength2 + 1) * 8 - 1}${n}`;\n          }\n        } else {\n          range = `>= ${min}${n} and <= ${max}${n}`;\n        }\n        throw new errors.ERR_OUT_OF_RANGE(\"value\", range, value);\n      }\n      checkBounds(buf, offset, byteLength2);\n    }\n    function validateNumber(value, name) {\n      if (typeof value !== \"number\") {\n        throw new errors.ERR_INVALID_ARG_TYPE(name, \"number\", value);\n      }\n    }\n    function boundsError(value, length, type) {\n      if (Math.floor(value) !== value) {\n        validateNumber(value, type);\n        throw new errors.ERR_OUT_OF_RANGE(type || \"offset\", \"an integer\", value);\n      }\n      if (length < 0) {\n        throw new errors.ERR_BUFFER_OUT_OF_BOUNDS();\n      }\n      throw new errors.ERR_OUT_OF_RANGE(\n        type || \"offset\",\n        `>= ${type ? 1 : 0} and <= ${length}`,\n        value\n      );\n    }\n    var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;\n    function base64clean(str) {\n      str = str.split(\"=\")[0];\n      str = str.trim().replace(INVALID_BASE64_RE, \"\");\n      if (str.length < 2) return \"\";\n      while (str.length % 4 !== 0) {\n        str = str + \"=\";\n      }\n      return str;\n    }\n    function utf8ToBytes(string, units) {\n      units = units || Infinity;\n      let codePoint;\n      const length = string.length;\n      let leadSurrogate = null;\n      const bytes = [];\n      for (let i = 0; i < length; ++i) {\n        codePoint = string.charCodeAt(i);\n        if (codePoint > 55295 && codePoint < 57344) {\n          if (!leadSurrogate) {\n            if (codePoint > 56319) {\n              if ((units -= 3) > -1) bytes.push(239, 191, 189);\n              continue;\n            } else if (i + 1 === length) {\n              if ((units -= 3) > -1) bytes.push(239, 191, 189);\n              continue;\n            }\n            leadSurrogate = codePoint;\n            continue;\n          }\n          if (codePoint < 56320) {\n            if ((units -= 3) > -1) bytes.push(239, 191, 189);\n            leadSurrogate = codePoint;\n            continue;\n          }\n          codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;\n        } else if (leadSurrogate) {\n          if ((units -= 3) > -1) bytes.push(239, 191, 189);\n        }\n        leadSurrogate = null;\n        if (codePoint < 128) {\n          if ((units -= 1) < 0) break;\n          bytes.push(codePoint);\n        } else if (codePoint < 2048) {\n          if ((units -= 2) < 0) break;\n          bytes.push(\n            codePoint >> 6 | 192,\n            codePoint & 63 | 128\n          );\n        } else if (codePoint < 65536) {\n          if ((units -= 3) < 0) break;\n          bytes.push(\n            codePoint >> 12 | 224,\n            codePoint >> 6 & 63 | 128,\n            codePoint & 63 | 128\n          );\n        } else if (codePoint < 1114112) {\n          if ((units -= 4) < 0) break;\n          bytes.push(\n            codePoint >> 18 | 240,\n            codePoint >> 12 & 63 | 128,\n            codePoint >> 6 & 63 | 128,\n            codePoint & 63 | 128\n          );\n        } else {\n          throw new Error(\"Invalid code point\");\n        }\n      }\n      return bytes;\n    }\n    function asciiToBytes(str) {\n      const byteArray = [];\n      for (let i = 0; i < str.length; ++i) {\n        byteArray.push(str.charCodeAt(i) & 255);\n      }\n      return byteArray;\n    }\n    function utf16leToBytes(str, units) {\n      let c, hi, lo;\n      const byteArray = [];\n      for (let i = 0; i < str.length; ++i) {\n        if ((units -= 2) < 0) break;\n        c = str.charCodeAt(i);\n        hi = c >> 8;\n        lo = c % 256;\n        byteArray.push(lo);\n        byteArray.push(hi);\n      }\n      return byteArray;\n    }\n    function base64ToBytes(str) {\n      return base64.toByteArray(base64clean(str));\n    }\n    function blitBuffer(src, dst, offset, length) {\n      let i;\n      for (i = 0; i < length; ++i) {\n        if (i + offset >= dst.length || i >= src.length) break;\n        dst[i + offset] = src[i];\n      }\n      return i;\n    }\n    function isInstance(obj, type) {\n      return obj instanceof type || obj != null && obj.constructor != null && obj.constructor.name != null && obj.constructor.name === type.name;\n    }\n    function numberIsNaN(obj) {\n      return obj !== obj;\n    }\n    var hexSliceLookupTable = (function() {\n      const alphabet = \"0123456789abcdef\";\n      const table = new Array(256);\n      for (let i = 0; i < 16; ++i) {\n        const i16 = i * 16;\n        for (let j = 0; j < 16; ++j) {\n          table[i16 + j] = alphabet[i] + alphabet[j];\n        }\n      }\n      return table;\n    })();\n    function defineBigIntMethod(fn) {\n      return typeof BigInt === \"undefined\" ? BufferBigIntNotDefined : fn;\n    }\n    function BufferBigIntNotDefined() {\n      throw new Error(\"BigInt not supported\");\n    }\n  }\n});\n\n// buffer-shim.js\nvar import_buffer = __toESM(require_buffer(), 1);\nglobalThis.Buffer = import_buffer.Buffer;\n/*! Bundled license information:\n\nieee754/index.js:\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n*/\n","/**\n * VFS Module Server for Service Worker\n *\n * Serves JavaScript modules from VFS via fetch interception.\n * Routes file reads through a client (main thread) which uses the SAB-based\n * sync interface to fs.sync.worker for fast sync reads.\n *\n * This enables native ESM execution:\n * - import \"postcss\"  rewritten to  import \"/vfs-module/postcss\"\n * - Service worker intercepts and serves the actual module from VFS\n */\n\nconst sw = self as unknown as ServiceWorkerGlobalScope\nconst VFS_MODULE_PREFIX = '/vfs-module/'\nconst VFS_CONFIG_PREFIX = '/vfs-config/'\n\n/**\n * Store for bundled config code - populated via postMessage from main thread\n * Key is pattern (e.g., \"vite.config\"), value is { code, timestamp }\n */\nconst bundledConfigStore: Map<string, { code: string; timestamp: number }> = new Map()\n\n/**\n * Store for pre-registered worker module code - populated via postMessage from exec worker.\n * Used to serve rayon sub-worker scripts before VFS write propagates.\n * Key is the VFS file path (e.g., \"/ecommerce/node_modules/.../wasi-worker-browser.__worker2__.mjs\")\n */\nconst workerModuleStore: Map<string, { code: string; timestamp: number }> = new Map()\n\n/**\n * Store worker module code for immediate service worker serving.\n * Called via postMessage from exec worker  primary tab  service worker.\n */\nexport function storeWorkerModuleInSW(filePath: string, code: string): void {\n    workerModuleStore.set(filePath, { code, timestamp: Date.now() })\n    console.log(`[ModuleServer] Stored worker module: ${filePath} (${code.length} bytes)`)\n}\n\n/**\n * Create a Response with proper COEP/CORP headers for cross-origin isolated contexts.\n * Module workers in COEP pages require Cross-Origin-Resource-Policy: same-origin.\n */\nfunction moduleResponse(content: string, status = 200, contentType = 'application/javascript'): Response {\n    return new Response(content, {\n        status,\n        headers: {\n            'Content-Type': contentType,\n            'Cross-Origin-Resource-Policy': 'same-origin',\n            'Cross-Origin-Embedder-Policy': 'require-corp',\n        }\n    })\n}\n\n/**\n * Store bundled config code for later retrieval\n */\nexport function storeBundledConfigInSW(pattern: string, code: string): void {\n    bundledConfigStore.set(pattern, { code, timestamp: Date.now() })\n    console.log(`[ModuleServer] Stored bundled config for pattern \"${pattern}\" (${code.length} bytes)`)\n    console.log(`[ModuleServer] Config preview: ${code.substring(0, 300).replace(/\\n/g, '\\\\n')}...`)\n}\n\n/**\n * Get bundled config code by path pattern\n */\nfunction getBundledConfigFromSW(path: string): string | null {\n    // Check for patterns in the path\n    for (const [pattern, { code, timestamp }] of bundledConfigStore.entries()) {\n        if (path.includes(pattern)) {\n            // Check if it's recent (within last 60 seconds)\n            if (Date.now() - timestamp < 60000) {\n                console.log(`[ModuleServer] Found bundled config for \"${path}\" via pattern \"${pattern}\"`)\n                return code\n            } else {\n                console.log(`[ModuleServer] Bundled config for \"${pattern}\" is stale, removing`)\n                bundledConfigStore.delete(pattern)\n            }\n        }\n    }\n    return null\n}\n\n/**\n * Node.js builtin modules - should be provided by globalThis polyfills\n */\nconst NODE_BUILTINS = new Set([\n    'assert', 'buffer', 'child_process', 'cluster', 'console', 'constants',\n    'crypto', 'dgram', 'dns', 'domain', 'events', 'fs', 'http', 'https',\n    'module', 'net', 'os', 'path', 'perf_hooks', 'process', 'punycode',\n    'querystring', 'readline', 'repl', 'stream', 'string_decoder', 'sys',\n    'timers', 'tls', 'tty', 'url', 'util', 'v8', 'vm', 'worker_threads',\n    'zlib', 'async_hooks', 'http2', 'inspector', 'trace_events',\n    'diagnostics_channel', 'wasi', 'fs/promises',\n])\n\n/**\n * Recursively resolve nested export condition objects to a string path.\n * Handles packages like tslib that have nested conditions:\n *   { \"module\": { \"types\": \"...\", \"default\": \"./tslib.es6.mjs\" } }\n * Tries conditions in order: module, import, require, default, node\n * Prefers 'module' (esm-bundler, self-contained) over 'import' (mjs, often many sub-files)\n */\nfunction resolveExportCondition(exp: any): string | null {\n    if (typeof exp === 'string') return exp\n    if (!exp || typeof exp !== 'object') return null\n    // Try conditions in priority order - 'module' first for self-contained esm-bundler builds\n    for (const cond of ['module', 'import', 'require', 'default', 'node']) {\n        if (exp[cond] !== undefined) {\n            const result = resolveExportCondition(exp[cond])\n            if (result) return result\n        }\n    }\n    return null\n}\n\n/**\n * Check if a specifier is a Node.js builtin\n */\nfunction isNodeBuiltin(specifier: string): boolean {\n    if (specifier.startsWith('node:')) {\n        return true\n    }\n    return NODE_BUILTINS.has(specifier)\n}\n\n/**\n * Get the globalThis key for a builtin module\n */\nfunction getBuiltinGlobalKey(specifier: string): string {\n    let name = specifier.startsWith('node:') ? specifier.slice(5) : specifier\n    name = name.replace(/\\//g, '_')\n    return `__node_${name}`  // Single underscore at end to match esm-transforms.ts and node-polyfills.ts\n}\n\n/**\n * Generate a shim module that re-exports from globalThis polyfills\n */\nfunction generateBuiltinShim(specifier: string): string {\n    const globalKey = getBuiltinGlobalKey(specifier)\n    return `// Node.js builtin shim: ${specifier}\nconst mod = globalThis.${globalKey} || {};\nexport default mod;\nexport const {${Array.from(getCommonExports(specifier)).join(', ')}} = mod;\n`\n}\n\n/**\n * Generate a shim for rollup that re-exports from @rolldown/browser via globalThis\n * Uses globalThis.__node_rollup__ for acorn-based parseAst (set by node-polyfills.ts)\n * Uses globalThis.__rolldown__ for build/rollup (set by rolldown-async.ts)\n *\n * IMPORTANT: The rollup function is wrapped to intercept bundle.write() calls.\n * @rolldown/browser uses WASI's virtual filesystem, not our VFS.\n * We intercept write() and use generate() + our VFS instead.\n */\nfunction generateRolldownShim(specifier: string): string {\n    // Map rollup subpaths to rolldown equivalents\n    if (specifier === 'rollup/parseAst' || specifier.includes('parseAst')) {\n        return `// Rollup parseAst shim -> acorn-based implementation\nconst nodeRollup = globalThis.__node_rollup || globalThis.__node_rollup__ || {};\nexport const parseAst = nodeRollup.parseAst || ((code) => { throw new Error('parseAst not available'); });\nexport const parseAstAsync = nodeRollup.parseAst?.parseAstAsync || (async (code) => parseAst(code));\nexport default { parseAst, parseAstAsync };\n`\n    }\n\n    // For native.js or other internal files, provide stub exports\n    if (specifier.includes('native') || specifier.includes('dist/')) {\n        return `// Rollup native shim -> acorn-based implementation\nconst nodeRollup = globalThis.__node_rollup || globalThis.__node_rollup__ || {};\nexport const parse = nodeRollup.parseAst || ((code) => { throw new Error('parse not available'); });\nexport const parseAsync = nodeRollup.parseAst?.parseAstAsync || (async (code) => parse(code));\nexport const xxhashBase64Url = () => '';\nexport const xxhashBase36 = () => '';\nexport const xxhashBase16 = () => '';\nexport default { parse, parseAsync, xxhashBase64Url, xxhashBase36, xxhashBase16 };\n`\n    }\n\n    // Main rollup module - wrap rollup() to intercept bundle.write()\n    return `// Rollup shim -> @rolldown/browser + acorn parseAst\n// Wrapped to use our VFS for bundle.write() instead of WASI filesystem\nconst rolldownInternal = globalThis.__rolldown__ || {};\nconst nodeRollup = globalThis.__node_rollup || globalThis.__node_rollup__ || {};\nconst fs = globalThis.__node_fs || globalThis.__node_fs__;\nconst path = globalThis.__node_path || globalThis.__node_path__;\n\nexport const parseAst = nodeRollup.parseAst || ((code) => { throw new Error('parseAst not available'); });\nexport const parseAstAsync = nodeRollup.parseAst?.parseAstAsync || (async (code) => parseAst(code));\n\n// Wrap the rollup function to intercept bundle.write()\nconst originalRollup = rolldownInternal.rollup || rolldownInternal.build;\n\nexport const rollup = async function(inputOptions) {\n    console.log('[rollup shim] rollup() called with:', inputOptions?.input);\n    const bundle = await originalRollup(inputOptions);\n\n    // Wrap the bundle object to intercept write()\n    return {\n        // Preserve all original bundle properties\n        ...bundle,\n        cache: bundle.cache,\n        watchFiles: bundle.watchFiles,\n        closed: bundle.closed,\n\n        // Intercept close() to track bundle state\n        close: async function() {\n            console.log('[rollup shim] bundle.close() called');\n            return bundle.close?.();\n        },\n\n        // Preserve generate() as-is\n        generate: async function(outputOptions) {\n            console.log('[rollup shim] bundle.generate() called');\n            return bundle.generate(outputOptions);\n        },\n\n        // Intercept write() to use our VFS instead of WASI filesystem\n        write: async function(outputOptions) {\n            console.log('[rollup shim] bundle.write() called with dir:', outputOptions?.dir, 'file:', outputOptions?.file);\n\n            // Use generate() to get output in memory, then write to our VFS\n            const result = await bundle.generate(outputOptions);\n            console.log('[rollup shim] generate() returned', result?.output?.length || 0, 'chunks');\n\n            if (!fs || !fs.writeFileSync) {\n                console.error('[rollup shim] fs.writeFileSync not available, cannot write output');\n                return result;\n            }\n\n            if (!fs.mkdirSync) {\n                console.error('[rollup shim] fs.mkdirSync not available, cannot create directories');\n                return result;\n            }\n\n            const outDir = outputOptions?.dir || (outputOptions?.file ? (path?.dirname?.(outputOptions.file) || '/') : '/dist');\n            console.log('[rollup shim] Output directory:', outDir);\n\n            // Ensure output directory exists\n            try {\n                fs.mkdirSync(outDir, { recursive: true });\n                console.log('[rollup shim] Created output directory:', outDir);\n            } catch (err) {\n                // Directory might already exist\n                console.log('[rollup shim] mkdirSync result (may already exist):', err?.message || 'ok');\n            }\n\n            // Write each output chunk/asset to our VFS\n            for (const chunk of result.output || []) {\n                let filePath;\n                if (outputOptions?.file && chunk.type === 'chunk' && chunk.isEntry) {\n                    filePath = outputOptions.file;\n                } else {\n                    filePath = (path?.join ? path.join(outDir, chunk.fileName) : outDir + '/' + chunk.fileName);\n                }\n\n                // Ensure parent directory exists for this specific file\n                const parentDir = path?.dirname ? path.dirname(filePath) : filePath.substring(0, filePath.lastIndexOf('/'));\n                if (parentDir && parentDir !== outDir) {\n                    try {\n                        fs.mkdirSync(parentDir, { recursive: true });\n                    } catch (err) {\n                        // Directory might already exist\n                    }\n                }\n\n                // Write the file content\n                if (chunk.type === 'chunk') {\n                    console.log('[rollup shim] Writing chunk:', filePath, '(' + (chunk.code?.length || 0) + ' bytes)');\n                    fs.writeFileSync(filePath, chunk.code || '');\n\n                    // Write sourcemap if present\n                    if (chunk.map && outputOptions?.sourcemap) {\n                        const mapPath = filePath + '.map';\n                        console.log('[rollup shim] Writing sourcemap:', mapPath);\n                        fs.writeFileSync(mapPath, JSON.stringify(chunk.map));\n                    }\n                } else if (chunk.type === 'asset') {\n                    console.log('[rollup shim] Writing asset:', filePath, '(' + (chunk.source?.length || 0) + ' bytes)');\n                    fs.writeFileSync(filePath, chunk.source || '');\n                }\n            }\n\n            console.log('[rollup shim] bundle.write() complete, wrote', result.output?.length || 0, 'files to', outDir);\n            return result;\n        }\n    };\n};\n\nexport const watch = rolldownInternal.watch;\nexport const VERSION = rolldownInternal.VERSION || '4.0.0';\n\n// Default export - ensure rollup function is on it\nconst shimExports = {\n    ...rolldownInternal,\n    rollup,\n    parseAst,\n    parseAstAsync,\n    watch,\n    VERSION\n};\nexport default shimExports;\n`\n}\n\n/**\n * Generate a shim for esbuild that maps to @rolldown/browser\n *\n * Key mappings (esbuild -> rolldown):\n * - entryPoints -> input\n * - absWorkingDir -> cwd\n * - outdir -> output.dir\n * - outfile -> output.file\n * - format -> output.format\n * - sourcemap -> output.sourcemap\n * - minify -> output.minify (partial)\n * - external -> external\n * - platform -> platform\n * - loader -> moduleTypes (different format)\n * - resolveExtensions -> resolve.extensions\n * - mainFields -> resolve.mainFields\n * - conditions -> resolve.conditions\n */\nfunction generateEsbuildShim(specifier: string): string {\n    return `// esbuild shim -> @rolldown/browser\n// Maps esbuild API to rolldown API\nconst rolldown = globalThis.__rolldown__ || {};\nconst fs = globalThis.__node_fs || globalThis.__node_fs__;\n\n// Transform using rolldown's transformSync\nexport const transform = async (code, options = {}) => {\n    console.log('[esbuild shim] transform()');\n    if (rolldown.transformSync) {\n        try {\n            const result = rolldown.transformSync(options.sourcefile || 'input.js', code, {\n                loader: options.loader,\n                target: options.target,\n                jsx: options.jsx,\n                jsxFactory: options.jsxFactory,\n                jsxFragment: options.jsxFragment,\n            });\n            return { code: result.code, map: result.map || '', warnings: [] };\n        } catch (err) {\n            return { code, map: '', warnings: [{ text: err?.message || String(err) }] };\n        }\n    }\n    // Fallback: return code as-is\n    return { code, map: '', warnings: [] };\n};\n\nexport const transformSync = (code, options = {}) => {\n    console.log('[esbuild shim] transformSync()');\n    if (rolldown.transformSync) {\n        try {\n            const result = rolldown.transformSync(options.sourcefile || 'input.js', code, {\n                loader: options.loader,\n                target: options.target,\n            });\n            return { code: result.code, map: result.map || '', warnings: [] };\n        } catch (err) {\n            return { code, map: '', warnings: [{ text: err?.message || String(err) }] };\n        }\n    }\n    return { code, map: '', warnings: [] };\n};\n\n/**\n * Convert esbuild loader map to rolldown moduleTypes\n * esbuild: { '.png': 'dataurl', '.txt': 'text' }\n * rolldown: { '**/*.png': 'dataurl', '**/*.txt': 'text' }\n */\nfunction convertLoader(loader) {\n    if (!loader) return undefined;\n    const moduleTypes = {};\n    for (const [ext, type] of Object.entries(loader)) {\n        const pattern = ext.startsWith('.') ? '**/*' + ext : '**/*.' + ext;\n        moduleTypes[pattern] = type;\n    }\n    return moduleTypes;\n}\n\n/**\n * Build using rolldown - maps esbuild options to rolldown options\n */\nexport const build = async (options = {}) => {\n    console.log('[esbuild shim] build()', {\n        entryPoints: options.entryPoints,\n        stdin: !!options.stdin,\n        write: options.write\n    });\n\n    if (!rolldown.build) {\n        throw new Error('build not available - @rolldown/browser not loaded');\n    }\n\n    // Map esbuild options to rolldown options\n    const rolldownOptions = {\n        // Entry points: esbuild uses entryPoints, rolldown uses input\n        input: options.entryPoints || options.input,\n\n        // Working directory\n        cwd: options.absWorkingDir,\n\n        // External modules\n        external: options.external,\n\n        // Platform (browser/node/neutral)\n        platform: options.platform,\n\n        // Treeshaking\n        treeshake: options.treeShaking !== false,\n\n        // Module types (converted from esbuild's loader)\n        moduleTypes: convertLoader(options.loader),\n\n        // Resolve options\n        resolve: {\n            extensions: options.resolveExtensions,\n            mainFields: options.mainFields,\n            conditions: options.conditions,\n        },\n\n        // Output options - rolldown uses nested output object\n        output: {\n            dir: options.outdir,\n            file: options.outfile,\n            format: options.format === 'iife' ? 'iife' : options.format === 'cjs' ? 'cjs' : 'esm',\n            sourcemap: options.sourcemap,\n            minify: options.minify,\n            name: options.globalName, // for IIFE\n        },\n\n        // Plugins\n        plugins: options.plugins || [],\n    };\n\n    // Handle stdin input (virtual file)\n    if (options.stdin) {\n        const stdinPath = options.stdin.sourcefile || '/stdin.js';\n        rolldownOptions.input = stdinPath;\n        rolldownOptions.plugins = [\n            {\n                name: 'stdin-plugin',\n                resolveId(id) {\n                    if (id === stdinPath) return id;\n                    return null;\n                },\n                load(id) {\n                    if (id === stdinPath) return options.stdin.contents;\n                    return null;\n                }\n            },\n            ...(options.plugins || [])\n        ];\n    }\n\n    // Clean up undefined values\n    Object.keys(rolldownOptions).forEach(key => {\n        if (rolldownOptions[key] === undefined) delete rolldownOptions[key];\n    });\n    if (rolldownOptions.resolve) {\n        Object.keys(rolldownOptions.resolve).forEach(key => {\n            if (rolldownOptions.resolve[key] === undefined) delete rolldownOptions.resolve[key];\n        });\n        if (Object.keys(rolldownOptions.resolve).length === 0) delete rolldownOptions.resolve;\n    }\n    if (rolldownOptions.output) {\n        Object.keys(rolldownOptions.output).forEach(key => {\n            if (rolldownOptions.output[key] === undefined) delete rolldownOptions.output[key];\n        });\n        if (Object.keys(rolldownOptions.output).length === 0) delete rolldownOptions.output;\n    }\n\n    console.log('[esbuild shim] Mapped to rolldown options:', JSON.stringify(rolldownOptions, null, 2));\n\n    try {\n        const result = await rolldown.build(rolldownOptions);\n        console.log('[esbuild shim] build() completed successfully');\n\n        // Convert rolldown result to esbuild result format\n        const outputFiles = [];\n        if (result.output) {\n            for (const chunk of result.output) {\n                const path = chunk.fileName || 'out.js';\n                const contents = chunk.type === 'chunk' ? chunk.code : chunk.source;\n                outputFiles.push({\n                    path,\n                    contents: typeof contents === 'string' ? new TextEncoder().encode(contents) : contents,\n                    text: typeof contents === 'string' ? contents : new TextDecoder().decode(contents),\n                });\n            }\n        }\n\n        // Write files if write !== false\n        if (options.write !== false && fs && fs.writeFileSync) {\n            const outDir = options.outdir || (options.outfile ? options.outfile.substring(0, options.outfile.lastIndexOf('/')) : '/dist');\n            if (fs.mkdirSync) {\n                try { fs.mkdirSync(outDir, { recursive: true }); } catch {}\n            }\n            for (const file of outputFiles) {\n                const filePath = options.outfile || (outDir + '/' + file.path);\n                console.log('[esbuild shim] Writing:', filePath);\n                fs.writeFileSync(filePath, file.text);\n            }\n        }\n\n        return {\n            errors: [],\n            warnings: [],\n            outputFiles: options.write === false ? outputFiles : undefined,\n            metafile: options.metafile ? { inputs: {}, outputs: {} } : undefined,\n        };\n    } catch (err) {\n        console.error('[esbuild shim] build() failed:', err?.message || err);\n        return {\n            errors: [{ text: err?.message || String(err), location: null }],\n            warnings: [],\n            outputFiles: [],\n        };\n    }\n};\n\nexport const buildSync = () => {\n    throw new Error('buildSync not supported in browser');\n};\n\nexport const context = async (options = {}) => {\n    console.log('[esbuild shim] context()');\n    return {\n        rebuild: () => build(options),\n        watch: () => Promise.resolve(),\n        serve: () => Promise.resolve({ host: 'localhost', port: 0 }),\n        cancel: () => {},\n        dispose: () => {},\n    };\n};\n\nexport const formatMessages = async (messages, options) => messages.map(m => m.text || String(m));\nexport const formatMessagesSync = (messages, options) => messages.map(m => m.text || String(m));\nexport const analyzeMetafile = async (metafile) => JSON.stringify(metafile, null, 2);\nexport const analyzeMetafileSync = (metafile) => JSON.stringify(metafile, null, 2);\nexport const initialize = async () => { console.log('[esbuild shim] initialize()'); };\nexport const version = '0.20.0';\nexport const stop = () => {};\n\nexport default {\n    build, buildSync, transform, transformSync,\n    formatMessages, formatMessagesSync,\n    analyzeMetafile, analyzeMetafileSync,\n    context, initialize, version, stop\n};\n`\n}\n\n/**\n * Generate inline shim for @rolldown/pluginutils\n * This is a pure JS package providing composable filter utilities for Rolldown plugins.\n * NOT the same as @rollup/pluginutils  completely different API.\n * Source: https://github.com/rolldown/rolldown (MIT license)\n */\nfunction generateRolldownPluginutilsShim(): string {\n    return `// @rolldown/pluginutils inline shim\n// Composable filter utilities for Rolldown plugin hook filters\n\n// --- utils ---\nconst postfixRE = /[?#].*$/;\nexport function cleanUrl(url) { return url.replace(postfixRE, ''); }\nexport function extractQueryWithoutFragment(url) {\n    const qi = url.indexOf('?');\n    if (qi === -1) return '';\n    const fi = url.indexOf('#', qi);\n    return fi === -1 ? url.substring(qi) : url.substring(qi, fi);\n}\n\n// --- simple filters ---\nconst escapeRegexRE = /[-\\\\/\\\\\\\\^$*+?.()|[\\\\]{}]/g;\nfunction escapeRegex(str) { return str.replace(escapeRegexRE, '\\\\\\\\$&'); }\n\nexport function exactRegex(str, flags) { return new RegExp('^' + escapeRegex(str) + '$', flags); }\nexport function prefixRegex(str, flags) { return new RegExp('^' + escapeRegex(str), flags); }\n\nexport function makeIdFiltersToMatchWithQuery(input) {\n    if (!Array.isArray(input)) return makeIdFilterToMatchWithQuery(input);\n    return input.map(i => makeIdFilterToMatchWithQuery(i));\n}\nfunction makeIdFilterToMatchWithQuery(input) {\n    if (typeof input === 'string') return input + '{?*,}';\n    return makeRegexIdFilterToMatchWithQuery(input);\n}\nfunction makeRegexIdFilterToMatchWithQuery(input) {\n    return new RegExp(input.source.replace(/(?<!\\\\\\\\)\\\\$/g, '(?:\\\\\\\\?.*)?$'), input.flags);\n}\n\n// --- composable filters ---\nclass And { constructor(...args) { this.args = args; this.kind = 'and'; } }\nclass Or { constructor(...args) { this.args = args; this.kind = 'or'; } }\nclass Not { constructor(expr) { this.expr = expr; this.kind = 'not'; } }\nclass Id { constructor(p, params) { this.pattern = p; this.kind = 'id'; this.params = params ?? { cleanUrl: false }; } }\nclass ImporterId { constructor(p, params) { this.pattern = p; this.kind = 'importerId'; this.params = params ?? { cleanUrl: false }; } }\nclass ModuleType { constructor(p) { this.pattern = p; this.kind = 'moduleType'; } }\nclass Code { constructor(p) { this.pattern = p; this.kind = 'code'; } }\nclass Query { constructor(k, p) { this.key = k; this.pattern = p; this.kind = 'query'; } }\nclass Include { constructor(e) { this.expr = e; this.kind = 'include'; } }\nclass Exclude { constructor(e) { this.expr = e; this.kind = 'exclude'; } }\n\nexport function and(...args) { return new And(...args); }\nexport function or(...args) { return new Or(...args); }\nexport function not(expr) { return new Not(expr); }\nexport function id(pattern, params) { return new Id(pattern, params); }\nexport function importerId(pattern, params) { return new ImporterId(pattern, params); }\nexport function moduleType(pattern) { return new ModuleType(pattern); }\nexport function code(pattern) { return new Code(pattern); }\nexport function query(key, pattern) { return new Query(key, pattern); }\nexport function include(expr) { return new Include(expr); }\nexport function exclude(expr) { return new Exclude(expr); }\n\nexport function queries(queryFilter) {\n    const arr = Object.entries(queryFilter).map(([k, v]) => new Query(k, v));\n    return and(...arr);\n}\n\nexport function exprInterpreter(expr, code, id, moduleType, importerId, ctx = {}) {\n    switch (expr.kind) {\n        case 'and': return expr.args.every(e => exprInterpreter(e, code, id, moduleType, importerId, ctx));\n        case 'or': return expr.args.some(e => exprInterpreter(e, code, id, moduleType, importerId, ctx));\n        case 'not': return !exprInterpreter(expr.expr, code, id, moduleType, importerId, ctx);\n        case 'id': {\n            if (id === undefined) throw new Error('id required');\n            let m = id; if (expr.params.cleanUrl) m = cleanUrl(m);\n            return typeof expr.pattern === 'string' ? m === expr.pattern : expr.pattern.test(m);\n        }\n        case 'importerId': {\n            if (importerId === undefined) return false;\n            let m = importerId; if (expr.params.cleanUrl) m = cleanUrl(m);\n            return typeof expr.pattern === 'string' ? m === expr.pattern : expr.pattern.test(m);\n        }\n        case 'moduleType': return moduleType === expr.pattern;\n        case 'code': {\n            if (code === undefined) throw new Error('code required');\n            return typeof expr.pattern === 'string' ? code.includes(expr.pattern) : expr.pattern.test(code);\n        }\n        case 'query': {\n            if (id === undefined) throw new Error('id required');\n            if (!ctx.urlSearchParamsCache) ctx.urlSearchParamsCache = new URLSearchParams(extractQueryWithoutFragment(id));\n            const p = ctx.urlSearchParamsCache;\n            if (typeof expr.pattern === 'boolean') return expr.pattern ? p.has(expr.key) : !p.has(expr.key);\n            if (typeof expr.pattern === 'string') return p.get(expr.key) === expr.pattern;\n            return expr.pattern.test(p.get(expr.key) ?? '');\n        }\n        default: throw new Error('Unexpected expression: ' + JSON.stringify(expr));\n    }\n}\n\nexport function interpreterImpl(expr, code, id, moduleType, importerId, ctx = {}) {\n    let hasInclude = false;\n    for (const e of expr) {\n        if (e.kind === 'include') { hasInclude = true; if (exprInterpreter(e.expr, code, id, moduleType, importerId, ctx)) return true; }\n        else if (e.kind === 'exclude') { if (exprInterpreter(e.expr, code, id, moduleType, importerId, ctx)) return false; }\n    }\n    return !hasInclude;\n}\n\nexport function interpreter(exprs, code, id, moduleType, importerId) {\n    return interpreterImpl(Array.isArray(exprs) ? exprs : [exprs], code, id, moduleType, importerId);\n}\n\n// --- filter-vite-plugins ---\nexport function filterVitePlugins(plugins) {\n    if (!plugins) return [];\n    const arr = Array.isArray(plugins) ? plugins : [plugins];\n    const result = [];\n    for (const plugin of arr) {\n        if (!plugin) continue;\n        if (Array.isArray(plugin)) { result.push(...filterVitePlugins(plugin)); continue; }\n        if ('apply' in plugin) {\n            const a = plugin.apply;\n            if (typeof a === 'function') { try { if (a({}, { command: 'build', mode: 'production' })) result.push(plugin); } catch { result.push(plugin); } }\n            else if (a === 'serve') continue;\n            else result.push(plugin);\n        } else result.push(plugin);\n    }\n    return result;\n}\n\nexport default {\n    exactRegex, prefixRegex, makeIdFiltersToMatchWithQuery,\n    and, or, not, id, importerId, moduleType, code, query, include, exclude,\n    queries, interpreter, interpreterImpl, exprInterpreter, filterVitePlugins,\n    cleanUrl, extractQueryWithoutFragment\n};\n`\n}\n\n/**\n * Get common exports for a builtin module (for named exports)\n */\nfunction getCommonExports(specifier: string): Set<string> {\n    const name = specifier.startsWith('node:') ? specifier.slice(5) : specifier\n\n    // Common exports for frequently used modules\n    const exports: Record<string, string[]> = {\n        'fs': ['readFileSync', 'writeFileSync', 'existsSync', 'mkdirSync', 'readdirSync', 'statSync', 'unlinkSync', 'rmdirSync', 'promises', 'readFile', 'writeFile', 'mkdir', 'readdir', 'stat', 'unlink', 'rmdir', 'copyFile', 'rename', 'access', 'constants'],\n        'fs/promises': ['readFile', 'writeFile', 'mkdir', 'readdir', 'stat', 'unlink', 'rmdir', 'copyFile', 'rename', 'access'],\n        'path': ['join', 'resolve', 'dirname', 'basename', 'extname', 'relative', 'isAbsolute', 'normalize', 'parse', 'format', 'sep', 'posix', 'win32'],\n        'url': ['URL', 'URLSearchParams', 'parse', 'format', 'resolve', 'fileURLToPath', 'pathToFileURL'],\n        'util': ['promisify', 'inspect', 'format', 'deprecate', 'inherits', 'isDeepStrictEqual', 'types', 'TextDecoder', 'TextEncoder'],\n        'events': ['EventEmitter', 'once', 'on'],\n        'stream': ['Readable', 'Writable', 'Duplex', 'Transform', 'PassThrough', 'pipeline', 'finished'],\n        'buffer': ['Buffer', 'Blob', 'atob', 'btoa'],\n        'crypto': ['randomBytes', 'createHash', 'createHmac', 'randomUUID', 'subtle'],\n        'os': ['platform', 'arch', 'homedir', 'tmpdir', 'hostname', 'cpus', 'freemem', 'totalmem', 'type', 'release', 'EOL'],\n        'process': ['env', 'cwd', 'argv', 'exit', 'nextTick', 'platform', 'arch', 'version', 'versions', 'stdout', 'stderr', 'stdin'],\n        'http': ['createServer', 'request', 'get', 'Agent', 'Server', 'IncomingMessage', 'ServerResponse', 'STATUS_CODES'],\n        'https': ['createServer', 'request', 'get', 'Agent', 'Server'],\n        'module': ['createRequire', 'builtinModules', 'Module'],\n        'assert': ['ok', 'equal', 'notEqual', 'deepEqual', 'notDeepEqual', 'strictEqual', 'notStrictEqual', 'deepStrictEqual', 'notDeepStrictEqual', 'fail', 'throws', 'doesNotThrow', 'rejects', 'doesNotReject'],\n        'perf_hooks': ['performance', 'PerformanceObserver'],\n        'querystring': ['parse', 'stringify', 'escape', 'unescape'],\n        'timers': ['setTimeout', 'clearTimeout', 'setInterval', 'clearInterval', 'setImmediate', 'clearImmediate'],\n        'tty': ['isatty', 'ReadStream', 'WriteStream'],\n        'zlib': ['gzip', 'gunzip', 'deflate', 'inflate', 'createGzip', 'createGunzip', 'createDeflate', 'createInflate'],\n        'readline': ['createInterface', 'Interface'],\n        'child_process': ['spawn', 'exec', 'execSync', 'execFile', 'fork', 'spawnSync'],\n        'net': ['createServer', 'createConnection', 'connect', 'Socket', 'Server'],\n    }\n\n    return new Set(exports[name] || [])\n}\n\n// Primary client ID getter (set by service worker)\nlet getPrimaryClientId: (() => string | null) | null = null\n\nexport function setPrimaryClientIdGetter(getter: () => string | null): void {\n    getPrimaryClientId = getter\n}\n\n// Pending file read requests waiting for client response\nconst pendingReads = new Map<string, {\n    resolve: (content: Uint8Array | null) => void\n    reject: (error: Error) => void\n}>()\n\n// Cache resolved module paths and content\nconst moduleCache = new Map<string, { content: string; timestamp: number }>()\nconst pathCache = new Map<string, { resolved: string | null; timestamp: number }>()\nconst CACHE_TTL_MS = 10000 // 10 second cache\n\n/**\n * Module resolution cache: maps bare specifiers to resolved absolute file paths.\n * Used by rewriteImports/wrapCjsAsEsm to emit deterministic ~file/ URLs instead\n * of specifier?from= URLs, preventing combinatorial module loading explosion.\n * (e.g., the browser treating postcss?from=/a and postcss?from=/b as different modules)\n */\nconst resolvedSpecifierCache = new Map<string, string>()\n\n/**\n * Request a file read from a client (which uses sync fs infrastructure)\n * Prefers the primary client since it has direct VFS access\n */\nasync function requestFileRead(filePath: string): Promise<Uint8Array | null> {\n    const requestId = `${filePath}-${Date.now()}-${Math.random()}`\n\n    // Try to use the primary client first (has direct VFS access)\n    const primaryId = getPrimaryClientId?.()\n    let client: Client | undefined\n    let clientSource = 'none'\n\n    if (primaryId) {\n        client = await sw.clients.get(primaryId)\n        if (client) clientSource = 'primary'\n    }\n\n    // Fall back to any available client if primary not available\n    if (!client) {\n        const clients = await sw.clients.matchAll({ type: 'window' })\n        if (clients.length === 0) {\n            console.error('[ModuleServer] No clients available for file read')\n            return null\n        }\n        client = clients[0]\n        clientSource = 'fallback'\n    }\n\n    console.log(`[ModuleServer] Requesting file read via ${clientSource} client: ${filePath}`)\n\n    return new Promise((resolve, reject) => {\n        // Set up timeout\n        const timeout = setTimeout(() => {\n            pendingReads.delete(requestId)\n            console.error(`[ModuleServer] File read timeout after 5s: ${filePath}`)\n            reject(new Error(`File read timeout: ${filePath}`))\n        }, 5000)\n\n        pendingReads.set(requestId, {\n            resolve: (content) => {\n                clearTimeout(timeout)\n                pendingReads.delete(requestId)\n                console.log(`[ModuleServer] File read response received: ${filePath} (${content?.length || 0} bytes)`)\n                resolve(content)\n            },\n            reject: (error) => {\n                clearTimeout(timeout)\n                pendingReads.delete(requestId)\n                reject(error)\n            }\n        })\n\n        // Send read request to client\n        client!.postMessage({\n            type: 'vfs-read-request',\n            requestId,\n            filePath\n        })\n    })\n}\n\n/**\n * Handle file read response from client\n */\nexport function handleFileReadResponse(requestId: string, content: Uint8Array | null, error?: string): void {\n    const pending = pendingReads.get(requestId)\n    if (!pending) {\n        console.warn('[ModuleServer] No pending request for:', requestId)\n        return\n    }\n\n    if (error) {\n        pending.reject(new Error(error))\n    } else {\n        pending.resolve(content)\n    }\n}\n\n/**\n * Read a file from VFS via client\n */\nasync function readFileFromVfs(filePath: string): Promise<Uint8Array | null> {\n    try {\n        const content = await requestFileRead(filePath)\n        if (content && content.length > 0) {\n            return content\n        }\n        return null // 0-byte = likely a directory\n    } catch (err) {\n        console.error('[ModuleServer] Error reading file:', filePath, err)\n        return null\n    }\n}\n\n/**\n * Check if a file exists in VFS by trying to read it\n */\nasync function fileExists(filePath: string): Promise<boolean> {\n    // Check path cache first\n    const cached = pathCache.get(filePath)\n    if (cached && Date.now() - cached.timestamp < CACHE_TTL_MS) {\n        return cached.resolved !== null\n    }\n\n    const content = await readFileFromVfs(filePath)\n    // Require non-empty content: 0-byte results typically mean a directory was read\n    // (VFS returns empty data for directories instead of ENOENT)\n    const exists = content !== null && content.length > 0\n    pathCache.set(filePath, { resolved: exists ? filePath : null, timestamp: Date.now() })\n    return exists\n}\n\n/**\n * Try multiple paths and return the first one that exists\n */\nasync function tryPaths(paths: string[]): Promise<string | null> {\n    for (const path of paths) {\n        if (await fileExists(path)) {\n            return path\n        }\n    }\n    return null\n}\n\n/**\n * Resolve a module specifier to a VFS file path\n * Handles: postcss  /node_modules/postcss/lib/postcss.js (via package.json)\n *\n * Optimized: reads package.json FIRST to skip non-existent directories quickly (1 read)\n * instead of trying multiple direct paths (4-7 reads per directory).\n * For subpath imports, checks exports before direct paths (matches Node.js algorithm).\n */\nasync function resolveModulePath(specifier: string, importerDir?: string | null): Promise<string | null> {\n    // Check cache first (include importerDir in cache key for correctness)\n    const cacheKey = importerDir ? `${specifier}::${importerDir}` : specifier\n    const cached = pathCache.get(cacheKey)\n    if (cached && Date.now() - cached.timestamp < CACHE_TTL_MS) {\n        return cached.resolved\n    }\n\n    // Remove node: prefix\n    const cleanSpec = specifier.startsWith('node:') ? specifier.slice(5) : specifier\n\n    // Try direct path first (only for path-like specifiers, not bare package names)\n    const isBareSpecifier = !cleanSpec.startsWith('/') && !cleanSpec.startsWith('.')\n    if (!isBareSpecifier) {\n        const basePath = cleanSpec.startsWith('/') ? cleanSpec : `/${cleanSpec}`\n        const directResult = await tryPaths([\n            basePath,\n            `${basePath}.js`,\n            `${basePath}.mjs`,\n            `${basePath}/index.js`,\n            `${basePath}/index.mjs`,\n        ])\n        if (directResult) {\n            pathCache.set(cacheKey, { resolved: directResult, timestamp: Date.now() })\n            return directResult\n        }\n        // For absolute paths, don't fall through to node_modules walk-up\n        // (would construct nonsensical paths like /node_modules//ecommerce/...)\n        if (cleanSpec.startsWith('/')) {\n            console.warn('[ModuleServer] Direct path not found, not falling through to node_modules:', cleanSpec)\n            pathCache.set(cacheKey, { resolved: null, timestamp: Date.now() })\n            return null\n        }\n    }\n\n    // Build node_modules search paths by walking up from importer directory\n    // This mirrors Node.js module resolution: check node_modules at each parent level\n    // Skip directories that would create invalid paths\n    const nodeModulesPaths: string[] = []\n    if (importerDir) {\n        const parts = importerDir.split('/').filter(Boolean)\n        for (let i = parts.length; i >= 0; i--) {\n            // Skip node_modules directories (would create node_modules/node_modules)\n            if (i > 0 && parts[i - 1] === 'node_modules') continue\n            // Skip scope directories (@scope/pkg)  scopes don't have their own node_modules\n            if (i > 0 && parts[i - 1].startsWith('@')) continue\n            const dir = '/' + parts.slice(0, i).join('/')\n            const nmDir = (dir === '/' ? '' : dir) + '/node_modules'\n            nodeModulesPaths.push(nmDir)\n        }\n    }\n    // Always include root node_modules as fallback\n    if (!nodeModulesPaths.includes('/node_modules')) {\n        nodeModulesPaths.push('/node_modules')\n    }\n\n    // Parse package name and subpath\n    let packageName: string\n    let subPath: string | null = null\n\n    if (cleanSpec.startsWith('@')) {\n        const parts = cleanSpec.split('/')\n        packageName = parts.length >= 2 ? `${parts[0]}/${parts[1]}` : cleanSpec\n        subPath = parts.length > 2 ? parts.slice(2).join('/') : null\n    } else {\n        const slashIdx = cleanSpec.indexOf('/')\n        if (slashIdx > 0) {\n            packageName = cleanSpec.slice(0, slashIdx)\n            subPath = cleanSpec.slice(slashIdx + 1)\n        } else {\n            packageName = cleanSpec\n        }\n    }\n\n    for (const nmPath of nodeModulesPaths) {\n        const pkgPath = `${nmPath}/${packageName}`\n\n        // Read package.json FIRST  if it doesn't exist, skip this node_modules entirely.\n        // This is the key optimization: 1 read to skip vs. 4-7 reads trying direct paths.\n        const pkgJsonData = await readFileFromVfs(`${pkgPath}/package.json`)\n        if (!pkgJsonData) continue // Package not in this node_modules\n\n        let pkgJson: any\n        try {\n            pkgJson = JSON.parse(new TextDecoder().decode(pkgJsonData))\n        } catch {\n            continue // Invalid package.json\n        }\n\n        if (subPath) {\n            // Subpath resolution: check exports FIRST (Node.js algorithm),\n            // then fall back to direct paths. Don't fall through to main entry.\n            const subResult = await resolveSubpath(pkgPath, subPath, pkgJson)\n            if (subResult) {\n                pathCache.set(cacheKey, { resolved: subResult, timestamp: Date.now() })\n                return subResult\n            }\n            // Subpath not found in this package  try next node_modules\n            continue\n        }\n\n        // Main entry resolution: exports['.'] > module > main > index.js\n        let entry: string | null = null\n        if (pkgJson.exports) {\n            if (typeof pkgJson.exports === 'string') {\n                entry = pkgJson.exports\n            } else if (pkgJson.exports['.']) {\n                entry = resolveExportCondition(pkgJson.exports['.'])\n            }\n        }\n        if (!entry && pkgJson.module) entry = pkgJson.module\n        if (!entry && pkgJson.main) entry = pkgJson.main\n        if (!entry) entry = 'index.js'\n\n        const entryPath = `${pkgPath}/${entry.replace(/^\\.\\//, '')}`\n        const entryResult = await tryPaths([\n            entryPath,\n            `${entryPath}.js`,\n            `${entryPath}.mjs`,\n        ])\n        if (entryResult) {\n            pathCache.set(cacheKey, { resolved: entryResult, timestamp: Date.now() })\n            return entryResult\n        }\n\n        // Fallback to index.js\n        const fallbackResult = await tryPaths([\n            `${pkgPath}/index.js`,\n            `${pkgPath}/index.mjs`,\n        ])\n        if (fallbackResult) {\n            pathCache.set(cacheKey, { resolved: fallbackResult, timestamp: Date.now() })\n            return fallbackResult\n        }\n    }\n\n    pathCache.set(cacheKey, { resolved: null, timestamp: Date.now() })\n    return null\n}\n\n/**\n * Resolve a subpath import using package.json exports, then direct paths.\n * Matches Node.js resolution: exports take priority over direct file access.\n */\nasync function resolveSubpath(pkgPath: string, subPath: string, pkgJson: any): Promise<string | null> {\n    // 1. Check exports map first (Node.js resolution algorithm)\n    if (pkgJson.exports && typeof pkgJson.exports === 'object') {\n        // Try various subpath patterns\n        const subpathPatterns = [\n            `./${subPath}`,\n            `./${subPath.replace(/\\.js$/, '')}`,\n            `./${subPath.replace(/\\.mjs$/, '')}`,\n        ]\n\n        for (const pattern of subpathPatterns) {\n            const exp = pkgJson.exports[pattern]\n            if (exp) {\n                const resolved = resolveExportCondition(exp)\n                if (resolved) {\n                    const resolvedPath = `${pkgPath}/${resolved.replace(/^\\.\\//, '')}`\n                    const subExportResult = await tryPaths([\n                        resolvedPath,\n                        `${resolvedPath}.js`,\n                        `${resolvedPath}.mjs`,\n                    ])\n                    if (subExportResult) {\n                        return subExportResult\n                    }\n                }\n            }\n        }\n\n        // Try wildcard exports pattern matching\n        for (const [key, value] of Object.entries(pkgJson.exports)) {\n            if (key.includes('*')) {\n                // Pattern like \"./*\" or \"./lib/*\"\n                const pattern = key.replace(/\\*/g, '(.*)')\n                const regex = new RegExp(`^${pattern.replace(/\\//g, '\\\\/')}$`)\n                const match = `./${subPath}`.match(regex)\n                if (match && match[1]) {\n                    const resolved = resolveExportCondition(value)\n                    if (resolved) {\n                        const actualPath = resolved.replace(/\\*/g, match[1])\n                        const wildcardPath = `${pkgPath}/${actualPath.replace(/^\\.\\//, '')}`\n                        const wildcardResult = await tryPaths([\n                            wildcardPath,\n                            `${wildcardPath}.js`,\n                            `${wildcardPath}.mjs`,\n                        ])\n                        if (wildcardResult) {\n                            return wildcardResult\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // 2. Fall back to direct paths (for packages without exports map)\n    return tryPaths([\n        `${pkgPath}/${subPath}`,\n        `${pkgPath}/${subPath}.js`,\n        `${pkgPath}/${subPath}.mjs`,\n        `${pkgPath}/${subPath}/index.js`,\n    ])\n}\n\n/**\n * Handle a fetch request for a VFS module\n */\nexport async function handleModuleFetch(request: Request): Promise<Response | null> {\n    const url = new URL(request.url)\n\n    // Handle /vfs-config/ requests - serve bundled config code\n    if (url.pathname.startsWith(VFS_CONFIG_PREFIX)) {\n        const configPath = decodeURIComponent(url.pathname.slice(VFS_CONFIG_PREFIX.length))\n        console.log('[ModuleServer] Config request:', configPath)\n\n        const bundledCode = getBundledConfigFromSW(configPath)\n        if (bundledCode) {\n            console.log(`[ModuleServer] Serving bundled config for: ${configPath} (${bundledCode.length} bytes)`)\n            console.log(`[ModuleServer] Config content preview: ${bundledCode.substring(0, 500).replace(/\\n/g, '\\\\n')}...`)\n            return moduleResponse(bundledCode)\n        }\n\n        console.warn('[ModuleServer] No bundled config found for:', configPath)\n        return moduleResponse(`// Config not found: ${configPath}\\nthrow new Error(\"Config not found: ${configPath}\");`, 404)\n    }\n\n    // Only handle /vfs-module/ requests\n    if (!url.pathname.startsWith(VFS_MODULE_PREFIX)) {\n        return null\n    }\n\n    let specifier = decodeURIComponent(url.pathname.slice(VFS_MODULE_PREFIX.length))\n    // Normalize file paths: if specifier looks like a VFS path (contains node_modules or file extensions)\n    // but is missing leading /, add it. This happens when blob URL imports use absolute /vfs-module/ paths.\n    // Don't touch ~file/ prefixed specifiers  those are handled separately below.\n    if (!specifier.startsWith('/') && !specifier.startsWith('@') && !specifier.startsWith('~file/') &&\n        (specifier.includes('/node_modules/') || specifier.includes('.mjs') || specifier.includes('.js'))) {\n        specifier = '/' + specifier\n    }\n    // Extract importer directory from ?from= param (tells us which node_modules to search)\n    const importerDir = url.searchParams.get('from') ? decodeURIComponent(url.searchParams.get('from')!) : null\n    console.log('[ModuleServer] Fetching module:', specifier, importerDir ? `(from ${importerDir})` : '')\n\n    // @rolldown/pluginutils  serve inline shim (pure JS composable filter utilities)\n    // This is NOT the same as @rollup/pluginutils  completely different API\n    if (specifier === '@rolldown/pluginutils' || specifier.startsWith('@rolldown/pluginutils/')) {\n        console.log('[ModuleServer] Serving @rolldown/pluginutils shim:', specifier)\n        return moduleResponse(generateRolldownPluginutilsShim())\n    }\n\n    // Redirect rollup imports to @rolldown/browser (which is loaded globally)\n    // rollup's native.js requires WASM/native bindings that don't exist in browser\n    // @rolldown/browser provides API-compatible implementation\n    if (specifier === 'rollup' || specifier === 'rollup/parseAst' ||\n        specifier.startsWith('rollup/') || specifier.includes('rollup/dist/')) {\n        console.log('[ModuleServer] Redirecting rollup to @rolldown/browser shim:', specifier)\n        return moduleResponse(generateRolldownShim(specifier))\n    }\n\n    // Redirect esbuild imports to browser shim (native bindings required)\n    if (specifier === 'esbuild' || specifier.startsWith('esbuild/')) {\n        console.log('[ModuleServer] Redirecting esbuild to browser shim:', specifier)\n        return moduleResponse(generateEsbuildShim(specifier))\n    }\n\n    // Handle native deps that have globalThis polyfills\n    // These are externalized by rolldown and loaded separately (WASM, no-op stubs, etc.)\n    if (specifier === 'lightningcss' || specifier.startsWith('lightningcss/')) {\n        console.log('[ModuleServer] Serving lightningcss shim:', specifier)\n        // Use lazy getters so values resolve at call time, not import time.\n        // globalThis.__node_lightningcss is set asynchronously by lightningcss-loader.\n        return moduleResponse(`// lightningcss shim -> globalThis.__node_lightningcss (lazy)\nconst _mod = () => globalThis.__node_lightningcss || {};\nexport default new Proxy({}, { get: (_, k) => _mod()[k] });\nexport function transform(opts) {\n  const fn = _mod().transform;\n  if (!fn) throw new Error('lightningcss not loaded yet');\n  const r = fn(opts);\n  if (r && !r.warnings) r.warnings = [];\n  return r;\n}\nexport function transformSync(opts) { return transform(opts); }\nexport function bundle(...a) { return _mod().bundle(...a); }\nexport function bundleAsync(...a) { return _mod().bundleAsync(...a); }\nexport function browserslistToTargets(...a) { return _mod().browserslistToTargets(...a); }\nexport function composeVisitors(...a) { return _mod().composeVisitors(...a); }\nexport function transformStyleAttribute(...a) { return _mod().transformStyleAttribute(...a); }\nexport const Features = new Proxy({}, { get(_, k) { return (_mod().Features || {})[k]; } });\n`)\n    }\n\n    if (specifier === 'fsevents' || specifier.startsWith('fsevents/')) {\n        // fsevents is macOS-only, return empty stub\n        console.log('[ModuleServer] Serving fsevents stub:', specifier)\n        return moduleResponse(`// fsevents stub (macOS-only, not available in browser)\nexport default {};\n`)\n    }\n\n    // Handle pre-registered worker modules (~worker/ prefix)\n    // Used for rayon sub-worker scripts: code is pre-transformed with absolute import URLs,\n    // stored in SW via postMessage, and served as native ESM module workers.\n    if (specifier.startsWith('~worker/')) {\n        console.log('[ModuleServer] Worker module request:', specifier)\n\n        // Check immediately, then retry with delays (store-worker-module may be in transit)\n        const stored = workerModuleStore.get(specifier)\n        if (stored && Date.now() - stored.timestamp < 60000) {\n            console.log(`[ModuleServer] Serving worker module: ${specifier} (${stored.code.length} bytes)`)\n            return moduleResponse(stored.code)\n        }\n\n        for (let i = 0; i < 30; i++) {\n            await new Promise(r => setTimeout(r, 100))\n            const retried = workerModuleStore.get(specifier)\n            if (retried && Date.now() - retried.timestamp < 60000) {\n                console.log(`[ModuleServer] Serving worker module after ${i + 1} retries: ${specifier}`)\n                return moduleResponse(retried.code)\n            }\n        }\n\n        console.error('[ModuleServer] Worker module not found after retries:', specifier)\n        return moduleResponse(`// Worker module not found: ${specifier}\\nthrow new Error(\"Worker module not found: ${specifier}\");`, 500)\n    }\n\n    // Handle direct file paths (from relative import resolution)\n    // ~file prefix indicates a direct VFS file path\n    if (specifier.startsWith('~file/')) {\n        const filePath = specifier.slice(5) // Remove '~file' prefix, keep leading /\n        console.log('[ModuleServer] Direct file access:', filePath)\n\n        // Redirect rollup files to @rolldown/browser shim\n        if (filePath.includes('/rollup/dist/') || filePath.includes('/rollup/')) {\n            const rollupSubpath = filePath.includes('/rollup/dist/')\n                ? 'rollup/' + filePath.split('/rollup/dist/')[1]\n                : 'rollup/' + filePath.split('/rollup/')[1]\n            console.log('[ModuleServer] Redirecting rollup file to @rolldown/browser:', filePath, '->', rollupSubpath)\n            return moduleResponse(generateRolldownShim(rollupSubpath))\n        }\n\n        // Check pre-registered worker module store first (exec worker pre-registers\n        // transformed rayon worker scripts before VFS write propagates)\n        const storedModule = workerModuleStore.get(filePath)\n        if (storedModule && Date.now() - storedModule.timestamp < 60000) {\n            console.log(`[ModuleServer] Serving pre-registered worker module: ${filePath} (${storedModule.code.length} bytes)`)\n            workerModuleStore.delete(filePath) // One-time use\n            return moduleResponse(storedModule.code)\n        }\n\n        let content = await readFileFromVfs(filePath)\n\n        // Retry for files that may be in transit (written by exec worker, not yet visible).\n        // The exec worker writes to VFS via SAB, and the service worker reads via postMessage.\n        // There can be a propagation delay, so retry with short waits.\n        if (!content) {\n            for (let retry = 0; retry < 10; retry++) {\n                await new Promise(r => setTimeout(r, 50))\n                // Check if pre-registered module arrived via postMessage\n                const stored = workerModuleStore.get(filePath)\n                if (stored && Date.now() - stored.timestamp < 60000) {\n                    console.log(`[ModuleServer] Serving pre-registered worker module (after ${retry + 1} retries): ${filePath}`)\n                    workerModuleStore.delete(filePath)\n                    return moduleResponse(stored.code)\n                }\n                content = await readFileFromVfs(filePath)\n                if (content) {\n                    console.log(`[ModuleServer] File found after ${retry + 1} retries: ${filePath}`)\n                    break\n                }\n            }\n        }\n\n        if (!content) {\n            // Try with common extensions\n            for (const ext of ['.js', '.mjs', '.ts', '/index.js', '/index.mjs']) {\n                const tryPath = filePath + ext\n                const tryContent = await readFileFromVfs(tryPath)\n                if (tryContent) {\n                    const isJson = tryPath.endsWith('.json')\n                    let responseContent: string\n                    if (isJson) {\n                        responseContent = `export default ${new TextDecoder().decode(tryContent)};`\n                    } else {\n                        responseContent = new TextDecoder().decode(tryContent)\n                        if (isCjsModule(responseContent)) {\n                            responseContent = wrapCjsAsEsm(responseContent, tryPath)\n                        } else {\n                            responseContent = rewriteImports(responseContent, tryPath)\n                        }\n                    }\n                    return moduleResponse(responseContent, 200, isJson ? 'application/json' : 'application/javascript')\n                }\n            }\n            console.warn('[ModuleServer] Direct file not found:', filePath)\n            return moduleResponse(`// File not found: ${filePath}\\nthrow new Error(\"File not found: ${filePath}\");`, 404)\n        }\n\n        const isJson = filePath.endsWith('.json')\n        let responseContent: string\n        if (isJson) {\n            responseContent = `export default ${new TextDecoder().decode(content)};`\n        } else {\n            responseContent = new TextDecoder().decode(content)\n            if (isCjsModule(responseContent)) {\n                responseContent = wrapCjsAsEsm(responseContent, filePath)\n            } else {\n                responseContent = rewriteImports(responseContent, filePath)\n            }\n        }\n        return moduleResponse(responseContent, 200, isJson ? 'application/json' : 'application/javascript')\n    }\n\n    // Handle Node.js builtins - return shim that re-exports from globalThis\n    if (isNodeBuiltin(specifier)) {\n        console.log('[ModuleServer] Serving builtin shim:', specifier)\n        return moduleResponse(generateBuiltinShim(specifier))\n    }\n\n    // Resolve the module path\n    const resolvedPath = await resolveModulePath(specifier, importerDir)\n    if (!resolvedPath) {\n        console.warn('[ModuleServer] Module not found:', specifier)\n        return moduleResponse(`// Module not found: ${specifier}\\nthrow new Error(\"Module not found: ${specifier}\");`, 404)\n    }\n\n    console.log('[ModuleServer] Resolved:', specifier, '->', resolvedPath)\n\n    // Cache the resolution so rewriteImports can use ~file/ URLs for this specifier\n    // instead of specifier?from= URLs. This deduplicates module loads: the same package\n    // imported from different locations resolves to the same ~file URL.\n    resolvedSpecifierCache.set(specifier, resolvedPath)\n\n    // Serve the resolved file directly (can't use redirect  Chrome rejects redirects\n    // for module worker scripts with redirect: 'error' mode)\n    const content = await readFileFromVfs(resolvedPath)\n    if (!content) {\n        console.warn('[ModuleServer] Resolved file not readable:', resolvedPath)\n        return moduleResponse(`// File not found: ${resolvedPath}\\nthrow new Error(\"File not found: ${resolvedPath}\");`, 404)\n    }\n\n    const isJson = resolvedPath.endsWith('.json')\n    let responseContent: string\n    if (isJson) {\n        responseContent = `export default ${new TextDecoder().decode(content)};`\n    } else {\n        responseContent = new TextDecoder().decode(content)\n        if (isCjsModule(responseContent)) {\n            responseContent = wrapCjsAsEsm(responseContent, resolvedPath)\n        } else {\n            responseContent = rewriteImports(responseContent, resolvedPath)\n        }\n    }\n    return moduleResponse(responseContent, 200, isJson ? 'application/json' : 'application/javascript')\n}\n\n/**\n * Resolve a relative path against a base path\n */\nfunction resolveRelativePath(relativePath: string, basePath: string): string {\n    // Get the directory of the base file\n    const baseDir = basePath.substring(0, basePath.lastIndexOf('/')) || '/'\n\n    if (relativePath.startsWith('./')) {\n        return baseDir + relativePath.slice(1)\n    }\n\n    if (relativePath.startsWith('../')) {\n        const parts = baseDir.split('/').filter(Boolean)\n        const relParts = relativePath.split('/')\n\n        for (const part of relParts) {\n            if (part === '..') {\n                parts.pop()\n            } else if (part !== '.') {\n                parts.push(part)\n            }\n        }\n\n        return '/' + parts.join('/')\n    }\n\n    // Absolute path\n    if (relativePath.startsWith('/')) {\n        return relativePath\n    }\n\n    // Bare specifier - return as-is\n    return relativePath\n}\n\n/**\n * Detect if code is CommonJS (uses require/module.exports without ESM syntax)\n * Returns true if the module should be wrapped in a CJS-to-ESM shim\n */\nfunction isCjsModule(code: string): boolean {\n    // Quick check: if it has top-level ESM syntax, it's ESM\n    // Check for import/export at the start of lines (not inside strings/comments)\n    const hasEsmImport = /^\\s*import\\s+/m.test(code)\n    const hasEsmExport = /^\\s*export\\s+/m.test(code)\n    if (hasEsmImport || hasEsmExport) return false\n\n    // Check for CJS patterns\n    const hasRequire = /\\brequire\\s*\\(/m.test(code)\n    const hasModuleExports = /\\bmodule\\.exports\\b/m.test(code)\n    const hasExportsAssign = /\\bexports\\.\\w+\\s*=/m.test(code)\n    const hasDefineProperty = /Object\\.defineProperty\\s*\\(\\s*exports/m.test(code)\n\n    return hasRequire || hasModuleExports || hasExportsAssign || hasDefineProperty\n}\n\n/**\n * Wrap a CJS module in an ESM-compatible shim\n * Provides module/exports/require/__dirname/__filename and re-exports as ESM default.\n *\n * Pre-scans require() calls and converts them to static ESM imports from /vfs-module/ URLs.\n * This routes CJS dependencies through the service worker (which can access VFS directly)\n * instead of relying on mockRequire's SAB-based VFS access in the exec worker.\n */\nfunction wrapCjsAsEsm(code: string, filePath: string): string {\n    const dirPath = filePath.substring(0, filePath.lastIndexOf('/')) || '/'\n\n    // Pre-scan for static require() calls\n    const requireRegex = /\\brequire\\s*\\(\\s*(['\"])([^'\"]+)\\1\\s*\\)/g\n    const deps = new Map<string, string>() // specifier -> variable name\n    let match\n    let counter = 0\n\n    while ((match = requireRegex.exec(code)) !== null) {\n        const specifier = match[2]\n        if (!deps.has(specifier)) {\n            deps.set(specifier, `__cjs_dep_${counter++}`)\n        }\n    }\n\n    // Build static ESM imports for each dependency\n    const imports: string[] = []\n    const switchCases: string[] = []\n\n    for (const [specifier, varName] of deps) {\n        let moduleUrl: string\n\n        if (specifier.startsWith('./') || specifier.startsWith('../')) {\n            // Relative path - resolve to absolute, use ~file prefix for direct VFS access\n            const resolved = resolveRelativePath(specifier, filePath)\n            moduleUrl = `${VFS_MODULE_PREFIX}~file${resolved}`\n        } else if (specifier.startsWith('/')) {\n            moduleUrl = `${VFS_MODULE_PREFIX}~file${specifier}`\n        } else {\n            // Bare specifier: check resolution cache for deterministic ~file/ URL\n            const cachedPath = resolvedSpecifierCache.get(specifier)\n            if (cachedPath) {\n                moduleUrl = `${VFS_MODULE_PREFIX}~file${cachedPath}`\n            } else {\n                moduleUrl = `${VFS_MODULE_PREFIX}${specifier}?from=${encodeURIComponent(dirPath)}`\n            }\n        }\n\n        imports.push(`import ${varName} from '${moduleUrl}';`)\n        // Escape single quotes in specifier for the switch case string\n        const escapedSpec = specifier.replace(/'/g, \"\\\\'\")\n        switchCases.push(`    case '${escapedSpec}': return ${varName};`)\n    }\n\n    const importSection = imports.length > 0 ? imports.join('\\n') + '\\n' : ''\n    // Build a lazy switch-based require that defers import binding access until call time.\n    // This avoids TDZ errors in circular dependencies  import bindings are only accessed\n    // when require() is actually called, by which time the circular dep has resolved.\n    const switchBody = switchCases.length > 0\n        ? `\\n  switch(id) {\\n${switchCases.join('\\n')}\\n  }`\n        : ''\n\n    return `${importSection}// CJS-to-ESM wrapper for: ${filePath}\nvar module = { exports: {} };\nvar exports = module.exports;\nvar __filename = \"${filePath}\";\nvar __dirname = \"${dirPath}\";\nvar __baseRequire = globalThis.require || globalThis.__globalRequire || ((id) => { throw new Error(\"Cannot find module '\" + id + \"'\"); });\nvar require = function(id) {${switchBody}\n  return __baseRequire(id, __dirname);\n};\nrequire.resolve = __baseRequire.resolve ? function(id, opts) { return __baseRequire.resolve(id, opts || { paths: [__dirname] }); } : function(id) { return id; };\nrequire.cache = __baseRequire.cache || {};\nvar process = globalThis.process || globalThis.__node_process || { env: {} };\nvar Buffer = globalThis.Buffer || undefined;\nvar global = globalThis;\n\n${code}\n\n// Use 'export { x as default }' instead of 'export default x' to avoid TDZ in circular deps.\n// 'var' is hoisted (starts as undefined), so the binding is always accessible.\n// 'export default expr' creates an uninitialized binding until the line executes  TDZ error.\nvar __cjsExports = module.exports;\nexport { __cjsExports as default };\nexport var __esModule = __cjsExports?.__esModule;\n`\n}\n\n/**\n * Validate module code for common syntax issues\n * Logs warnings for patterns that might cause \"Unexpected token '*'\" errors\n */\nfunction validateModuleCode(code: string, modulePath: string): void {\n    // Check for malformed import * (missing \"as namespace\")\n    const malformedImportStar = /\\bimport\\s+\\*\\s+from\\b/g\n    let match\n    while ((match = malformedImportStar.exec(code)) !== null) {\n        const start = Math.max(0, match.index - 20)\n        const end = Math.min(code.length, match.index + 50)\n        console.error(`[ModuleServer] MALFORMED 'import * from' in ${modulePath}: ...${code.slice(start, end)}...`)\n    }\n\n    // Check for export * patterns to trace what's being re-exported\n    const exportStarPattern = /\\bexport\\s+\\*\\s+(?:as\\s+\\w+\\s+)?from\\s+/g\n    let exportCount = 0\n    while ((match = exportStarPattern.exec(code)) !== null) {\n        exportCount++\n        if (exportCount <= 5) {\n            const start = Math.max(0, match.index)\n            const end = Math.min(code.length, match.index + 80)\n            console.log(`[ModuleServer] Found 'export *' in ${modulePath}: ${code.slice(start, end)}`)\n        }\n    }\n    if (exportCount > 5) {\n        console.log(`[ModuleServer] ... and ${exportCount - 5} more 'export *' patterns in ${modulePath}`)\n    }\n}\n\n/**\n * Rewrite imports in a module to use /vfs-module/ paths\n * Simple regex-based transform (no AST needed)\n *\n * @param code - The module source code\n * @param basePath - The resolved file path (for resolving relative imports)\n */\nfunction rewriteImports(code: string, basePath: string): string {\n    // Validate before rewriting\n    validateModuleCode(code, basePath)\n    // Derive the directory of the resolved file for ?from= context\n    const baseDir = basePath.substring(0, basePath.lastIndexOf('/')) || '/'\n    // Helper to rewrite a specifier\n    const rewriteSpecifier = (specifier: string): string => {\n        if (specifier.startsWith('./') || specifier.startsWith('../')) {\n            // Resolve relative path against the base path and use ~file prefix for direct file access\n            const resolved = resolveRelativePath(specifier, basePath)\n            return `${VFS_MODULE_PREFIX}~file${resolved}`\n        }\n        if (isRelativeOrAbsolute(specifier)) {\n            // Other absolute paths (http:, data:, blob:, etc.) - leave as-is\n            return specifier\n        }\n        // Bare specifier: check resolution cache for deterministic ~file/ URL.\n        // This prevents combinatorial explosion from ?from= making the browser\n        // treat the same package as different modules depending on importer.\n        const cachedPath = resolvedSpecifierCache.get(specifier)\n        if (cachedPath) {\n            return `${VFS_MODULE_PREFIX}~file${cachedPath}`\n        }\n        // Cache miss  use ?from= for resolution context (first encounter of this specifier)\n        return `${VFS_MODULE_PREFIX}${specifier}?from=${encodeURIComponent(baseDir)}`\n    }\n\n    const result = code\n        // import X from \"specifier\"\n        .replace(\n            /\\bimport\\s+([^'\"]+)\\s+from\\s+(['\"])([^'\"]+)\\2/g,\n            (match, imports, quote, specifier) => {\n                const rewritten = rewriteSpecifier(specifier)\n                if (rewritten === specifier) return match\n                return `import ${imports} from ${quote}${rewritten}${quote}`\n            }\n        )\n        // import \"specifier\" (side-effect)\n        .replace(\n            /\\bimport\\s+(['\"])([^'\"]+)\\1\\s*;?/g,\n            (match, quote, specifier) => {\n                // Check if this looks like a type import (skip those)\n                if (match.includes('import type')) return match\n                const rewritten = rewriteSpecifier(specifier)\n                if (rewritten === specifier) return match\n                return `import ${quote}${rewritten}${quote};`\n            }\n        )\n        // export X from \"specifier\"\n        .replace(\n            /\\bexport\\s+([^'\"]+)\\s+from\\s+(['\"])([^'\"]+)\\2/g,\n            (match, exports, quote, specifier) => {\n                const rewritten = rewriteSpecifier(specifier)\n                if (rewritten === specifier) return match\n                return `export ${exports} from ${quote}${rewritten}${quote}`\n            }\n        )\n        // Dynamic import(\"specifier\")\n        .replace(\n            /\\bimport\\s*\\(\\s*(['\"])([^'\"]+)\\1\\s*\\)/g,\n            (match, quote, specifier) => {\n                const rewritten = rewriteSpecifier(specifier)\n                if (rewritten === specifier) return match\n                return `import(${quote}${rewritten}${quote})`\n            }\n        )\n\n    // Validate after rewriting\n    validateModuleCode(result, basePath + ' (after rewrite)')\n\n    return result\n}\n\nfunction isRelativeOrAbsolute(specifier: string): boolean {\n    return specifier.startsWith('./') ||\n           specifier.startsWith('../') ||\n           specifier.startsWith('/') ||\n           specifier.startsWith('data:') ||\n           specifier.startsWith('blob:') ||\n           specifier.startsWith('http:') ||\n           specifier.startsWith('https:')\n}\n\n\n/**\n * Check if a request is for a VFS module\n */\nexport function isModuleRequest(request: Request): boolean {\n    const url = new URL(request.url)\n    return url.pathname.startsWith(VFS_MODULE_PREFIX) || url.pathname.startsWith(VFS_CONFIG_PREFIX)\n}\n\n/**\n * Invalidate the cached paths (call when VFS changes)\n */\nexport function invalidateIndexCache(): void {\n    moduleCache.clear()\n    pathCache.clear()\n    resolvedSpecifierCache.clear()\n}\n","// ServiceWorker \"Port Shuttle\" + VFS Module Server\n// Version: 2024-02-02-v2 (force update)\n// MessagePorts CAN be transferred to/from ServiceWorkers (unlike SABs)\n// Primary tab handles all FS operations, secondaries forward requests via MessageChannel\n// Tab disconnect detection is handled by Web Locks (not ServiceWorker)\n//\n// ESM Module Server: Serves modules from VFS via fetch interception\n// - rollup/* -> @rolldown/browser shim\n// - esbuild -> @rolldown/browser shim\n\nimport { handleModuleFetch, isModuleRequest, invalidateIndexCache, handleFileReadResponse, setPrimaryClientIdGetter, storeBundledConfigInSW, storeWorkerModuleInSW } from './fs.module-server'\n\n// Type the ServiceWorker global scope\nconst sw = self as unknown as ServiceWorkerGlobalScope\n\n// Store pending ports from secondary tabs waiting to connect to primary\nconst pendingPorts: Array<{ clientId: string; port: MessagePort }> = []\nlet primaryClientId: string | null = null\n// Control port from primary  used to forward secondary ports (scope-independent)\nlet primaryPort: MessagePort | null = null\n\n// Provide primary client ID to module server\nsetPrimaryClientIdGetter(() => primaryClientId)\n\nconsole.log('[ServiceWorker] Starting (Port Shuttle mode)...')\n\n// Take control of all clients immediately\nsw.addEventListener('activate', (event) => {\n  console.log('[ServiceWorker] Activating...')\n  ;(event as ExtendableEvent).waitUntil(sw.clients.claim())\n})\n\n// Skip waiting to activate immediately\nsw.addEventListener('install', (event) => {\n  console.log('[ServiceWorker] Installing...')\n  ;(event as ExtendableEvent).waitUntil(sw.skipWaiting())\n})\n\n// Fetch interception for VFS module serving\n// Intercepts /vfs-module/* requests and serves them from VFS\nsw.addEventListener('fetch', (event) => {\n  const fetchEvent = event as FetchEvent\n\n  // Only intercept module requests\n  if (!isModuleRequest(fetchEvent.request)) {\n    return // Let the browser handle it normally\n  }\n\n  console.log('[ServiceWorker] Intercepting module request:', fetchEvent.request.url)\n\n  fetchEvent.respondWith(\n    (async () => {\n      try {\n        const response = await handleModuleFetch(fetchEvent.request)\n        if (response) {\n          return response\n        }\n        // Fallback to network if not found in VFS\n        return fetch(fetchEvent.request)\n      } catch (err) {\n        console.error('[ServiceWorker] Module fetch error:', err)\n        return new Response(`// Module fetch error: ${(err as Error).message}`, {\n          status: 500,\n          headers: {\n            'Content-Type': 'application/javascript',\n            'Cross-Origin-Resource-Policy': 'same-origin',\n            'Cross-Origin-Embedder-Policy': 'require-corp',\n          }\n        })\n      }\n    })()\n  )\n})\n\nasync function sendToClient(clientId: string, message: object, transfer?: Transferable[]) {\n  try {\n    const client = await sw.clients.get(clientId)\n    if (client) {\n      if (transfer && transfer.length > 0) {\n        client.postMessage(message, transfer)\n      } else {\n        client.postMessage(message)\n      }\n      return true\n    }\n  } catch (err) {\n    console.error(`[ServiceWorker] Failed to send to client ${clientId}:`, err)\n  }\n  return false\n}\n\nsw.addEventListener('message', async (event) => {\n  const { type } = event.data\n  const clientId = (event.source as Client | null)?.id\n\n  if (!clientId) {\n    console.error('[ServiceWorker] Message received without client ID')\n    return\n  }\n\n  console.log(`[ServiceWorker] Message from ${clientId}: ${type}`)\n\n  // Primary tab registering\n  if (type === 'register-primary') {\n    console.log(`[ServiceWorker] Primary registered: ${clientId}`)\n    primaryClientId = clientId\n\n    // If a control port is provided, use it for forwarding (avoids scope issues)\n    if (event.ports[0]) {\n      primaryPort = event.ports[0]\n    }\n\n    // Send all pending ports to primary\n    console.log(`[ServiceWorker] Sending ${pendingPorts.length} pending ports to primary`)\n    for (const { clientId: secondaryId, port } of pendingPorts) {\n      console.log(`[ServiceWorker] Forwarding port from ${secondaryId} to primary`)\n      if (primaryPort) {\n        primaryPort.postMessage({ type: 'secondary-port', secondaryClientId: secondaryId }, [port])\n      } else {\n        await sendToClient(clientId, { type: 'secondary-port', secondaryClientId: secondaryId }, [port])\n      }\n    }\n    pendingPorts.length = 0 // Clear pending ports\n    return\n  }\n\n  // Secondary tab requesting connection to primary - sends a port for direct communication\n  if (type === 'request-connection') {\n    const port = event.ports[0]\n    if (!port) {\n      console.error(`[ServiceWorker] request-connection from ${clientId} has no port!`)\n      return\n    }\n\n    console.log(`[ServiceWorker] Secondary ${clientId} requesting connection with port`)\n\n    if (primaryPort) {\n      // Forward via control port (scope-independent)\n      console.log(`[ServiceWorker] Forwarding port to primary via control port`)\n      primaryPort.postMessage({ type: 'secondary-port', secondaryClientId: clientId }, [port])\n    } else if (primaryClientId) {\n      // Fallback: forward via clients API (requires page in scope)\n      console.log(`[ServiceWorker] Forwarding port to primary ${primaryClientId}`)\n      const sent = await sendToClient(primaryClientId, {\n        type: 'secondary-port',\n        secondaryClientId: clientId\n      }, [port])\n\n      if (!sent) {\n        console.log(`[ServiceWorker] Primary not available, queuing port`)\n        primaryClientId = null\n        pendingPorts.push({ clientId, port })\n      }\n    } else {\n      // No primary yet - queue the port and broadcast discovery request\n      console.log(`[ServiceWorker] No primary yet, queuing port from ${clientId}`)\n      pendingPorts.push({ clientId, port })\n\n      // Ask all clients: \"who's the primary?\"  handles SW restart/update losing primaryClientId\n      try {\n        const allClients = await sw.clients.matchAll({ type: 'window' })\n        console.log(`[ServiceWorker] Broadcasting discover-primary to ${allClients.length} clients`)\n        for (const client of allClients) {\n          if (client.id !== clientId) {\n            client.postMessage({ type: 'discover-primary' })\n          }\n        }\n      } catch (err) {\n        console.error('[ServiceWorker] Failed to broadcast discover-primary:', err)\n      }\n    }\n    return\n  }\n\n  // Client disconnecting (explicit notification)\n  if (type === 'disconnect') {\n    console.log(`[ServiceWorker] Client ${clientId} disconnecting`)\n    if (clientId === primaryClientId) {\n      primaryClientId = null\n      primaryPort = null\n    }\n    // Remove any pending ports for this client\n    const idx = pendingPorts.findIndex(p => p.clientId === clientId)\n    if (idx !== -1) {\n      pendingPorts.splice(idx, 1)\n    }\n    return\n  }\n\n  // VFS changed notification - invalidate module cache\n  if (type === 'vfs-changed') {\n    console.log('[ServiceWorker] VFS changed, invalidating module cache')\n    invalidateIndexCache()\n    return\n  }\n\n  // File read response from client (for module serving)\n  if (type === 'vfs-read-response') {\n    const { requestId, content, error } = event.data\n    // Convert array back to Uint8Array if needed\n    const contentArray = content ? new Uint8Array(content) : null\n    handleFileReadResponse(requestId, contentArray, error)\n    return\n  }\n\n  // Store bundled config code (from esbuild.build)\n  if (type === 'store-bundled-config') {\n    const { pattern, code } = event.data\n    console.log(`[ServiceWorker] Storing bundled config for pattern \"${pattern}\" (${code?.length || 0} bytes)`)\n    storeBundledConfigInSW(pattern, code)\n    return\n  }\n\n  // Store worker module code (pre-registered by exec worker for rayon sub-workers)\n  if (type === 'store-worker-module') {\n    const { filePath, code } = event.data\n    console.log(`[ServiceWorker] Storing worker module: ${filePath} (${code?.length || 0} bytes)`)\n    storeWorkerModuleInSW(filePath, code)\n    return\n  }\n})\n\n// Periodically clean up stale state (primary gone, pending ports for closed tabs)\n// Note: This does NOT notify about disconnects - Web Locks handles that instantly\nsetInterval(async () => {\n  const allClients = await sw.clients.matchAll()\n  const activeClientIds = new Set(allClients.map((c: Client) => c.id))\n\n  // Check if primary is still alive\n  if (primaryClientId && !activeClientIds.has(primaryClientId)) {\n    console.log(`[ServiceWorker] Primary ${primaryClientId} no longer exists, clearing`)\n    primaryClientId = null\n  }\n\n  // Remove pending ports for disconnected clients\n  for (let i = pendingPorts.length - 1; i >= 0; i--) {\n    if (!activeClientIds.has(pendingPorts[i].clientId)) {\n      console.log(`[ServiceWorker] Removing pending port for disconnected ${pendingPorts[i].clientId}`)\n      pendingPorts.splice(i, 1)\n    }\n  }\n}, 5000)  // Less frequent - just for cleanup, not detection\n"],"mappings":"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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoOX;AAQA,SAAS,kCAA0C;AAC/C,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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","names":["content","isJson","responseContent","sw"]}