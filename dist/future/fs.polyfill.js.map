{"version":3,"sources":["../../future/buffer-shim-bundled.js","../../node_modules/events/events.js","../../future/src/fs.polyfill.ts","../../future/src/fs.worker-pool.ts","../../future/src/logger.ts","../../future/src/app-constants.ts","../../future/src/polyfill/index.ts","../../future/src/polyfill/sync.ts","../../future/src/classes/index.ts","../../future/src/classes/Stats.ts","../../future/src/constants.ts","../../future/src/classes/Dirent.ts","../../future/src/classes/Dir.ts","../../future/src/classes/FileHandle.ts","../../future/src/classes/ReadStream.ts","../../future/src/classes/WriteStream.ts","../../future/src/classes/FSError.ts","../../future/src/utils/index.ts","../../future/src/utils/validation.ts","../../future/src/polyfill/async.ts","../../future/src/config.ts","../../future/src/polyfill/async-fd.ts","../../future/src/polyfill/async-watch.ts","../../future/src/utils/tab-tracker.ts","../../future/src/fs.sab-utils.ts","../../future/src/fs.primary.ts","../../future/src/utils/sab-persistence.ts","../../future/src/fs.secondary.ts"],"sourcesContent":["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\n\n// ../node_modules/base64-js/index.js\nvar require_base64_js = __commonJS({\n  \"../node_modules/base64-js/index.js\"(exports) {\n    \"use strict\";\n    exports.byteLength = byteLength;\n    exports.toByteArray = toByteArray;\n    exports.fromByteArray = fromByteArray;\n    var lookup = [];\n    var revLookup = [];\n    var Arr = typeof Uint8Array !== \"undefined\" ? Uint8Array : Array;\n    var code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for (i = 0, len = code.length; i < len; ++i) {\n      lookup[i] = code[i];\n      revLookup[code.charCodeAt(i)] = i;\n    }\n    var i;\n    var len;\n    revLookup[\"-\".charCodeAt(0)] = 62;\n    revLookup[\"_\".charCodeAt(0)] = 63;\n    function getLens(b64) {\n      var len2 = b64.length;\n      if (len2 % 4 > 0) {\n        throw new Error(\"Invalid string. Length must be a multiple of 4\");\n      }\n      var validLen = b64.indexOf(\"=\");\n      if (validLen === -1) validLen = len2;\n      var placeHoldersLen = validLen === len2 ? 0 : 4 - validLen % 4;\n      return [validLen, placeHoldersLen];\n    }\n    function byteLength(b64) {\n      var lens = getLens(b64);\n      var validLen = lens[0];\n      var placeHoldersLen = lens[1];\n      return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n    }\n    function _byteLength(b64, validLen, placeHoldersLen) {\n      return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n    }\n    function toByteArray(b64) {\n      var tmp;\n      var lens = getLens(b64);\n      var validLen = lens[0];\n      var placeHoldersLen = lens[1];\n      var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n      var curByte = 0;\n      var len2 = placeHoldersLen > 0 ? validLen - 4 : validLen;\n      var i2;\n      for (i2 = 0; i2 < len2; i2 += 4) {\n        tmp = revLookup[b64.charCodeAt(i2)] << 18 | revLookup[b64.charCodeAt(i2 + 1)] << 12 | revLookup[b64.charCodeAt(i2 + 2)] << 6 | revLookup[b64.charCodeAt(i2 + 3)];\n        arr[curByte++] = tmp >> 16 & 255;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n      }\n      if (placeHoldersLen === 2) {\n        tmp = revLookup[b64.charCodeAt(i2)] << 2 | revLookup[b64.charCodeAt(i2 + 1)] >> 4;\n        arr[curByte++] = tmp & 255;\n      }\n      if (placeHoldersLen === 1) {\n        tmp = revLookup[b64.charCodeAt(i2)] << 10 | revLookup[b64.charCodeAt(i2 + 1)] << 4 | revLookup[b64.charCodeAt(i2 + 2)] >> 2;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n      }\n      return arr;\n    }\n    function tripletToBase64(num) {\n      return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];\n    }\n    function encodeChunk(uint8, start, end) {\n      var tmp;\n      var output = [];\n      for (var i2 = start; i2 < end; i2 += 3) {\n        tmp = (uint8[i2] << 16 & 16711680) + (uint8[i2 + 1] << 8 & 65280) + (uint8[i2 + 2] & 255);\n        output.push(tripletToBase64(tmp));\n      }\n      return output.join(\"\");\n    }\n    function fromByteArray(uint8) {\n      var tmp;\n      var len2 = uint8.length;\n      var extraBytes = len2 % 3;\n      var parts = [];\n      var maxChunkLength = 16383;\n      for (var i2 = 0, len22 = len2 - extraBytes; i2 < len22; i2 += maxChunkLength) {\n        parts.push(encodeChunk(uint8, i2, i2 + maxChunkLength > len22 ? len22 : i2 + maxChunkLength));\n      }\n      if (extraBytes === 1) {\n        tmp = uint8[len2 - 1];\n        parts.push(\n          lookup[tmp >> 2] + lookup[tmp << 4 & 63] + \"==\"\n        );\n      } else if (extraBytes === 2) {\n        tmp = (uint8[len2 - 2] << 8) + uint8[len2 - 1];\n        parts.push(\n          lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + \"=\"\n        );\n      }\n      return parts.join(\"\");\n    }\n  }\n});\n\n// ../node_modules/ieee754/index.js\nvar require_ieee754 = __commonJS({\n  \"../node_modules/ieee754/index.js\"(exports) {\n    exports.read = function(buffer, offset, isLE, mLen, nBytes) {\n      var e, m;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var nBits = -7;\n      var i = isLE ? nBytes - 1 : 0;\n      var d = isLE ? -1 : 1;\n      var s = buffer[offset + i];\n      i += d;\n      e = s & (1 << -nBits) - 1;\n      s >>= -nBits;\n      nBits += eLen;\n      for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {\n      }\n      m = e & (1 << -nBits) - 1;\n      e >>= -nBits;\n      nBits += mLen;\n      for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {\n      }\n      if (e === 0) {\n        e = 1 - eBias;\n      } else if (e === eMax) {\n        return m ? NaN : (s ? -1 : 1) * Infinity;\n      } else {\n        m = m + Math.pow(2, mLen);\n        e = e - eBias;\n      }\n      return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n    };\n    exports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n      var e, m, c;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n      var i = isLE ? 0 : nBytes - 1;\n      var d = isLE ? 1 : -1;\n      var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n      value = Math.abs(value);\n      if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e = eMax;\n      } else {\n        e = Math.floor(Math.log(value) / Math.LN2);\n        if (value * (c = Math.pow(2, -e)) < 1) {\n          e--;\n          c *= 2;\n        }\n        if (e + eBias >= 1) {\n          value += rt / c;\n        } else {\n          value += rt * Math.pow(2, 1 - eBias);\n        }\n        if (value * c >= 2) {\n          e++;\n          c /= 2;\n        }\n        if (e + eBias >= eMax) {\n          m = 0;\n          e = eMax;\n        } else if (e + eBias >= 1) {\n          m = (value * c - 1) * Math.pow(2, mLen);\n          e = e + eBias;\n        } else {\n          m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n          e = 0;\n        }\n      }\n      for (; mLen >= 8; buffer[offset + i] = m & 255, i += d, m /= 256, mLen -= 8) {\n      }\n      e = e << mLen | m;\n      eLen += mLen;\n      for (; eLen > 0; buffer[offset + i] = e & 255, i += d, e /= 256, eLen -= 8) {\n      }\n      buffer[offset + i - d] |= s * 128;\n    };\n  }\n});\n\n// ../node_modules/buffer/index.js\nvar require_buffer = __commonJS({\n  \"../node_modules/buffer/index.js\"(exports) {\n    \"use strict\";\n    var base64 = require_base64_js();\n    var ieee754 = require_ieee754();\n    var customInspectSymbol = typeof Symbol === \"function\" && typeof Symbol[\"for\"] === \"function\" ? Symbol[\"for\"](\"nodejs.util.inspect.custom\") : null;\n    exports.Buffer = Buffer3;\n    exports.SlowBuffer = SlowBuffer;\n    exports.INSPECT_MAX_BYTES = 50;\n    var K_MAX_LENGTH = 2147483647;\n    exports.kMaxLength = K_MAX_LENGTH;\n    Buffer3.TYPED_ARRAY_SUPPORT = typedArraySupport();\n    if (!Buffer3.TYPED_ARRAY_SUPPORT && typeof console !== \"undefined\" && typeof console.error === \"function\") {\n      console.error(\n        \"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"\n      );\n    }\n    function typedArraySupport() {\n      try {\n        const arr = new Uint8Array(1);\n        const proto = { foo: function() {\n          return 42;\n        } };\n        Object.setPrototypeOf(proto, Uint8Array.prototype);\n        Object.setPrototypeOf(arr, proto);\n        return arr.foo() === 42;\n      } catch (e) {\n        return false;\n      }\n    }\n    Object.defineProperty(Buffer3.prototype, \"parent\", {\n      enumerable: true,\n      get: function() {\n        if (!Buffer3.isBuffer(this)) return void 0;\n        return this.buffer;\n      }\n    });\n    Object.defineProperty(Buffer3.prototype, \"offset\", {\n      enumerable: true,\n      get: function() {\n        if (!Buffer3.isBuffer(this)) return void 0;\n        return this.byteOffset;\n      }\n    });\n    function createBuffer(length) {\n      if (length > K_MAX_LENGTH) {\n        throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"');\n      }\n      const buf = new Uint8Array(length);\n      Object.setPrototypeOf(buf, Buffer3.prototype);\n      return buf;\n    }\n    function Buffer3(arg, encodingOrOffset, length) {\n      if (typeof arg === \"number\") {\n        if (typeof encodingOrOffset === \"string\") {\n          throw new TypeError(\n            'The \"string\" argument must be of type string. Received type number'\n          );\n        }\n        return allocUnsafe(arg);\n      }\n      return from(arg, encodingOrOffset, length);\n    }\n    Buffer3.poolSize = 8192;\n    function from(value, encodingOrOffset, length) {\n      if (typeof value === \"string\") {\n        return fromString(value, encodingOrOffset);\n      }\n      if (ArrayBuffer.isView(value)) {\n        return fromArrayView(value);\n      }\n      if (value == null) {\n        throw new TypeError(\n          \"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof value\n        );\n      }\n      if (isInstance(value, ArrayBuffer) || value && isInstance(value.buffer, ArrayBuffer)) {\n        return fromArrayBuffer(value, encodingOrOffset, length);\n      }\n      if (typeof SharedArrayBuffer !== \"undefined\" && (isInstance(value, SharedArrayBuffer) || value && isInstance(value.buffer, SharedArrayBuffer))) {\n        return fromArrayBuffer(value, encodingOrOffset, length);\n      }\n      if (typeof value === \"number\") {\n        throw new TypeError(\n          'The \"value\" argument must not be of type number. Received type number'\n        );\n      }\n      const valueOf = value.valueOf && value.valueOf();\n      if (valueOf != null && valueOf !== value) {\n        return Buffer3.from(valueOf, encodingOrOffset, length);\n      }\n      const b = fromObject(value);\n      if (b) return b;\n      if (typeof Symbol !== \"undefined\" && Symbol.toPrimitive != null && typeof value[Symbol.toPrimitive] === \"function\") {\n        return Buffer3.from(value[Symbol.toPrimitive](\"string\"), encodingOrOffset, length);\n      }\n      throw new TypeError(\n        \"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof value\n      );\n    }\n    Buffer3.from = function(value, encodingOrOffset, length) {\n      return from(value, encodingOrOffset, length);\n    };\n    Object.setPrototypeOf(Buffer3.prototype, Uint8Array.prototype);\n    Object.setPrototypeOf(Buffer3, Uint8Array);\n    function assertSize(size) {\n      if (typeof size !== \"number\") {\n        throw new TypeError('\"size\" argument must be of type number');\n      } else if (size < 0) {\n        throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"');\n      }\n    }\n    function alloc(size, fill, encoding) {\n      assertSize(size);\n      if (size <= 0) {\n        return createBuffer(size);\n      }\n      if (fill !== void 0) {\n        return typeof encoding === \"string\" ? createBuffer(size).fill(fill, encoding) : createBuffer(size).fill(fill);\n      }\n      return createBuffer(size);\n    }\n    Buffer3.alloc = function(size, fill, encoding) {\n      return alloc(size, fill, encoding);\n    };\n    function allocUnsafe(size) {\n      assertSize(size);\n      return createBuffer(size < 0 ? 0 : checked(size) | 0);\n    }\n    Buffer3.allocUnsafe = function(size) {\n      return allocUnsafe(size);\n    };\n    Buffer3.allocUnsafeSlow = function(size) {\n      return allocUnsafe(size);\n    };\n    function fromString(string, encoding) {\n      if (typeof encoding !== \"string\" || encoding === \"\") {\n        encoding = \"utf8\";\n      }\n      if (!Buffer3.isEncoding(encoding)) {\n        throw new TypeError(\"Unknown encoding: \" + encoding);\n      }\n      const length = byteLength(string, encoding) | 0;\n      let buf = createBuffer(length);\n      const actual = buf.write(string, encoding);\n      if (actual !== length) {\n        buf = buf.slice(0, actual);\n      }\n      return buf;\n    }\n    function fromArrayLike(array) {\n      const length = array.length < 0 ? 0 : checked(array.length) | 0;\n      const buf = createBuffer(length);\n      for (let i = 0; i < length; i += 1) {\n        buf[i] = array[i] & 255;\n      }\n      return buf;\n    }\n    function fromArrayView(arrayView) {\n      if (isInstance(arrayView, Uint8Array)) {\n        const copy = new Uint8Array(arrayView);\n        return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength);\n      }\n      return fromArrayLike(arrayView);\n    }\n    function fromArrayBuffer(array, byteOffset, length) {\n      if (byteOffset < 0 || array.byteLength < byteOffset) {\n        throw new RangeError('\"offset\" is outside of buffer bounds');\n      }\n      if (array.byteLength < byteOffset + (length || 0)) {\n        throw new RangeError('\"length\" is outside of buffer bounds');\n      }\n      let buf;\n      if (byteOffset === void 0 && length === void 0) {\n        buf = new Uint8Array(array);\n      } else if (length === void 0) {\n        buf = new Uint8Array(array, byteOffset);\n      } else {\n        buf = new Uint8Array(array, byteOffset, length);\n      }\n      Object.setPrototypeOf(buf, Buffer3.prototype);\n      return buf;\n    }\n    function fromObject(obj) {\n      if (Buffer3.isBuffer(obj)) {\n        const len = checked(obj.length) | 0;\n        const buf = createBuffer(len);\n        if (buf.length === 0) {\n          return buf;\n        }\n        obj.copy(buf, 0, 0, len);\n        return buf;\n      }\n      if (obj.length !== void 0) {\n        if (typeof obj.length !== \"number\" || numberIsNaN(obj.length)) {\n          return createBuffer(0);\n        }\n        return fromArrayLike(obj);\n      }\n      if (obj.type === \"Buffer\" && Array.isArray(obj.data)) {\n        return fromArrayLike(obj.data);\n      }\n    }\n    function checked(length) {\n      if (length >= K_MAX_LENGTH) {\n        throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\" + K_MAX_LENGTH.toString(16) + \" bytes\");\n      }\n      return length | 0;\n    }\n    function SlowBuffer(length) {\n      if (+length != length) {\n        length = 0;\n      }\n      return Buffer3.alloc(+length);\n    }\n    Buffer3.isBuffer = function isBuffer(b) {\n      return b != null && b._isBuffer === true && b !== Buffer3.prototype;\n    };\n    Buffer3.compare = function compare(a, b) {\n      if (isInstance(a, Uint8Array)) a = Buffer3.from(a, a.offset, a.byteLength);\n      if (isInstance(b, Uint8Array)) b = Buffer3.from(b, b.offset, b.byteLength);\n      if (!Buffer3.isBuffer(a) || !Buffer3.isBuffer(b)) {\n        throw new TypeError(\n          'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n        );\n      }\n      if (a === b) return 0;\n      let x = a.length;\n      let y = b.length;\n      for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n        if (a[i] !== b[i]) {\n          x = a[i];\n          y = b[i];\n          break;\n        }\n      }\n      if (x < y) return -1;\n      if (y < x) return 1;\n      return 0;\n    };\n    Buffer3.isEncoding = function isEncoding(encoding) {\n      switch (String(encoding).toLowerCase()) {\n        case \"hex\":\n        case \"utf8\":\n        case \"utf-8\":\n        case \"ascii\":\n        case \"latin1\":\n        case \"binary\":\n        case \"base64\":\n        case \"ucs2\":\n        case \"ucs-2\":\n        case \"utf16le\":\n        case \"utf-16le\":\n          return true;\n        default:\n          return false;\n      }\n    };\n    Buffer3.concat = function concat(list, length) {\n      if (!Array.isArray(list)) {\n        throw new TypeError('\"list\" argument must be an Array of Buffers');\n      }\n      if (list.length === 0) {\n        return Buffer3.alloc(0);\n      }\n      let i;\n      if (length === void 0) {\n        length = 0;\n        for (i = 0; i < list.length; ++i) {\n          length += list[i].length;\n        }\n      }\n      const buffer = Buffer3.allocUnsafe(length);\n      let pos = 0;\n      for (i = 0; i < list.length; ++i) {\n        let buf = list[i];\n        if (isInstance(buf, Uint8Array)) {\n          if (pos + buf.length > buffer.length) {\n            if (!Buffer3.isBuffer(buf)) buf = Buffer3.from(buf);\n            buf.copy(buffer, pos);\n          } else {\n            Uint8Array.prototype.set.call(\n              buffer,\n              buf,\n              pos\n            );\n          }\n        } else if (!Buffer3.isBuffer(buf)) {\n          throw new TypeError('\"list\" argument must be an Array of Buffers');\n        } else {\n          buf.copy(buffer, pos);\n        }\n        pos += buf.length;\n      }\n      return buffer;\n    };\n    function byteLength(string, encoding) {\n      if (Buffer3.isBuffer(string)) {\n        return string.length;\n      }\n      if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n        return string.byteLength;\n      }\n      if (typeof string !== \"string\") {\n        throw new TypeError(\n          'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof string\n        );\n      }\n      const len = string.length;\n      const mustMatch = arguments.length > 2 && arguments[2] === true;\n      if (!mustMatch && len === 0) return 0;\n      let loweredCase = false;\n      for (; ; ) {\n        switch (encoding) {\n          case \"ascii\":\n          case \"latin1\":\n          case \"binary\":\n            return len;\n          case \"utf8\":\n          case \"utf-8\":\n            return utf8ToBytes(string).length;\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return len * 2;\n          case \"hex\":\n            return len >>> 1;\n          case \"base64\":\n            return base64ToBytes(string).length;\n          default:\n            if (loweredCase) {\n              return mustMatch ? -1 : utf8ToBytes(string).length;\n            }\n            encoding = (\"\" + encoding).toLowerCase();\n            loweredCase = true;\n        }\n      }\n    }\n    Buffer3.byteLength = byteLength;\n    function slowToString(encoding, start, end) {\n      let loweredCase = false;\n      if (start === void 0 || start < 0) {\n        start = 0;\n      }\n      if (start > this.length) {\n        return \"\";\n      }\n      if (end === void 0 || end > this.length) {\n        end = this.length;\n      }\n      if (end <= 0) {\n        return \"\";\n      }\n      end >>>= 0;\n      start >>>= 0;\n      if (end <= start) {\n        return \"\";\n      }\n      if (!encoding) encoding = \"utf8\";\n      while (true) {\n        switch (encoding) {\n          case \"hex\":\n            return hexSlice(this, start, end);\n          case \"utf8\":\n          case \"utf-8\":\n            return utf8Slice(this, start, end);\n          case \"ascii\":\n            return asciiSlice(this, start, end);\n          case \"latin1\":\n          case \"binary\":\n            return latin1Slice(this, start, end);\n          case \"base64\":\n            return base64Slice(this, start, end);\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return utf16leSlice(this, start, end);\n          default:\n            if (loweredCase) throw new TypeError(\"Unknown encoding: \" + encoding);\n            encoding = (encoding + \"\").toLowerCase();\n            loweredCase = true;\n        }\n      }\n    }\n    Buffer3.prototype._isBuffer = true;\n    function swap(b, n, m) {\n      const i = b[n];\n      b[n] = b[m];\n      b[m] = i;\n    }\n    Buffer3.prototype.swap16 = function swap16() {\n      const len = this.length;\n      if (len % 2 !== 0) {\n        throw new RangeError(\"Buffer size must be a multiple of 16-bits\");\n      }\n      for (let i = 0; i < len; i += 2) {\n        swap(this, i, i + 1);\n      }\n      return this;\n    };\n    Buffer3.prototype.swap32 = function swap32() {\n      const len = this.length;\n      if (len % 4 !== 0) {\n        throw new RangeError(\"Buffer size must be a multiple of 32-bits\");\n      }\n      for (let i = 0; i < len; i += 4) {\n        swap(this, i, i + 3);\n        swap(this, i + 1, i + 2);\n      }\n      return this;\n    };\n    Buffer3.prototype.swap64 = function swap64() {\n      const len = this.length;\n      if (len % 8 !== 0) {\n        throw new RangeError(\"Buffer size must be a multiple of 64-bits\");\n      }\n      for (let i = 0; i < len; i += 8) {\n        swap(this, i, i + 7);\n        swap(this, i + 1, i + 6);\n        swap(this, i + 2, i + 5);\n        swap(this, i + 3, i + 4);\n      }\n      return this;\n    };\n    Buffer3.prototype.toString = function toString() {\n      const length = this.length;\n      if (length === 0) return \"\";\n      if (arguments.length === 0) return utf8Slice(this, 0, length);\n      return slowToString.apply(this, arguments);\n    };\n    Buffer3.prototype.toLocaleString = Buffer3.prototype.toString;\n    Buffer3.prototype.equals = function equals(b) {\n      if (!Buffer3.isBuffer(b)) throw new TypeError(\"Argument must be a Buffer\");\n      if (this === b) return true;\n      return Buffer3.compare(this, b) === 0;\n    };\n    Buffer3.prototype.inspect = function inspect() {\n      let str = \"\";\n      const max = exports.INSPECT_MAX_BYTES;\n      str = this.toString(\"hex\", 0, max).replace(/(.{2})/g, \"$1 \").trim();\n      if (this.length > max) str += \" ... \";\n      return \"<Buffer \" + str + \">\";\n    };\n    if (customInspectSymbol) {\n      Buffer3.prototype[customInspectSymbol] = Buffer3.prototype.inspect;\n    }\n    Buffer3.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n      if (isInstance(target, Uint8Array)) {\n        target = Buffer3.from(target, target.offset, target.byteLength);\n      }\n      if (!Buffer3.isBuffer(target)) {\n        throw new TypeError(\n          'The \"target\" argument must be one of type Buffer or Uint8Array. Received type ' + typeof target\n        );\n      }\n      if (start === void 0) {\n        start = 0;\n      }\n      if (end === void 0) {\n        end = target ? target.length : 0;\n      }\n      if (thisStart === void 0) {\n        thisStart = 0;\n      }\n      if (thisEnd === void 0) {\n        thisEnd = this.length;\n      }\n      if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n        throw new RangeError(\"out of range index\");\n      }\n      if (thisStart >= thisEnd && start >= end) {\n        return 0;\n      }\n      if (thisStart >= thisEnd) {\n        return -1;\n      }\n      if (start >= end) {\n        return 1;\n      }\n      start >>>= 0;\n      end >>>= 0;\n      thisStart >>>= 0;\n      thisEnd >>>= 0;\n      if (this === target) return 0;\n      let x = thisEnd - thisStart;\n      let y = end - start;\n      const len = Math.min(x, y);\n      const thisCopy = this.slice(thisStart, thisEnd);\n      const targetCopy = target.slice(start, end);\n      for (let i = 0; i < len; ++i) {\n        if (thisCopy[i] !== targetCopy[i]) {\n          x = thisCopy[i];\n          y = targetCopy[i];\n          break;\n        }\n      }\n      if (x < y) return -1;\n      if (y < x) return 1;\n      return 0;\n    };\n    function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n      if (buffer.length === 0) return -1;\n      if (typeof byteOffset === \"string\") {\n        encoding = byteOffset;\n        byteOffset = 0;\n      } else if (byteOffset > 2147483647) {\n        byteOffset = 2147483647;\n      } else if (byteOffset < -2147483648) {\n        byteOffset = -2147483648;\n      }\n      byteOffset = +byteOffset;\n      if (numberIsNaN(byteOffset)) {\n        byteOffset = dir ? 0 : buffer.length - 1;\n      }\n      if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n      if (byteOffset >= buffer.length) {\n        if (dir) return -1;\n        else byteOffset = buffer.length - 1;\n      } else if (byteOffset < 0) {\n        if (dir) byteOffset = 0;\n        else return -1;\n      }\n      if (typeof val === \"string\") {\n        val = Buffer3.from(val, encoding);\n      }\n      if (Buffer3.isBuffer(val)) {\n        if (val.length === 0) {\n          return -1;\n        }\n        return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n      } else if (typeof val === \"number\") {\n        val = val & 255;\n        if (typeof Uint8Array.prototype.indexOf === \"function\") {\n          if (dir) {\n            return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n          } else {\n            return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n          }\n        }\n        return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n      }\n      throw new TypeError(\"val must be string, number or Buffer\");\n    }\n    function arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n      let indexSize = 1;\n      let arrLength = arr.length;\n      let valLength = val.length;\n      if (encoding !== void 0) {\n        encoding = String(encoding).toLowerCase();\n        if (encoding === \"ucs2\" || encoding === \"ucs-2\" || encoding === \"utf16le\" || encoding === \"utf-16le\") {\n          if (arr.length < 2 || val.length < 2) {\n            return -1;\n          }\n          indexSize = 2;\n          arrLength /= 2;\n          valLength /= 2;\n          byteOffset /= 2;\n        }\n      }\n      function read(buf, i2) {\n        if (indexSize === 1) {\n          return buf[i2];\n        } else {\n          return buf.readUInt16BE(i2 * indexSize);\n        }\n      }\n      let i;\n      if (dir) {\n        let foundIndex = -1;\n        for (i = byteOffset; i < arrLength; i++) {\n          if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n            if (foundIndex === -1) foundIndex = i;\n            if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n          } else {\n            if (foundIndex !== -1) i -= i - foundIndex;\n            foundIndex = -1;\n          }\n        }\n      } else {\n        if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n        for (i = byteOffset; i >= 0; i--) {\n          let found = true;\n          for (let j = 0; j < valLength; j++) {\n            if (read(arr, i + j) !== read(val, j)) {\n              found = false;\n              break;\n            }\n          }\n          if (found) return i;\n        }\n      }\n      return -1;\n    }\n    Buffer3.prototype.includes = function includes(val, byteOffset, encoding) {\n      return this.indexOf(val, byteOffset, encoding) !== -1;\n    };\n    Buffer3.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n      return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n    };\n    Buffer3.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n      return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n    };\n    function hexWrite(buf, string, offset, length) {\n      offset = Number(offset) || 0;\n      const remaining = buf.length - offset;\n      if (!length) {\n        length = remaining;\n      } else {\n        length = Number(length);\n        if (length > remaining) {\n          length = remaining;\n        }\n      }\n      const strLen = string.length;\n      if (length > strLen / 2) {\n        length = strLen / 2;\n      }\n      let i;\n      for (i = 0; i < length; ++i) {\n        const parsed = parseInt(string.substr(i * 2, 2), 16);\n        if (numberIsNaN(parsed)) return i;\n        buf[offset + i] = parsed;\n      }\n      return i;\n    }\n    function utf8Write(buf, string, offset, length) {\n      return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n    }\n    function asciiWrite(buf, string, offset, length) {\n      return blitBuffer(asciiToBytes(string), buf, offset, length);\n    }\n    function base64Write(buf, string, offset, length) {\n      return blitBuffer(base64ToBytes(string), buf, offset, length);\n    }\n    function ucs2Write(buf, string, offset, length) {\n      return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n    }\n    Buffer3.prototype.write = function write(string, offset, length, encoding) {\n      if (offset === void 0) {\n        encoding = \"utf8\";\n        length = this.length;\n        offset = 0;\n      } else if (length === void 0 && typeof offset === \"string\") {\n        encoding = offset;\n        length = this.length;\n        offset = 0;\n      } else if (isFinite(offset)) {\n        offset = offset >>> 0;\n        if (isFinite(length)) {\n          length = length >>> 0;\n          if (encoding === void 0) encoding = \"utf8\";\n        } else {\n          encoding = length;\n          length = void 0;\n        }\n      } else {\n        throw new Error(\n          \"Buffer.write(string, encoding, offset[, length]) is no longer supported\"\n        );\n      }\n      const remaining = this.length - offset;\n      if (length === void 0 || length > remaining) length = remaining;\n      if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n        throw new RangeError(\"Attempt to write outside buffer bounds\");\n      }\n      if (!encoding) encoding = \"utf8\";\n      let loweredCase = false;\n      for (; ; ) {\n        switch (encoding) {\n          case \"hex\":\n            return hexWrite(this, string, offset, length);\n          case \"utf8\":\n          case \"utf-8\":\n            return utf8Write(this, string, offset, length);\n          case \"ascii\":\n          case \"latin1\":\n          case \"binary\":\n            return asciiWrite(this, string, offset, length);\n          case \"base64\":\n            return base64Write(this, string, offset, length);\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return ucs2Write(this, string, offset, length);\n          default:\n            if (loweredCase) throw new TypeError(\"Unknown encoding: \" + encoding);\n            encoding = (\"\" + encoding).toLowerCase();\n            loweredCase = true;\n        }\n      }\n    };\n    Buffer3.prototype.toJSON = function toJSON() {\n      return {\n        type: \"Buffer\",\n        data: Array.prototype.slice.call(this._arr || this, 0)\n      };\n    };\n    function base64Slice(buf, start, end) {\n      if (start === 0 && end === buf.length) {\n        return base64.fromByteArray(buf);\n      } else {\n        return base64.fromByteArray(buf.slice(start, end));\n      }\n    }\n    function utf8Slice(buf, start, end) {\n      end = Math.min(buf.length, end);\n      const res = [];\n      let i = start;\n      while (i < end) {\n        const firstByte = buf[i];\n        let codePoint = null;\n        let bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n        if (i + bytesPerSequence <= end) {\n          let secondByte, thirdByte, fourthByte, tempCodePoint;\n          switch (bytesPerSequence) {\n            case 1:\n              if (firstByte < 128) {\n                codePoint = firstByte;\n              }\n              break;\n            case 2:\n              secondByte = buf[i + 1];\n              if ((secondByte & 192) === 128) {\n                tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n                if (tempCodePoint > 127) {\n                  codePoint = tempCodePoint;\n                }\n              }\n              break;\n            case 3:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n              if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n                tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n                if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n                  codePoint = tempCodePoint;\n                }\n              }\n              break;\n            case 4:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n              fourthByte = buf[i + 3];\n              if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n                tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n                if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n                  codePoint = tempCodePoint;\n                }\n              }\n          }\n        }\n        if (codePoint === null) {\n          codePoint = 65533;\n          bytesPerSequence = 1;\n        } else if (codePoint > 65535) {\n          codePoint -= 65536;\n          res.push(codePoint >>> 10 & 1023 | 55296);\n          codePoint = 56320 | codePoint & 1023;\n        }\n        res.push(codePoint);\n        i += bytesPerSequence;\n      }\n      return decodeCodePointsArray(res);\n    }\n    var MAX_ARGUMENTS_LENGTH = 4096;\n    function decodeCodePointsArray(codePoints) {\n      const len = codePoints.length;\n      if (len <= MAX_ARGUMENTS_LENGTH) {\n        return String.fromCharCode.apply(String, codePoints);\n      }\n      let res = \"\";\n      let i = 0;\n      while (i < len) {\n        res += String.fromCharCode.apply(\n          String,\n          codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n        );\n      }\n      return res;\n    }\n    function asciiSlice(buf, start, end) {\n      let ret = \"\";\n      end = Math.min(buf.length, end);\n      for (let i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i] & 127);\n      }\n      return ret;\n    }\n    function latin1Slice(buf, start, end) {\n      let ret = \"\";\n      end = Math.min(buf.length, end);\n      for (let i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i]);\n      }\n      return ret;\n    }\n    function hexSlice(buf, start, end) {\n      const len = buf.length;\n      if (!start || start < 0) start = 0;\n      if (!end || end < 0 || end > len) end = len;\n      let out = \"\";\n      for (let i = start; i < end; ++i) {\n        out += hexSliceLookupTable[buf[i]];\n      }\n      return out;\n    }\n    function utf16leSlice(buf, start, end) {\n      const bytes = buf.slice(start, end);\n      let res = \"\";\n      for (let i = 0; i < bytes.length - 1; i += 2) {\n        res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n      }\n      return res;\n    }\n    Buffer3.prototype.slice = function slice(start, end) {\n      const len = this.length;\n      start = ~~start;\n      end = end === void 0 ? len : ~~end;\n      if (start < 0) {\n        start += len;\n        if (start < 0) start = 0;\n      } else if (start > len) {\n        start = len;\n      }\n      if (end < 0) {\n        end += len;\n        if (end < 0) end = 0;\n      } else if (end > len) {\n        end = len;\n      }\n      if (end < start) end = start;\n      const newBuf = this.subarray(start, end);\n      Object.setPrototypeOf(newBuf, Buffer3.prototype);\n      return newBuf;\n    };\n    function checkOffset(offset, ext, length) {\n      if (offset % 1 !== 0 || offset < 0) throw new RangeError(\"offset is not uint\");\n      if (offset + ext > length) throw new RangeError(\"Trying to access beyond buffer length\");\n    }\n    Buffer3.prototype.readUintLE = Buffer3.prototype.readUIntLE = function readUIntLE(offset, byteLength2, noAssert) {\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) checkOffset(offset, byteLength2, this.length);\n      let val = this[offset];\n      let mul = 1;\n      let i = 0;\n      while (++i < byteLength2 && (mul *= 256)) {\n        val += this[offset + i] * mul;\n      }\n      return val;\n    };\n    Buffer3.prototype.readUintBE = Buffer3.prototype.readUIntBE = function readUIntBE(offset, byteLength2, noAssert) {\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) {\n        checkOffset(offset, byteLength2, this.length);\n      }\n      let val = this[offset + --byteLength2];\n      let mul = 1;\n      while (byteLength2 > 0 && (mul *= 256)) {\n        val += this[offset + --byteLength2] * mul;\n      }\n      return val;\n    };\n    Buffer3.prototype.readUint8 = Buffer3.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 1, this.length);\n      return this[offset];\n    };\n    Buffer3.prototype.readUint16LE = Buffer3.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      return this[offset] | this[offset + 1] << 8;\n    };\n    Buffer3.prototype.readUint16BE = Buffer3.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      return this[offset] << 8 | this[offset + 1];\n    };\n    Buffer3.prototype.readUint32LE = Buffer3.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;\n    };\n    Buffer3.prototype.readUint32BE = Buffer3.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n    };\n    Buffer3.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE(offset) {\n      offset = offset >>> 0;\n      validateNumber(offset, \"offset\");\n      const first = this[offset];\n      const last = this[offset + 7];\n      if (first === void 0 || last === void 0) {\n        boundsError(offset, this.length - 8);\n      }\n      const lo = first + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 24;\n      const hi = this[++offset] + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + last * 2 ** 24;\n      return BigInt(lo) + (BigInt(hi) << BigInt(32));\n    });\n    Buffer3.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE(offset) {\n      offset = offset >>> 0;\n      validateNumber(offset, \"offset\");\n      const first = this[offset];\n      const last = this[offset + 7];\n      if (first === void 0 || last === void 0) {\n        boundsError(offset, this.length - 8);\n      }\n      const hi = first * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + this[++offset];\n      const lo = this[++offset] * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + last;\n      return (BigInt(hi) << BigInt(32)) + BigInt(lo);\n    });\n    Buffer3.prototype.readIntLE = function readIntLE(offset, byteLength2, noAssert) {\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) checkOffset(offset, byteLength2, this.length);\n      let val = this[offset];\n      let mul = 1;\n      let i = 0;\n      while (++i < byteLength2 && (mul *= 256)) {\n        val += this[offset + i] * mul;\n      }\n      mul *= 128;\n      if (val >= mul) val -= Math.pow(2, 8 * byteLength2);\n      return val;\n    };\n    Buffer3.prototype.readIntBE = function readIntBE(offset, byteLength2, noAssert) {\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) checkOffset(offset, byteLength2, this.length);\n      let i = byteLength2;\n      let mul = 1;\n      let val = this[offset + --i];\n      while (i > 0 && (mul *= 256)) {\n        val += this[offset + --i] * mul;\n      }\n      mul *= 128;\n      if (val >= mul) val -= Math.pow(2, 8 * byteLength2);\n      return val;\n    };\n    Buffer3.prototype.readInt8 = function readInt8(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 1, this.length);\n      if (!(this[offset] & 128)) return this[offset];\n      return (255 - this[offset] + 1) * -1;\n    };\n    Buffer3.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      const val = this[offset] | this[offset + 1] << 8;\n      return val & 32768 ? val | 4294901760 : val;\n    };\n    Buffer3.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      const val = this[offset + 1] | this[offset] << 8;\n      return val & 32768 ? val | 4294901760 : val;\n    };\n    Buffer3.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n    };\n    Buffer3.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n    };\n    Buffer3.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE(offset) {\n      offset = offset >>> 0;\n      validateNumber(offset, \"offset\");\n      const first = this[offset];\n      const last = this[offset + 7];\n      if (first === void 0 || last === void 0) {\n        boundsError(offset, this.length - 8);\n      }\n      const val = this[offset + 4] + this[offset + 5] * 2 ** 8 + this[offset + 6] * 2 ** 16 + (last << 24);\n      return (BigInt(val) << BigInt(32)) + BigInt(first + this[++offset] * 2 ** 8 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 24);\n    });\n    Buffer3.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE(offset) {\n      offset = offset >>> 0;\n      validateNumber(offset, \"offset\");\n      const first = this[offset];\n      const last = this[offset + 7];\n      if (first === void 0 || last === void 0) {\n        boundsError(offset, this.length - 8);\n      }\n      const val = (first << 24) + // Overflow\n      this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + this[++offset];\n      return (BigInt(val) << BigInt(32)) + BigInt(this[++offset] * 2 ** 24 + this[++offset] * 2 ** 16 + this[++offset] * 2 ** 8 + last);\n    });\n    Buffer3.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return ieee754.read(this, offset, true, 23, 4);\n    };\n    Buffer3.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return ieee754.read(this, offset, false, 23, 4);\n    };\n    Buffer3.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 8, this.length);\n      return ieee754.read(this, offset, true, 52, 8);\n    };\n    Buffer3.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n      offset = offset >>> 0;\n      if (!noAssert) checkOffset(offset, 8, this.length);\n      return ieee754.read(this, offset, false, 52, 8);\n    };\n    function checkInt(buf, value, offset, ext, max, min) {\n      if (!Buffer3.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n      if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n      if (offset + ext > buf.length) throw new RangeError(\"Index out of range\");\n    }\n    Buffer3.prototype.writeUintLE = Buffer3.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength2, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) {\n        const maxBytes = Math.pow(2, 8 * byteLength2) - 1;\n        checkInt(this, value, offset, byteLength2, maxBytes, 0);\n      }\n      let mul = 1;\n      let i = 0;\n      this[offset] = value & 255;\n      while (++i < byteLength2 && (mul *= 256)) {\n        this[offset + i] = value / mul & 255;\n      }\n      return offset + byteLength2;\n    };\n    Buffer3.prototype.writeUintBE = Buffer3.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength2, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      byteLength2 = byteLength2 >>> 0;\n      if (!noAssert) {\n        const maxBytes = Math.pow(2, 8 * byteLength2) - 1;\n        checkInt(this, value, offset, byteLength2, maxBytes, 0);\n      }\n      let i = byteLength2 - 1;\n      let mul = 1;\n      this[offset + i] = value & 255;\n      while (--i >= 0 && (mul *= 256)) {\n        this[offset + i] = value / mul & 255;\n      }\n      return offset + byteLength2;\n    };\n    Buffer3.prototype.writeUint8 = Buffer3.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 1, 255, 0);\n      this[offset] = value & 255;\n      return offset + 1;\n    };\n    Buffer3.prototype.writeUint16LE = Buffer3.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 65535, 0);\n      this[offset] = value & 255;\n      this[offset + 1] = value >>> 8;\n      return offset + 2;\n    };\n    Buffer3.prototype.writeUint16BE = Buffer3.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 65535, 0);\n      this[offset] = value >>> 8;\n      this[offset + 1] = value & 255;\n      return offset + 2;\n    };\n    Buffer3.prototype.writeUint32LE = Buffer3.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 4294967295, 0);\n      this[offset + 3] = value >>> 24;\n      this[offset + 2] = value >>> 16;\n      this[offset + 1] = value >>> 8;\n      this[offset] = value & 255;\n      return offset + 4;\n    };\n    Buffer3.prototype.writeUint32BE = Buffer3.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 4294967295, 0);\n      this[offset] = value >>> 24;\n      this[offset + 1] = value >>> 16;\n      this[offset + 2] = value >>> 8;\n      this[offset + 3] = value & 255;\n      return offset + 4;\n    };\n    function wrtBigUInt64LE(buf, value, offset, min, max) {\n      checkIntBI(value, min, max, buf, offset, 7);\n      let lo = Number(value & BigInt(4294967295));\n      buf[offset++] = lo;\n      lo = lo >> 8;\n      buf[offset++] = lo;\n      lo = lo >> 8;\n      buf[offset++] = lo;\n      lo = lo >> 8;\n      buf[offset++] = lo;\n      let hi = Number(value >> BigInt(32) & BigInt(4294967295));\n      buf[offset++] = hi;\n      hi = hi >> 8;\n      buf[offset++] = hi;\n      hi = hi >> 8;\n      buf[offset++] = hi;\n      hi = hi >> 8;\n      buf[offset++] = hi;\n      return offset;\n    }\n    function wrtBigUInt64BE(buf, value, offset, min, max) {\n      checkIntBI(value, min, max, buf, offset, 7);\n      let lo = Number(value & BigInt(4294967295));\n      buf[offset + 7] = lo;\n      lo = lo >> 8;\n      buf[offset + 6] = lo;\n      lo = lo >> 8;\n      buf[offset + 5] = lo;\n      lo = lo >> 8;\n      buf[offset + 4] = lo;\n      let hi = Number(value >> BigInt(32) & BigInt(4294967295));\n      buf[offset + 3] = hi;\n      hi = hi >> 8;\n      buf[offset + 2] = hi;\n      hi = hi >> 8;\n      buf[offset + 1] = hi;\n      hi = hi >> 8;\n      buf[offset] = hi;\n      return offset + 8;\n    }\n    Buffer3.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE(value, offset = 0) {\n      return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n    });\n    Buffer3.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE(value, offset = 0) {\n      return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n    });\n    Buffer3.prototype.writeIntLE = function writeIntLE(value, offset, byteLength2, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) {\n        const limit = Math.pow(2, 8 * byteLength2 - 1);\n        checkInt(this, value, offset, byteLength2, limit - 1, -limit);\n      }\n      let i = 0;\n      let mul = 1;\n      let sub = 0;\n      this[offset] = value & 255;\n      while (++i < byteLength2 && (mul *= 256)) {\n        if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n          sub = 1;\n        }\n        this[offset + i] = (value / mul >> 0) - sub & 255;\n      }\n      return offset + byteLength2;\n    };\n    Buffer3.prototype.writeIntBE = function writeIntBE(value, offset, byteLength2, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) {\n        const limit = Math.pow(2, 8 * byteLength2 - 1);\n        checkInt(this, value, offset, byteLength2, limit - 1, -limit);\n      }\n      let i = byteLength2 - 1;\n      let mul = 1;\n      let sub = 0;\n      this[offset + i] = value & 255;\n      while (--i >= 0 && (mul *= 256)) {\n        if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n          sub = 1;\n        }\n        this[offset + i] = (value / mul >> 0) - sub & 255;\n      }\n      return offset + byteLength2;\n    };\n    Buffer3.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 1, 127, -128);\n      if (value < 0) value = 255 + value + 1;\n      this[offset] = value & 255;\n      return offset + 1;\n    };\n    Buffer3.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 32767, -32768);\n      this[offset] = value & 255;\n      this[offset + 1] = value >>> 8;\n      return offset + 2;\n    };\n    Buffer3.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 32767, -32768);\n      this[offset] = value >>> 8;\n      this[offset + 1] = value & 255;\n      return offset + 2;\n    };\n    Buffer3.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 2147483647, -2147483648);\n      this[offset] = value & 255;\n      this[offset + 1] = value >>> 8;\n      this[offset + 2] = value >>> 16;\n      this[offset + 3] = value >>> 24;\n      return offset + 4;\n    };\n    Buffer3.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 2147483647, -2147483648);\n      if (value < 0) value = 4294967295 + value + 1;\n      this[offset] = value >>> 24;\n      this[offset + 1] = value >>> 16;\n      this[offset + 2] = value >>> 8;\n      this[offset + 3] = value & 255;\n      return offset + 4;\n    };\n    Buffer3.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE(value, offset = 0) {\n      return wrtBigUInt64LE(this, value, offset, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n    });\n    Buffer3.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE(value, offset = 0) {\n      return wrtBigUInt64BE(this, value, offset, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n    });\n    function checkIEEE754(buf, value, offset, ext, max, min) {\n      if (offset + ext > buf.length) throw new RangeError(\"Index out of range\");\n      if (offset < 0) throw new RangeError(\"Index out of range\");\n    }\n    function writeFloat(buf, value, offset, littleEndian, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) {\n        checkIEEE754(buf, value, offset, 4, 34028234663852886e22, -34028234663852886e22);\n      }\n      ieee754.write(buf, value, offset, littleEndian, 23, 4);\n      return offset + 4;\n    }\n    Buffer3.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n      return writeFloat(this, value, offset, true, noAssert);\n    };\n    Buffer3.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n      return writeFloat(this, value, offset, false, noAssert);\n    };\n    function writeDouble(buf, value, offset, littleEndian, noAssert) {\n      value = +value;\n      offset = offset >>> 0;\n      if (!noAssert) {\n        checkIEEE754(buf, value, offset, 8, 17976931348623157e292, -17976931348623157e292);\n      }\n      ieee754.write(buf, value, offset, littleEndian, 52, 8);\n      return offset + 8;\n    }\n    Buffer3.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n      return writeDouble(this, value, offset, true, noAssert);\n    };\n    Buffer3.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n      return writeDouble(this, value, offset, false, noAssert);\n    };\n    Buffer3.prototype.copy = function copy(target, targetStart, start, end) {\n      if (!Buffer3.isBuffer(target)) throw new TypeError(\"argument should be a Buffer\");\n      if (!start) start = 0;\n      if (!end && end !== 0) end = this.length;\n      if (targetStart >= target.length) targetStart = target.length;\n      if (!targetStart) targetStart = 0;\n      if (end > 0 && end < start) end = start;\n      if (end === start) return 0;\n      if (target.length === 0 || this.length === 0) return 0;\n      if (targetStart < 0) {\n        throw new RangeError(\"targetStart out of bounds\");\n      }\n      if (start < 0 || start >= this.length) throw new RangeError(\"Index out of range\");\n      if (end < 0) throw new RangeError(\"sourceEnd out of bounds\");\n      if (end > this.length) end = this.length;\n      if (target.length - targetStart < end - start) {\n        end = target.length - targetStart + start;\n      }\n      const len = end - start;\n      if (this === target && typeof Uint8Array.prototype.copyWithin === \"function\") {\n        this.copyWithin(targetStart, start, end);\n      } else {\n        Uint8Array.prototype.set.call(\n          target,\n          this.subarray(start, end),\n          targetStart\n        );\n      }\n      return len;\n    };\n    Buffer3.prototype.fill = function fill(val, start, end, encoding) {\n      if (typeof val === \"string\") {\n        if (typeof start === \"string\") {\n          encoding = start;\n          start = 0;\n          end = this.length;\n        } else if (typeof end === \"string\") {\n          encoding = end;\n          end = this.length;\n        }\n        if (encoding !== void 0 && typeof encoding !== \"string\") {\n          throw new TypeError(\"encoding must be a string\");\n        }\n        if (typeof encoding === \"string\" && !Buffer3.isEncoding(encoding)) {\n          throw new TypeError(\"Unknown encoding: \" + encoding);\n        }\n        if (val.length === 1) {\n          const code = val.charCodeAt(0);\n          if (encoding === \"utf8\" && code < 128 || encoding === \"latin1\") {\n            val = code;\n          }\n        }\n      } else if (typeof val === \"number\") {\n        val = val & 255;\n      } else if (typeof val === \"boolean\") {\n        val = Number(val);\n      }\n      if (start < 0 || this.length < start || this.length < end) {\n        throw new RangeError(\"Out of range index\");\n      }\n      if (end <= start) {\n        return this;\n      }\n      start = start >>> 0;\n      end = end === void 0 ? this.length : end >>> 0;\n      if (!val) val = 0;\n      let i;\n      if (typeof val === \"number\") {\n        for (i = start; i < end; ++i) {\n          this[i] = val;\n        }\n      } else {\n        const bytes = Buffer3.isBuffer(val) ? val : Buffer3.from(val, encoding);\n        const len = bytes.length;\n        if (len === 0) {\n          throw new TypeError('The value \"' + val + '\" is invalid for argument \"value\"');\n        }\n        for (i = 0; i < end - start; ++i) {\n          this[i + start] = bytes[i % len];\n        }\n      }\n      return this;\n    };\n    var errors = {};\n    function E(sym, getMessage, Base) {\n      errors[sym] = class NodeError extends Base {\n        constructor() {\n          super();\n          Object.defineProperty(this, \"message\", {\n            value: getMessage.apply(this, arguments),\n            writable: true,\n            configurable: true\n          });\n          this.name = `${this.name} [${sym}]`;\n          this.stack;\n          delete this.name;\n        }\n        get code() {\n          return sym;\n        }\n        set code(value) {\n          Object.defineProperty(this, \"code\", {\n            configurable: true,\n            enumerable: true,\n            value,\n            writable: true\n          });\n        }\n        toString() {\n          return `${this.name} [${sym}]: ${this.message}`;\n        }\n      };\n    }\n    E(\n      \"ERR_BUFFER_OUT_OF_BOUNDS\",\n      function(name) {\n        if (name) {\n          return `${name} is outside of buffer bounds`;\n        }\n        return \"Attempt to access memory outside buffer bounds\";\n      },\n      RangeError\n    );\n    E(\n      \"ERR_INVALID_ARG_TYPE\",\n      function(name, actual) {\n        return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`;\n      },\n      TypeError\n    );\n    E(\n      \"ERR_OUT_OF_RANGE\",\n      function(str, range, input) {\n        let msg = `The value of \"${str}\" is out of range.`;\n        let received = input;\n        if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n          received = addNumericalSeparator(String(input));\n        } else if (typeof input === \"bigint\") {\n          received = String(input);\n          if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n            received = addNumericalSeparator(received);\n          }\n          received += \"n\";\n        }\n        msg += ` It must be ${range}. Received ${received}`;\n        return msg;\n      },\n      RangeError\n    );\n    function addNumericalSeparator(val) {\n      let res = \"\";\n      let i = val.length;\n      const start = val[0] === \"-\" ? 1 : 0;\n      for (; i >= start + 4; i -= 3) {\n        res = `_${val.slice(i - 3, i)}${res}`;\n      }\n      return `${val.slice(0, i)}${res}`;\n    }\n    function checkBounds(buf, offset, byteLength2) {\n      validateNumber(offset, \"offset\");\n      if (buf[offset] === void 0 || buf[offset + byteLength2] === void 0) {\n        boundsError(offset, buf.length - (byteLength2 + 1));\n      }\n    }\n    function checkIntBI(value, min, max, buf, offset, byteLength2) {\n      if (value > max || value < min) {\n        const n = typeof min === \"bigint\" ? \"n\" : \"\";\n        let range;\n        if (byteLength2 > 3) {\n          if (min === 0 || min === BigInt(0)) {\n            range = `>= 0${n} and < 2${n} ** ${(byteLength2 + 1) * 8}${n}`;\n          } else {\n            range = `>= -(2${n} ** ${(byteLength2 + 1) * 8 - 1}${n}) and < 2 ** ${(byteLength2 + 1) * 8 - 1}${n}`;\n          }\n        } else {\n          range = `>= ${min}${n} and <= ${max}${n}`;\n        }\n        throw new errors.ERR_OUT_OF_RANGE(\"value\", range, value);\n      }\n      checkBounds(buf, offset, byteLength2);\n    }\n    function validateNumber(value, name) {\n      if (typeof value !== \"number\") {\n        throw new errors.ERR_INVALID_ARG_TYPE(name, \"number\", value);\n      }\n    }\n    function boundsError(value, length, type) {\n      if (Math.floor(value) !== value) {\n        validateNumber(value, type);\n        throw new errors.ERR_OUT_OF_RANGE(type || \"offset\", \"an integer\", value);\n      }\n      if (length < 0) {\n        throw new errors.ERR_BUFFER_OUT_OF_BOUNDS();\n      }\n      throw new errors.ERR_OUT_OF_RANGE(\n        type || \"offset\",\n        `>= ${type ? 1 : 0} and <= ${length}`,\n        value\n      );\n    }\n    var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;\n    function base64clean(str) {\n      str = str.split(\"=\")[0];\n      str = str.trim().replace(INVALID_BASE64_RE, \"\");\n      if (str.length < 2) return \"\";\n      while (str.length % 4 !== 0) {\n        str = str + \"=\";\n      }\n      return str;\n    }\n    function utf8ToBytes(string, units) {\n      units = units || Infinity;\n      let codePoint;\n      const length = string.length;\n      let leadSurrogate = null;\n      const bytes = [];\n      for (let i = 0; i < length; ++i) {\n        codePoint = string.charCodeAt(i);\n        if (codePoint > 55295 && codePoint < 57344) {\n          if (!leadSurrogate) {\n            if (codePoint > 56319) {\n              if ((units -= 3) > -1) bytes.push(239, 191, 189);\n              continue;\n            } else if (i + 1 === length) {\n              if ((units -= 3) > -1) bytes.push(239, 191, 189);\n              continue;\n            }\n            leadSurrogate = codePoint;\n            continue;\n          }\n          if (codePoint < 56320) {\n            if ((units -= 3) > -1) bytes.push(239, 191, 189);\n            leadSurrogate = codePoint;\n            continue;\n          }\n          codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;\n        } else if (leadSurrogate) {\n          if ((units -= 3) > -1) bytes.push(239, 191, 189);\n        }\n        leadSurrogate = null;\n        if (codePoint < 128) {\n          if ((units -= 1) < 0) break;\n          bytes.push(codePoint);\n        } else if (codePoint < 2048) {\n          if ((units -= 2) < 0) break;\n          bytes.push(\n            codePoint >> 6 | 192,\n            codePoint & 63 | 128\n          );\n        } else if (codePoint < 65536) {\n          if ((units -= 3) < 0) break;\n          bytes.push(\n            codePoint >> 12 | 224,\n            codePoint >> 6 & 63 | 128,\n            codePoint & 63 | 128\n          );\n        } else if (codePoint < 1114112) {\n          if ((units -= 4) < 0) break;\n          bytes.push(\n            codePoint >> 18 | 240,\n            codePoint >> 12 & 63 | 128,\n            codePoint >> 6 & 63 | 128,\n            codePoint & 63 | 128\n          );\n        } else {\n          throw new Error(\"Invalid code point\");\n        }\n      }\n      return bytes;\n    }\n    function asciiToBytes(str) {\n      const byteArray = [];\n      for (let i = 0; i < str.length; ++i) {\n        byteArray.push(str.charCodeAt(i) & 255);\n      }\n      return byteArray;\n    }\n    function utf16leToBytes(str, units) {\n      let c, hi, lo;\n      const byteArray = [];\n      for (let i = 0; i < str.length; ++i) {\n        if ((units -= 2) < 0) break;\n        c = str.charCodeAt(i);\n        hi = c >> 8;\n        lo = c % 256;\n        byteArray.push(lo);\n        byteArray.push(hi);\n      }\n      return byteArray;\n    }\n    function base64ToBytes(str) {\n      return base64.toByteArray(base64clean(str));\n    }\n    function blitBuffer(src, dst, offset, length) {\n      let i;\n      for (i = 0; i < length; ++i) {\n        if (i + offset >= dst.length || i >= src.length) break;\n        dst[i + offset] = src[i];\n      }\n      return i;\n    }\n    function isInstance(obj, type) {\n      return obj instanceof type || obj != null && obj.constructor != null && obj.constructor.name != null && obj.constructor.name === type.name;\n    }\n    function numberIsNaN(obj) {\n      return obj !== obj;\n    }\n    var hexSliceLookupTable = (function() {\n      const alphabet = \"0123456789abcdef\";\n      const table = new Array(256);\n      for (let i = 0; i < 16; ++i) {\n        const i16 = i * 16;\n        for (let j = 0; j < 16; ++j) {\n          table[i16 + j] = alphabet[i] + alphabet[j];\n        }\n      }\n      return table;\n    })();\n    function defineBigIntMethod(fn) {\n      return typeof BigInt === \"undefined\" ? BufferBigIntNotDefined : fn;\n    }\n    function BufferBigIntNotDefined() {\n      throw new Error(\"BigInt not supported\");\n    }\n  }\n});\n\n// buffer-shim.js\nvar import_buffer = __toESM(require_buffer(), 1);\nglobalThis.Buffer = import_buffer.Buffer;\n/*! Bundled license information:\n\nieee754/index.js:\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n*/\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * FS Polyfill - Main entry point for Node.js fs module polyfill\n */\n\nimport { request as asyncRequest } from './fs.worker-pool'\nimport { setRequestFn, setAsyncRequestFn, setFireAndForgetFn, setSyncRequestFn } from './polyfill'\nimport { logger, logStart, logEnd } from './logger'\nimport { configure, getConfig, getStorageMode } from './config'\nimport { initTabTracker, getTabId } from './utils/tab-tracker'\nimport type { FsConfig, StorageMode } from './config'\nimport type { LogLevel, LogEntry, LoggerConfig } from './logger'\n\nimport {\n    SYNC_STATUS_OFFSET, SYNC_LENGTH_OFFSET, SYNC_TYPE_OFFSET, SYNC_DATA_OFFSET,\n    STATUS_REQUEST, STATUS_ERROR, RESPONSE_TYPE_BINARY, SYNC_SAB_SIZE, FS_PRIMARY_LOCK,\n    writeSyncRequest, acquireSabLock, releaseSabLock\n} from './fs.sab-utils'\n\nimport {\n    setReadyCallbacks as setPrimaryReadyCallbacks,\n    getSyncSAB, getEventsSAB, getSyncWorkerReady, getIsPrimaryTab, getSyncWorker,\n    createSABsAndInitPrimary, scheduleSabPersist, setupPrimaryServiceWorkerListener,\n    setupTabTrackerCallbacks, fireAndForget, promoteToTruePrimary,\n    setActiveServiceWorker, getActiveServiceWorker\n} from './fs.primary'\n\nimport {\n    setReadyCallbacks as setSecondaryReadyCallbacks,\n    initSecondary, reconnectToPrimary, isSyncSupported, getSafariPrimaryPort, safariAsyncRequest,\n    getRelayWorker\n} from './fs.secondary'\n\nimport { becomePrimary } from './utils/tab-tracker'\nimport { Dirent, Stats } from './classes'\n\n// Re-export all methods from polyfill modules\nexport * from './polyfill'\nexport { constants } from './constants'\nexport * from './constants'\n\n// Browser detection\nconst isFirefox = /Firefox/.test(navigator.userAgent)\n\n// Track sync support\nlet syncSupported = true\n\n// Export classes\nexport { Stats, BigIntStats, Dirent, Dir, FileHandle, ReadStream, WriteStream, FSError } from './classes'\nexport type { FSWatcher } from './polyfill'\n\n// Reconstruct class instances from JSON\nfunction reconstructClasses(value: unknown): unknown {\n    if (value === null || value === undefined) return value\n    if (Array.isArray(value)) return value.map(reconstructClasses)\n    if (typeof value === 'object') {\n        const obj = value as Record<string, unknown>\n        if (obj.__type === 'Dirent') return Dirent.fromJSON(obj as any)\n        if (obj.__type === 'Stats') return Stats.fromJSON(obj as any)\n        const result: Record<string, unknown> = {}\n        for (const key of Object.keys(obj)) result[key] = reconstructClasses(obj[key])\n        return result\n    }\n    return value\n}\n\n// Write methods that trigger persistence\nconst WRITE_METHODS = new Set([\n    'writeFileSync', 'appendFileSync', 'mkdirSync', 'rmdirSync', 'unlinkSync',\n    'renameSync', 'copyFileSync', 'rmSync', 'truncateSync', 'chmodSync',\n    'chownSync', 'lchmodSync', 'lchownSync', 'linkSync', 'symlinkSync',\n    'utimesSync', 'lutimesSync', 'cpSync', 'mkdtempSync', 'writeSync',\n    'ftruncateSync', 'fchmodSync', 'fchownSync', 'futimesSync',\n    'fsyncSync', 'fdatasyncSync', 'writevSync',\n])\n\nconst isWorkerContext = typeof window === 'undefined' || (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\nconsole.log('[FS] Cross-origin isolated:', crossOriginIsolated)\nif (!crossOriginIsolated) {\n    console.warn('[FS] Page is NOT cross-origin isolated. SharedArrayBuffer may not work.')\n}\n\n// ServiceWorker registration\nasync function registerServiceWorker(): Promise<ServiceWorker | null> {\n    if (!('serviceWorker' in navigator)) return null\n\n    try {\n        const reg = await navigator.serviceWorker.register('/future/fs.service.worker.js')\n        const waitForActive = async (): Promise<ServiceWorker> => {\n            if (reg.active) return reg.active\n            const sw = reg.installing || reg.waiting\n            if (!sw) throw new Error('No service worker found')\n\n            return new Promise((resolve, reject) => {\n                const onStateChange = () => {\n                    if (sw.state === 'activated') { sw.removeEventListener('statechange', onStateChange); resolve(sw) }\n                    else if (sw.state === 'redundant') { sw.removeEventListener('statechange', onStateChange); reject(new Error('SW redundant')) }\n                }\n                sw.addEventListener('statechange', onStateChange)\n            })\n        }\n\n        const activeSw = await waitForActive()\n        // Store active SW ref  use reg.active directly (works even when page is outside SW scope)\n        setActiveServiceWorker(activeSw)\n\n        // Update stored ref if SW updates and page is in scope\n        navigator.serviceWorker.addEventListener('controllerchange', () => {\n            if (navigator.serviceWorker.controller) {\n                setActiveServiceWorker(navigator.serviceWorker.controller)\n            }\n        })\n\n        return activeSw\n    } catch (err) {\n        console.error('[FS] ServiceWorker registration failed:', err)\n        return null\n    }\n}\n\n// Initialize using Web Locks API\nasync function initializeFS() {\n    console.log('[FS] Initializing...')\n\n    if (isWorkerContext) {\n        syncSupported = false\n        readyResolve?.()\n        return\n    }\n\n    if (!('locks' in navigator)) {\n        console.warn('[FS] Web Locks API not supported')\n        createSABsAndInitPrimary()\n        return\n    }\n\n    initTabTracker()\n    console.log(`[FS] Tab ID: ${getTabId()}`)\n\n    setupTabTrackerCallbacks(reconnectToPrimary)\n    await registerServiceWorker()\n\n    const lockAcquired = await navigator.locks.request(FS_PRIMARY_LOCK, { ifAvailable: true }, async (lock) => {\n        if (lock) {\n            console.log('[FS] Acquired primary lock - this tab is primary')\n            setupPrimaryServiceWorkerListener()\n            becomePrimary()\n            createSABsAndInitPrimary()\n            await new Promise(() => {})\n        }\n        return lock !== null\n    })\n\n    if (!lockAcquired) {\n        console.log('[FS] Primary lock held by another tab - this tab is secondary')\n        initSecondary()\n\n        navigator.locks.request(FS_PRIMARY_LOCK, async () => {\n            promoteToTruePrimary(getRelayWorker())\n            await new Promise(() => {})\n        })\n    }\n}\n\n// Ready promise\nlet readyResolve: (() => void) | null = null\nlet readyReject: ((error: Error) => void) | null = null\nlet readyPromise: Promise<void> | null = null\nlet initStarted = false\n\nfunction createReadyPromise() {\n    if (readyPromise) return readyPromise\n    readyPromise = new Promise<void>((resolve, reject) => {\n        readyResolve = resolve\n        readyReject = reject\n        setPrimaryReadyCallbacks(resolve, reject)\n        setSecondaryReadyCallbacks(resolve, reject)\n        setTimeout(() => reject(new Error('FS worker initialization timed out')), 10000)\n    })\n    return readyPromise\n}\n\n/**\n * Wait for the FS polyfill to be fully initialized\n *\n * Use this when you need to ensure the filesystem is ready before making calls.\n * Must be called after init().\n *\n * @returns Promise that resolves when FS is ready\n * @throws Error if init() hasn't been called yet\n *\n * @example\n * ```typescript\n * await fs.init()\n * await fs.whenReady()\n * // FS is now ready to use\n * const content = fs.readFileSync('/file.txt', 'utf8')\n * ```\n */\nexport const whenReady = () => {\n    if (!initStarted) throw new Error('FS not initialized. Call fs.init() first.')\n    return createReadyPromise()\n}\n\n/**\n * Initialize the FS polyfill\n *\n * This sets up the filesystem with OPFS backing storage and SharedArrayBuffer\n * for synchronous operations. In a multi-tab environment, one tab becomes the\n * \"primary\" that owns OPFS access, while others relay through it.\n *\n * Call this once during app startup, then use whenReady() to wait for completion.\n *\n * @returns Promise that resolves when FS is initialized\n *\n * @example\n * ```typescript\n * // During app startup\n * await fs.init()\n *\n * // Then use filesystem normally\n * fs.writeFileSync('/hello.txt', 'Hello World')\n * ```\n */\nexport async function init(): Promise<void> {\n    if (initStarted) return createReadyPromise()\n    initStarted = true\n    createReadyPromise()\n    console.log('[FS] init() called - starting initialization...')\n    initializeFS()\n    return readyPromise!\n}\n\n// Sync request function\nconst request = (method: string, args: unknown[]): unknown => {\n    if (!initStarted) throw new Error('FS not initialized. Call fs.init() first.')\n    if (!isSyncSupported()) {\n        throw new Error(`Sync fs operations not supported. Use async methods instead: fs.promises.${method.replace('Sync', '')}()`)\n    }\n\n    const syncSAB = getSyncSAB()\n    if (!syncSAB || !getSyncWorkerReady()) throw new Error('FS not ready')\n\n    const logHandle = logStart(method, args, 'main')\n    const statusArray = new Int32Array(syncSAB, SYNC_STATUS_OFFSET, 1)\n    const lengthView = new DataView(syncSAB, SYNC_LENGTH_OFFSET, 4)\n    const decoder = new TextDecoder()\n\n    // Acquire exclusive SAB lock to prevent race with primary tab's primaryExecuteSync\n    acquireSabLock(syncSAB, isWorkerContext)\n\n    try {\n        writeSyncRequest(syncSAB, method, args)\n        Atomics.store(statusArray, 0, STATUS_REQUEST)\n        Atomics.notify(statusArray, 0)\n\n        let iterations = 0\n        while (Atomics.load(statusArray, 0) === STATUS_REQUEST) {\n            if (!isFirefox) continue\n            iterations++\n            if (iterations > 50000) throw new Error('FS request timeout')\n            const xhr = new XMLHttpRequest()\n            xhr.open('GET', `data:,${iterations}`, false)\n            try { xhr.send() } catch {}\n        }\n\n        const status = Atomics.load(statusArray, 0)\n        const responseType = new Uint8Array(syncSAB, SYNC_TYPE_OFFSET, 1)[0]\n        const responseLength = lengthView.getUint32(0)\n\n        if (responseLength > SYNC_SAB_SIZE - SYNC_DATA_OFFSET || responseLength < 0) {\n            Atomics.store(statusArray, 0, 0)\n            throw new Error(`Invalid response length: ${responseLength}`)\n        }\n\n        Atomics.store(statusArray, 0, 0)\n\n        if (responseType === RESPONSE_TYPE_BINARY) {\n            if (status === STATUS_ERROR) throw new Error('Unexpected binary error')\n            logEnd(logHandle, 'success')\n            if (WRITE_METHODS.has(method)) scheduleSabPersist()\n            return Buffer.from(new Uint8Array(syncSAB, SYNC_DATA_OFFSET, responseLength).slice())\n        }\n\n        const response = JSON.parse(decoder.decode(new Uint8Array(syncSAB, SYNC_DATA_OFFSET, responseLength).slice()))\n\n        if (status === STATUS_ERROR) {\n            logEnd(logHandle, 'error', response.error)\n            const err = new Error(response.error) as any\n            err.code = response.code; err.errno = response.errno; err.syscall = response.syscall; err.path = response.path\n            throw err\n        }\n\n        logEnd(logHandle, 'success')\n        if (WRITE_METHODS.has(method)) scheduleSabPersist()\n        return reconstructClasses(response.result)\n    } catch (err) {\n        logEnd(logHandle, 'error', (err as Error).message)\n        throw err\n    } finally {\n        releaseSabLock(syncSAB)\n    }\n}\n\nconst asyncRequestWrapper = (method: string, args: unknown[]): Promise<unknown> => {\n    if (getIsPrimaryTab()) return asyncRequest(method, args)\n    else if (!isSyncSupported() && getSafariPrimaryPort()) return safariAsyncRequest(method, args)\n    else return Promise.resolve(request(method, args))\n}\n\nsetRequestFn(request)\nsetAsyncRequestFn(asyncRequestWrapper)\nsetFireAndForgetFn(fireAndForget)\nsetSyncRequestFn(request)\n\n// Exports\nexport { scheduleSabPersist }\nexport { getSyncSAB, getEventsSAB }\nexport const isReady = getSyncWorkerReady\nexport { isSyncSupported }\n\nexport const enterDeferredFlushMode = () => { getSyncWorker()?.postMessage({ type: 'enterDeferredFlush' }) }\nexport const exitDeferredFlushMode = () => { getSyncWorker()?.postMessage({ type: 'exitDeferredFlush' }) }\n\n// Import methods for promises/default exports\nimport {\n    readFileSync, writeFileSync, appendFileSync, existsSync, accessSync,\n    unlinkSync, rmSync, mkdirSync, rmdirSync, readdirSync, opendirSync,\n    statSync, lstatSync, statfsSync, renameSync, copyFileSync, cpSync,\n    truncateSync, chmodSync, chownSync, lchmodSync, lchownSync,\n    linkSync, symlinkSync, readlinkSync, realpathSync, mkdtempSync,\n    utimesSync, lutimesSync, openSync, closeSync, readSync, writeSync,\n    fstatSync, fsyncSync, fdatasyncSync, ftruncateSync, fchmodSync,\n    fchownSync, futimesSync, readvSync, writevSync, globSync,\n    readFile, writeFile, appendFile, exists, access,\n    unlink, rm, mkdir, rmdir, readdir, opendir,\n    stat, lstat, statfs, rename, copyFile, cp,\n    truncate, chmod, chown, lchmod, lchown,\n    link, symlink, readlink, realpath, mkdtemp,\n    utimes, lutimes, open, close, read, write,\n    fstat, fsync, fdatasync, ftruncate, fchmod,\n    fchown, futimes, readv, writev, watch,\n    glob, watchFile, unwatchFile, createReadStream, createWriteStream,\n    vfsLoad, vfsExtract,\n} from './polyfill'\n\nimport { constants } from './constants'\n\nexport const promises = {\n    readFile, writeFile, appendFile, exists, access, unlink, rm, mkdir, rmdir,\n    readdir, opendir, stat, lstat, statfs, rename, copyFile, cp, truncate,\n    chmod, chown, lchmod, lchown, link, symlink, readlink, realpath, mkdtemp,\n    utimes, lutimes, open, close, read, write, fstat, fsync, fdatasync,\n    ftruncate, fchmod, fchown, futimes, readv, writev, glob, watch,\n}\n\nexport const logging = {\n    enable: () => logger.enable(), disable: () => logger.disable(),\n    isEnabled: () => logger.isEnabled(), setLevel: (l: LogLevel) => logger.setLevel(l),\n    setMethods: (m: string[] | undefined) => logger.setMethods(m),\n    setConsole: (e: boolean) => logger.setConsole(e),\n    setBuffer: (e: boolean, s?: number) => logger.setBuffer(e, s),\n    getEntries: () => logger.getEntries(), clear: () => logger.clear(),\n    export: () => logger.export(), getConfig: () => logger.getConfig(),\n}\n\nexport default {\n    readFileSync, writeFileSync, appendFileSync, existsSync, accessSync,\n    unlinkSync, rmSync, mkdirSync, rmdirSync, readdirSync, opendirSync,\n    statSync, lstatSync, statfsSync, renameSync, copyFileSync, cpSync,\n    truncateSync, chmodSync, chownSync, lchmodSync, lchownSync,\n    linkSync, symlinkSync, readlinkSync, realpathSync, mkdtempSync,\n    utimesSync, lutimesSync, openSync, closeSync, readSync, writeSync,\n    fstatSync, fsyncSync, fdatasyncSync, ftruncateSync, fchmodSync,\n    fchownSync, futimesSync, readvSync, writevSync, globSync,\n    readFile, writeFile, appendFile, exists, access, unlink, rm, mkdir, rmdir,\n    readdir, opendir, stat, lstat, statfs, rename, copyFile, cp, truncate,\n    chmod, chown, lchmod, lchown, link, symlink, readlink, realpath, mkdtemp,\n    utimes, lutimes, open, close, read, write, fstat, fsync, fdatasync,\n    ftruncate, fchmod, fchown, futimes, readv, writev, watch, glob,\n    watchFile, unwatchFile, createReadStream, createWriteStream,\n    constants, promises, logging, configure, getConfig, getStorageMode, init,\n    vfsLoad, vfsExtract,\n}\n\nexport { configure, getConfig, getStorageMode }\nexport { vfsLoad, vfsExtract }\nexport type { FsConfig, StorageMode, LogLevel, LogEntry, LoggerConfig }\n","// Worker pool with auto-scaling for async FS operations\n\nimport { logStart, logEnd, type LogHandle } from './logger'\nimport { WORKER_POOL, TIMEOUTS } from './app-constants'\n\n// Configuration (from centralized constants)\nconst MAX_WORKERS = WORKER_POOL.MAX_WORKERS\nconst MIN_WORKERS = WORKER_POOL.MIN_WORKERS\nconst WORKER_IDLE_TIMEOUT = TIMEOUTS.WORKER_IDLE\nconst SCALE_UP_QUEUE_THRESHOLD = WORKER_POOL.SCALE_UP_THRESHOLD\nconst SCALE_CHECK_INTERVAL = TIMEOUTS.SCALE_CHECK\n\ninterface PendingRequest {\n  resolve: (value: unknown) => void\n  reject: (error: Error) => void\n  logHandle: LogHandle | null\n}\n\ninterface PooledWorker {\n  worker: Worker\n  busy: boolean\n  initialized: boolean\n  lastActivity: number // Timestamp of last activity\n  id: number // Unique worker ID for debugging\n}\n\nconst workers: PooledWorker[] = []\nconst pending = new Map<number, PendingRequest>()\nconst queue: Array<{ id: number; method: string; args: unknown[] }> = []\nlet nextId = 0\nlet nextWorkerId = 0\nlet eventsSAB: SharedArrayBuffer | null = null\nlet scaleCheckTimer: ReturnType<typeof setInterval> | null = null\nlet initialized = false\n\n// Metrics for monitoring (exported for debugging)\nexport const metrics = {\n  totalRequests: 0,\n  peakQueueDepth: 0,\n  peakWorkerCount: 0,\n  workersCreated: 0,\n  workersTerminated: 0,\n}\n\nexport const setSharedArrayBuffer = (sab: SharedArrayBuffer) => {\n  eventsSAB = sab\n  // Initialize any existing workers\n  for (const pooled of workers) {\n    if (!pooled.initialized) {\n      pooled.worker.postMessage({ type: 'init', eventsSAB: sab })\n      pooled.initialized = true\n    }\n  }\n\n  // Start auto-scaling if not already started\n  if (!initialized) {\n    initialized = true\n    startAutoScaling()\n    // Create initial minimum workers\n    ensureMinWorkers()\n  }\n\n  // Process any queued requests now that workers are initialized\n  processQueue()\n}\n\nfunction ensureMinWorkers() {\n  while (workers.length < MIN_WORKERS) {\n    createWorker()\n  }\n}\n\nconst createWorker = (): PooledWorker => {\n  const worker = new Worker(new URL('./fs.async.worker.js', import.meta.url), { type: 'module' })\n  const pooled: PooledWorker = {\n    worker,\n    busy: false,\n    initialized: false,\n    lastActivity: Date.now(),\n    id: nextWorkerId++,\n  }\n  worker.onmessage = (event) => handleMessage(pooled, event)\n  workers.push(pooled)\n  metrics.workersCreated++\n\n  // Update peak worker count\n  if (workers.length > metrics.peakWorkerCount) {\n    metrics.peakWorkerCount = workers.length\n  }\n\n  // Initialize with SAB if available\n  if (eventsSAB) {\n    worker.postMessage({ type: 'init', eventsSAB })\n    pooled.initialized = true\n  }\n\n  return pooled\n}\n\nfunction terminateWorker(pooled: PooledWorker) {\n  const index = workers.indexOf(pooled)\n  if (index !== -1) {\n    workers.splice(index, 1)\n    pooled.worker.terminate()\n    metrics.workersTerminated++\n  }\n}\n\nfunction getIdleWorker(): PooledWorker | null {\n  // Find an existing idle AND initialized worker\n  // Workers must be initialized (have received SAB) before they can process requests\n  const idle = workers.find(w => !w.busy && w.initialized)\n  if (idle) {\n    idle.lastActivity = Date.now()\n    return idle\n  }\n\n  // Scale up if under max - only if SAB is available (workers will be initialized immediately)\n  if (workers.length < MAX_WORKERS && eventsSAB) {\n    return createWorker()\n  }\n\n  return null\n}\n\nfunction processQueue() {\n  // Update peak queue depth metric\n  if (queue.length > metrics.peakQueueDepth) {\n    metrics.peakQueueDepth = queue.length\n  }\n\n  while (queue.length > 0) {\n    const pooled = getIdleWorker()\n    if (!pooled) break\n    const task = queue.shift()!\n    pooled.busy = true\n    pooled.lastActivity = Date.now()\n    pooled.worker.postMessage(task)\n  }\n\n  // Trigger immediate scale-up if queue is getting deep\n  // Only scale up if SAB is available so workers can be initialized\n  if (queue.length >= SCALE_UP_QUEUE_THRESHOLD && workers.length < MAX_WORKERS && eventsSAB) {\n    const newWorker = createWorker()\n    // Only dispatch if worker was initialized (SAB was available)\n    if (newWorker.initialized && queue.length > 0) {\n      const task = queue.shift()!\n      newWorker.busy = true\n      newWorker.lastActivity = Date.now()\n      newWorker.worker.postMessage(task)\n    }\n  }\n}\n\nfunction handleMessage(pooled: PooledWorker, event: MessageEvent) {\n  const { id, result, error } = event.data\n  const req = pending.get(id)\n  if (req) {\n    pending.delete(id)\n    if (error) {\n      logEnd(req.logHandle, 'error', error)\n      req.reject(new Error(error))\n    } else {\n      logEnd(req.logHandle, 'success')\n      req.resolve(result)\n    }\n  }\n  pooled.busy = false\n  pooled.lastActivity = Date.now()\n  processQueue()\n}\n\n// Auto-scaling: periodically check and terminate idle workers\nfunction startAutoScaling() {\n  if (scaleCheckTimer) return\n\n  scaleCheckTimer = setInterval(() => {\n    const now = Date.now()\n\n    // Find workers that have been idle too long\n    const idleWorkers = workers.filter(\n      w => !w.busy && (now - w.lastActivity) > WORKER_IDLE_TIMEOUT\n    )\n\n    // Terminate idle workers, but keep at least MIN_WORKERS\n    for (const worker of idleWorkers) {\n      if (workers.length > MIN_WORKERS) {\n        terminateWorker(worker)\n      }\n    }\n  }, SCALE_CHECK_INTERVAL)\n}\n\n// Stop auto-scaling (for cleanup)\nexport function stopAutoScaling() {\n  if (scaleCheckTimer) {\n    clearInterval(scaleCheckTimer)\n    scaleCheckTimer = null\n  }\n}\n\n// Get current pool status (for debugging/monitoring)\nexport function getPoolStatus() {\n  return {\n    workers: workers.length,\n    busy: workers.filter(w => w.busy).length,\n    idle: workers.filter(w => !w.busy).length,\n    queueLength: queue.length,\n    pendingRequests: pending.size,\n    ...metrics,\n  }\n}\n\nexport function request(method: string, args: unknown[]): Promise<unknown> {\n  metrics.totalRequests++\n\n  // Start logging\n  const logHandle = logStart(method, args, 'async')\n\n  return new Promise((resolve, reject) => {\n    const id = nextId++\n    pending.set(id, { resolve, reject, logHandle })\n\n    const pooled = getIdleWorker()\n    if (pooled) {\n      pooled.busy = true\n      pooled.lastActivity = Date.now()\n      pooled.worker.postMessage({ id, method, args })\n    } else {\n      queue.push({ id, method, args })\n\n      // Update peak queue depth\n      if (queue.length > metrics.peakQueueDepth) {\n        metrics.peakQueueDepth = queue.length\n      }\n    }\n  })\n}\n","/**\n * FS Polyfill Logger\n * Provides verbose logging with timestamps, incremental IDs, and duration tracking\n */\n\nexport type LogLevel = 'none' | 'info' | 'verbose' | 'debug'\n\nexport interface LogEntry {\n    id: number\n    timestamp: number      // performance.now() relative to start\n    absoluteTime: number   // Date.now() for absolute timing\n    method: string\n    args: any[]\n    duration?: number\n    result?: 'success' | 'error'\n    error?: string\n    worker?: 'main' | 'sync' | 'async'\n}\n\nexport interface LoggerConfig {\n    enabled: boolean\n    level: LogLevel\n    methods?: string[]     // Filter specific methods (empty/undefined = all)\n    console: boolean       // Log to console\n    buffer: boolean        // Store in memory buffer\n    bufferSize: number     // Max entries to keep in buffer\n}\n\nexport interface LogHandle {\n    id: number\n    startTime: number\n    method: string\n    args: any[]\n    worker: 'main' | 'sync' | 'async'\n}\n\n// Default configuration\nconst defaultConfig: LoggerConfig = {\n    enabled: false,\n    level: 'info',\n    console: true,\n    buffer: false,\n    bufferSize: 1000,\n}\n\n// Logger state\nlet config: LoggerConfig = { ...defaultConfig }\nlet entries: LogEntry[] = []\nlet nextId = 1\nlet startTimestamp = performance.now()\n\n/**\n * Format log ID with padding\n */\nfunction formatId(id: number): string {\n    return id.toString().padStart(3, '0')\n}\n\n/**\n * Format timestamp with ms precision\n */\nfunction formatTimestamp(timestamp: number): string {\n    return `+${timestamp.toFixed(2)}ms`.padStart(12)\n}\n\n/**\n * Format args for display (truncate long strings)\n */\nfunction formatArgs(args: any[]): string {\n    return args.map(arg => {\n        if (typeof arg === 'string') {\n            return arg.length > 50 ? `\"${arg.slice(0, 47)}...\"` : `\"${arg}\"`\n        }\n        if (arg instanceof Uint8Array || arg instanceof ArrayBuffer) {\n            const len = arg instanceof Uint8Array ? arg.length : arg.byteLength\n            return `<Buffer ${len} bytes>`\n        }\n        if (typeof arg === 'object' && arg !== null) {\n            const str = JSON.stringify(arg)\n            return str.length > 30 ? `${str.slice(0, 27)}...` : str\n        }\n        return String(arg)\n    }).join(', ')\n}\n\n/**\n * Check if method should be logged based on filter\n */\nfunction shouldLog(method: string): boolean {\n    if (!config.enabled) return false\n    if (!config.methods || config.methods.length === 0) return true\n    return config.methods.includes(method)\n}\n\n/**\n * Log to console with formatting\n */\nfunction logToConsole(entry: LogEntry, phase: 'START' | 'END'): void {\n    if (!config.console) return\n\n    const prefix = `[FS:${formatId(entry.id)} ${formatTimestamp(entry.timestamp)}]`\n    const methodStr = `${entry.method}(${formatArgs(entry.args)})`\n    const workerTag = entry.worker !== 'main' ? ` [${entry.worker}]` : ''\n\n    if (phase === 'START') {\n        console.log(`%c${prefix} ${methodStr} START${workerTag}`, 'color: #888')\n    } else {\n        const duration = entry.duration !== undefined ? ` (${entry.duration.toFixed(2)}ms)` : ''\n        const status = entry.result === 'success' ? '' : ''\n        const color = entry.result === 'success' ? 'color: #4a4' : 'color: #a44'\n        const errorMsg = entry.error ? ` - ${entry.error}` : ''\n        console.log(`%c${prefix} ${methodStr} END${duration} ${status}${errorMsg}`, color)\n    }\n}\n\n/**\n * Add entry to buffer\n */\nfunction addToBuffer(entry: LogEntry): void {\n    if (!config.buffer) return\n\n    entries.push(entry)\n\n    // Trim buffer if too large\n    if (entries.length > config.bufferSize) {\n        entries = entries.slice(-config.bufferSize)\n    }\n}\n\n/**\n * Start logging an operation\n */\nexport function logStart(method: string, args: any[], worker: 'main' | 'sync' | 'async' = 'main'): LogHandle | null {\n    if (!shouldLog(method)) return null\n\n    const id = nextId++\n    const startTime = performance.now()\n    const timestamp = startTime - startTimestamp\n\n    const handle: LogHandle = { id, startTime, method, args, worker }\n\n    if (config.level === 'verbose' || config.level === 'debug') {\n        const entry: LogEntry = {\n            id,\n            timestamp,\n            absoluteTime: Date.now(),\n            method,\n            args,\n            worker,\n        }\n        logToConsole(entry, 'START')\n    }\n\n    return handle\n}\n\n/**\n * End logging an operation\n */\nexport function logEnd(handle: LogHandle | null, result: 'success' | 'error' = 'success', error?: string): void {\n    if (!handle) return\n\n    const endTime = performance.now()\n    const duration = endTime - handle.startTime\n    const timestamp = endTime - startTimestamp\n\n    const entry: LogEntry = {\n        id: handle.id,\n        timestamp,\n        absoluteTime: Date.now(),\n        method: handle.method,\n        args: handle.args,\n        duration,\n        result,\n        error,\n        worker: handle.worker,\n    }\n\n    logToConsole(entry, 'END')\n    addToBuffer(entry)\n}\n\n/**\n * Logger API\n */\nexport const logger = {\n    /**\n     * Enable logging\n     */\n    enable(): void {\n        config.enabled = true\n        startTimestamp = performance.now()\n        console.log('%c[FS Logger] Enabled', 'color: #4a4; font-weight: bold')\n    },\n\n    /**\n     * Disable logging\n     */\n    disable(): void {\n        config.enabled = false\n        console.log('%c[FS Logger] Disabled', 'color: #a44; font-weight: bold')\n    },\n\n    /**\n     * Check if logging is enabled\n     */\n    isEnabled(): boolean {\n        return config.enabled\n    },\n\n    /**\n     * Set log level\n     */\n    setLevel(level: LogLevel): void {\n        config.level = level\n        if (config.enabled) {\n            console.log(`%c[FS Logger] Level set to: ${level}`, 'color: #888')\n        }\n    },\n\n    /**\n     * Set method filter\n     */\n    setMethods(methods: string[] | undefined): void {\n        config.methods = methods\n    },\n\n    /**\n     * Enable/disable console output\n     */\n    setConsole(enabled: boolean): void {\n        config.console = enabled\n    },\n\n    /**\n     * Enable/disable buffer storage\n     */\n    setBuffer(enabled: boolean, size?: number): void {\n        config.buffer = enabled\n        if (size !== undefined) {\n            config.bufferSize = size\n        }\n    },\n\n    /**\n     * Get stored log entries\n     */\n    getEntries(): LogEntry[] {\n        return [...entries]\n    },\n\n    /**\n     * Clear stored log entries\n     */\n    clear(): void {\n        entries = []\n        nextId = 1\n        startTimestamp = performance.now()\n    },\n\n    /**\n     * Export logs as JSON\n     */\n    export(): string {\n        return JSON.stringify(entries, null, 2)\n    },\n\n    /**\n     * Get current configuration\n     */\n    getConfig(): LoggerConfig {\n        return { ...config }\n    },\n\n    /**\n     * Configure logger\n     */\n    configure(options: Partial<LoggerConfig>): void {\n        config = { ...config, ...options }\n    },\n\n    /**\n     * Reset to default configuration\n     */\n    reset(): void {\n        config = { ...defaultConfig }\n        entries = []\n        nextId = 1\n        startTimestamp = performance.now()\n    },\n\n    // Expose start/end functions for use in workers\n    start: logStart,\n    end: logEnd,\n}\n\nexport default logger\n","/**\n * Centralized Constants\n *\n * All configurable constants in one place for easy tuning and discovery.\n * Import from here rather than defining locally.\n */\n\n// =============================================================================\n// SHARED ARRAY BUFFER SIZES\n// =============================================================================\n\nexport const SAB_SIZES = {\n    /** 64MB - FS sync requests (large file operations) */\n    FS_SYNC: 64 * 1024 * 1024,\n\n    /** 256KB - FS event notifications */\n    FS_EVENTS: 256 * 1024,\n\n    /** 32MB - Exec worker sync communication */\n    EXEC_SYNC: 32 * 1024 * 1024,\n\n    /** 128MB - Rolldown bundler communication (vue-tsc + typescript can exceed 22MB) */\n    BUNDLER: 128 * 1024 * 1024,\n} as const\n\n// =============================================================================\n// TIMEOUTS\n// =============================================================================\n\nexport const TIMEOUTS = {\n    /** 60s - Worker initialization (WASM compilation can take 15-30s for large modules) */\n    WORKER_INIT: 60_000,\n\n    /** 600s - Script execution (WASM under V8 Liftoff can be 10-100x slower than native) */\n    EXECUTION: 600_000,\n\n    /** 60s - Bundle operation */\n    BUNDLE: 60_000,\n\n    /** 30s - Worker idle before termination */\n    WORKER_IDLE: 30_000,\n\n    /** 2s - Auto-scaling check interval */\n    SCALE_CHECK: 2_000,\n\n    /** 50ms - Execution polling interval */\n    EXEC_POLL: 50,\n} as const\n\n// =============================================================================\n// FILE CHUNKING\n// =============================================================================\n\nexport const CHUNK_SIZES = {\n    /** 60MB - Threshold for chunked file reads (SAB is 64MB, leave room for overhead) */\n    FILE_THRESHOLD: 60 * 1024 * 1024,\n\n    /** 50MB - Size per chunk when reading large files */\n    FILE_CHUNK: 50 * 1024 * 1024,\n\n    /** 1MB - Stream chunk size */\n    STREAM: 1024 * 1024,\n} as const\n\n// =============================================================================\n// WORKER POOL\n// =============================================================================\n\nexport const WORKER_POOL = {\n    /** Minimum workers to keep warm */\n    MIN_WORKERS: 1,\n\n    /** Maximum workers (defaults to CPU count) */\n    MAX_WORKERS: typeof navigator !== 'undefined' ? (navigator.hardwareConcurrency || 4) : 4,\n\n    /** Queue depth to trigger immediate scale up */\n    SCALE_UP_THRESHOLD: 3,\n} as const\n\n// =============================================================================\n// VFS (Virtual File System)\n// =============================================================================\n\nexport const VFS = {\n    /** Binary file that stores all VFS data */\n    FILENAME: '.vfs-future.bin',\n\n    /** Header size in bytes for index */\n    INDEX_HEADER_SIZE: 4,\n\n    /** 1MB - Schedule compaction when wasted bytes exceed this */\n    COMPACTION_THRESHOLD: 1024 * 1024,\n\n    /** 5MB - Immediate compaction when wasted bytes exceed this */\n    COMPACTION_URGENT_THRESHOLD: 5 * 1024 * 1024,\n\n    /** 500ms - Wait after last write before compacting */\n    COMPACTION_DEBOUNCE_MS: 500,\n\n    /** 2s - Max wait for idle callback before forcing compaction */\n    COMPACTION_IDLE_TIMEOUT_MS: 2_000,\n\n    /** 100ms - Flush interval when in deferred mode */\n    DEFERRED_FLUSH_INTERVAL_MS: 100,\n} as const\n\n// =============================================================================\n// SAB PROTOCOL OFFSETS (Shared by multiple workers)\n// =============================================================================\n\nexport const SAB_OFFSETS = {\n    /** Byte offset for status flag */\n    STATUS: 0,\n\n    /** Byte offset for data length */\n    LENGTH: 4,\n\n    /** Byte offset for request/response type (FS only) */\n    TYPE: 8,\n\n    /** Byte offset where data payload starts (FS) */\n    DATA_FS: 9,\n\n    /** Byte offset where data payload starts (Exec/Bundler) */\n    DATA_SIMPLE: 8,\n\n    /**\n     * Byte offset for FS SAB lock (last 4 bytes of SAB).\n     * Prevents race conditions when multiple threads (exec worker + primary tab)\n     * share the same SAB for sync FS operations.\n     * Value: 0 = unlocked, 1 = locked. Uses Atomics.compareExchange for CAS.\n     */\n    FS_LOCK: SAB_SIZES.FS_SYNC - 4,\n} as const\n\n// =============================================================================\n// SAB STATUS VALUES\n// =============================================================================\n\nexport const SAB_STATUS = {\n    IDLE: 0,\n    REQUEST: 1,\n    RESPONSE: 2,\n    ERROR: 3,\n    OUTPUT: 4, // For streaming terminal output\n} as const\n\n// =============================================================================\n// SAB REQUEST/RESPONSE TYPES (FS protocol)\n// =============================================================================\n\nexport const SAB_TYPE = {\n    REQUEST_JSON: 0,\n    REQUEST_BINARY_ARG: 1,\n    RESPONSE_JSON: 0,\n    RESPONSE_BINARY: 1,\n} as const\n\n// =============================================================================\n// LOCK NAMES\n// =============================================================================\n\nexport const LOCKS = {\n    /** Web Lock for primary tab election */\n    FS_PRIMARY: 'fs_primary_lock',\n} as const\n\n// =============================================================================\n// DEBUG MODE\n// =============================================================================\n\nexport const DEBUG_KEY = 'NODECONTAINER_DEBUG'\n\n/**\n * Check if debug mode is enabled\n */\nexport function isDebugEnabled(): boolean {\n    if (typeof localStorage === 'undefined') return false\n    return localStorage.getItem(DEBUG_KEY) === 'true'\n}\n","// Polyfill Module Index - Re-exports all polyfill functionality\n\n// Sync methods\nexport {\n    setRequestFn,\n    readFileSync,\n    writeFileSync,\n    appendFileSync,\n    existsSync,\n    accessSync,\n    unlinkSync,\n    rmSync,\n    mkdirSync,\n    rmdirSync,\n    readdirSync,\n    opendirSync,\n    statSync,\n    lstatSync,\n    statfsSync,\n    renameSync,\n    copyFileSync,\n    cpSync,\n    truncateSync,\n    chmodSync,\n    chownSync,\n    lchmodSync,\n    lchownSync,\n    linkSync,\n    symlinkSync,\n    readlinkSync,\n    realpathSync,\n    mkdtempSync,\n    utimesSync,\n    lutimesSync,\n    openSync,\n    closeSync,\n    readSync,\n    writeSync,\n    fstatSync,\n    fsyncSync,\n    fdatasyncSync,\n    ftruncateSync,\n    fchmodSync,\n    fchownSync,\n    futimesSync,\n    readvSync,\n    writevSync,\n    globSync,\n} from './sync'\n\n// Async methods\nexport {\n    setAsyncRequestFn,\n    setFireAndForgetFn,\n    setSyncRequestFn,\n    readFile,\n    writeFile,\n    appendFile,\n    exists,\n    access,\n    unlink,\n    rm,\n    mkdir,\n    rmdir,\n    readdir,\n    opendir,\n    stat,\n    lstat,\n    statfs,\n    rename,\n    copyFile,\n    cp,\n    truncate,\n    chmod,\n    chown,\n    lchmod,\n    lchown,\n    link,\n    symlink,\n    readlink,\n    realpath,\n    mkdtemp,\n    utimes,\n    lutimes,\n    open,\n    close,\n    read,\n    write,\n    fstat,\n    fsync,\n    fdatasync,\n    ftruncate,\n    fchmod,\n    fchown,\n    futimes,\n    readv,\n    writev,\n    watch,\n    glob,\n    watchFile,\n    unwatchFile,\n    createReadStream,\n    createWriteStream,\n    vfsLoad,\n    vfsExtract,\n} from './async'\n\n// Types\nexport type { FSWatcher } from './async'\n","// Sync FS Methods - All synchronous file system operations\n\nimport type { PathLike } from 'node:fs'\nimport { Stats, BigIntStats, type Dirent, type Dir } from '../classes'\nimport { validateEncoding, validateFlag, normalizePath, parseMode } from '../utils'\nimport { CHUNK_SIZES } from '../app-constants'\n\n// Sync request function - passed from main polyfill\nlet requestFn: (method: string, args: unknown[]) => unknown\n\nexport const setRequestFn = (fn: (method: string, args: unknown[]) => unknown) => {\n    requestFn = fn\n}\n\nconst request = (method: string, args: unknown[]): unknown => {\n    if (!requestFn) throw new Error('Sync request function not initialized')\n    return requestFn(method, args)\n}\n\nexport interface StatSyncOptions {\n    bigint?: boolean\n}\n\nexport interface ReaddirSyncOptions {\n    withFileTypes?: boolean\n    encoding?: BufferEncoding | 'buffer'\n    recursive?: boolean\n}\n\nexport interface GlobSyncOptions {\n    cwd?: string\n    withFileTypes?: boolean\n    exclude?: (path: string) => boolean\n}\n\n// Chunking configuration for large files (from centralized constants)\nconst CHUNK_THRESHOLD = CHUNK_SIZES.FILE_THRESHOLD\nconst CHUNK_SIZE = CHUNK_SIZES.FILE_CHUNK\n\n// File read/write\nexport const readFileSync = (path: PathLike, options?: { encoding?: BufferEncoding; flag?: string } | BufferEncoding): string | Buffer => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const opts = typeof options === 'string' ? { encoding: options } : options\n\n    // Validate encoding and flag\n    validateEncoding(opts?.encoding, 'read', normalizedPath)\n    validateFlag(opts?.flag, 'open', normalizedPath)\n\n    // Check file size first to determine if chunking is needed\n    const fileSize = request('getFileSizeSync', [normalizedPath]) as number\n\n    if (fileSize <= CHUNK_THRESHOLD) {\n        // Small file - read in one go\n        return request('readFileSync', [normalizedPath, opts]) as string | Buffer\n    }\n\n    // Large file - read in chunks and combine\n    const chunks: Buffer[] = []\n    let offset = 0\n\n    while (offset < fileSize) {\n        const chunkLength = Math.min(CHUNK_SIZE, fileSize - offset)\n        const chunk = request('readFileSyncChunk', [normalizedPath, offset, chunkLength]) as Buffer\n        chunks.push(chunk)\n        offset += chunkLength\n    }\n\n    // Combine all chunks\n    const combined = Buffer.concat(chunks)\n\n    // Apply encoding if specified\n    if (opts?.encoding) {\n        return combined.toString(opts.encoding)\n    }\n\n    return combined\n}\n\nexport const writeFileSync = (path: PathLike, data: string | Buffer, options?: { encoding?: BufferEncoding; mode?: number; flag?: string } | BufferEncoding): void => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const opts = typeof options === 'string' ? { encoding: options } : options\n\n    // Validate encoding and flag\n    validateEncoding(opts?.encoding, 'write', normalizedPath)\n    validateFlag(opts?.flag, 'open', normalizedPath)\n\n    request('writeFileSync', [normalizedPath, data, opts])\n}\n\nexport const appendFileSync = (path: PathLike, data: string | Buffer, options?: { encoding?: BufferEncoding }): void => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n\n    // Validate encoding\n    validateEncoding(options?.encoding, 'appendFile', normalizedPath)\n\n    request('appendFileSync', [normalizedPath, data])\n}\n\n// File existence and access\nexport const existsSync = (path: PathLike): boolean => {\n    return request('existsSync', [path]) as boolean\n}\n\nexport const accessSync = (path: PathLike, mode?: number): void => {\n    request('accessSync', [path, mode])\n}\n\n// File deletion\nexport const unlinkSync = (path: PathLike): void => {\n    request('unlinkSync', [path])\n}\n\nexport const rmSync = (path: PathLike, options?: { recursive?: boolean; force?: boolean }): void => {\n    request('rmSync', [path, options])\n}\n\n// Directory operations\nexport const mkdirSync = (path: PathLike, options?: { recursive?: boolean }): void => {\n    request('mkdirSync', [path, options])\n}\n\nexport const rmdirSync = (path: PathLike, options?: { recursive?: boolean }): void => {\n    request('rmdirSync', [path, options])\n}\n\nexport const readdirSync = (path: PathLike, options?: ReaddirSyncOptions): string[] | Dirent[] => {\n    return request('readdirSync', [path, options]) as string[] | Dirent[]\n}\n\nexport const opendirSync = (path: PathLike): Dir => {\n    return request('opendirSync', [path]) as Dir\n}\n\n// File stats\nexport const statSync = (path: PathLike, options?: StatSyncOptions): Stats | BigIntStats => {\n    const result = request('statSync', [path, options]) as Record<string, unknown>\n    // Reconstruct Stats object (JSON serialization loses methods)\n    if (options?.bigint) {\n        return new BigIntStats(result as unknown as ConstructorParameters<typeof BigIntStats>[0])\n    }\n    return new Stats(result as unknown as ConstructorParameters<typeof Stats>[0])\n}\n\nexport const lstatSync = (path: PathLike, options?: StatSyncOptions): Stats | BigIntStats => {\n    const result = request('lstatSync', [path, options]) as Record<string, unknown>\n    // Reconstruct Stats object (JSON serialization loses methods)\n    if (options?.bigint) {\n        return new BigIntStats(result as unknown as ConstructorParameters<typeof BigIntStats>[0])\n    }\n    return new Stats(result as unknown as ConstructorParameters<typeof Stats>[0])\n}\n\nexport const statfsSync = (path: PathLike): unknown => {\n    return request('statfsSync', [path])\n}\n\n// Glob (Node.js 22+)\nexport const globSync = (pattern: string | string[], options?: GlobSyncOptions): string[] | Dirent[] => {\n    return request('globSync', [pattern, options]) as string[] | Dirent[]\n}\n\n// File operations\nexport const renameSync = (oldPath: PathLike, newPath: PathLike): void => {\n    request('renameSync', [oldPath, newPath])\n}\n\nexport const copyFileSync = (src: PathLike, dest: PathLike): void => {\n    request('copyFileSync', [src, dest])\n}\n\nexport const cpSync = (src: PathLike, dest: PathLike, options?: { recursive?: boolean; force?: boolean }): void => {\n    request('cpSync', [src, dest, options])\n}\n\nexport const truncateSync = (path: PathLike, len?: number): void => {\n    request('truncateSync', [path, len])\n}\n\n// Permissions\nexport const chmodSync = (path: PathLike, mode: number | string): void => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const numericMode = parseMode(mode)\n    request('chmodSync', [normalizedPath, numericMode])\n}\n\nexport const chownSync = (path: PathLike, uid: number, gid: number): void => {\n    request('chownSync', [path, uid, gid])\n}\n\nexport const lchmodSync = (path: PathLike, mode: number | string): void => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const numericMode = parseMode(mode)\n    request('lchmodSync', [normalizedPath, numericMode])\n}\n\nexport const lchownSync = (path: PathLike, uid: number, gid: number): void => {\n    request('lchownSync', [path, uid, gid])\n}\n\n// Links\nexport const linkSync = (existingPath: PathLike, newPath: PathLike): void => {\n    request('linkSync', [existingPath, newPath])\n}\n\nexport const symlinkSync = (target: PathLike, path: PathLike, type?: string): void => {\n    request('symlinkSync', [target, path, type])\n}\n\nexport const readlinkSync = (path: PathLike): string => {\n    return request('readlinkSync', [path]) as string\n}\n\n// Paths\nexport const realpathSync = (path: PathLike): string => {\n    return request('realpathSync', [path]) as string\n}\n\nexport const mkdtempSync = (prefix: string): string => {\n    return request('mkdtempSync', [prefix]) as string\n}\n\n// Times\nexport const utimesSync = (path: PathLike, atime: number | Date, mtime: number | Date): void => {\n    request('utimesSync', [path, atime, mtime])\n}\n\nexport const lutimesSync = (path: PathLike, atime: number | Date, mtime: number | Date): void => {\n    request('lutimesSync', [path, atime, mtime])\n}\n\n// File descriptor operations\nexport const openSync = (path: PathLike, flags: string, mode?: number): number => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n\n    // Validate flag\n    validateFlag(flags, 'open', normalizedPath)\n\n    return request('openSync', [normalizedPath, flags, mode]) as number\n}\n\nexport const closeSync = (fd: number): void => {\n    request('closeSync', [fd])\n}\n\nexport const readSync = (fd: number, buffer: Buffer | Uint8Array, offset: number, length: number, position: number | null): number => {\n    return request('readSync', [fd, buffer, offset, length, position]) as number\n}\n\nexport const writeSync = (fd: number, buffer: Buffer | Uint8Array | string, offset?: number, length?: number, position?: number | null): number => {\n    return request('writeSync', [fd, buffer, offset, length, position]) as number\n}\n\nexport const fstatSync = (fd: number): Stats => {\n    const result = request('fstatSync', [fd]) as Record<string, unknown>\n    return new Stats(result as unknown as ConstructorParameters<typeof Stats>[0])\n}\n\nexport const fsyncSync = (fd: number): void => {\n    request('fsyncSync', [fd])\n}\n\nexport const fdatasyncSync = (fd: number): void => {\n    request('fdatasyncSync', [fd])\n}\n\nexport const ftruncateSync = (fd: number, len?: number): void => {\n    request('ftruncateSync', [fd, len])\n}\n\nexport const fchmodSync = (fd: number, mode: number | string): void => {\n    const numericMode = parseMode(mode)\n    request('fchmodSync', [fd, numericMode])\n}\n\nexport const fchownSync = (fd: number, uid: number, gid: number): void => {\n    request('fchownSync', [fd, uid, gid])\n}\n\nexport const futimesSync = (fd: number, atime: number | Date, mtime: number | Date): void => {\n    request('futimesSync', [fd, atime, mtime])\n}\n\nexport const readvSync = (fd: number, buffers: ArrayBufferView[]): number => {\n    return request('readvSync', [fd, buffers]) as number\n}\n\nexport const writevSync = (fd: number, buffers: ArrayBufferView[]): number => {\n    return request('writevSync', [fd, buffers]) as number\n}\n","// Export all fs classes\n\nexport { Stats, BigIntStats, createStats } from './Stats'\nexport type { StatsInit } from './Stats'\n\nexport { Dirent, createDirent } from './Dirent'\nexport type { DirentInit } from './Dirent'\n\nexport { Dir } from './Dir'\nexport type { DirInit } from './Dir'\n\nexport { FileHandle, setFileHandleAsyncRequestFn } from './FileHandle'\nexport type { ReadResult, WriteResult } from './FileHandle'\n\nexport { ReadStream, setReadStreamReadFn, setReadStreamChunkFn, setReadStreamSizeFn } from './ReadStream'\nexport type { ReadStreamOptions } from './ReadStream'\n\nexport { WriteStream, setWriteStreamWriteFn, setWriteStreamAppendFn } from './WriteStream'\nexport type { WriteStreamOptions } from './WriteStream'\n\nexport {\n    FSError,\n    ERROR_CODES,\n    createENOENT,\n    createEEXIST,\n    createENOTDIR,\n    createEISDIR,\n    createENOTEMPTY,\n    createEACCES,\n    createEPERM,\n    createEBADF,\n    createEINVAL,\n    createELOOP,\n} from './FSError'\n","// Node.js fs.Stats class implementation\n// https://nodejs.org/api/fs.html#class-fsstats\n\nimport { S_IFMT, S_IFREG, S_IFDIR, S_IFLNK, S_IFCHR, S_IFBLK, S_IFIFO, S_IFSOCK } from '../constants'\n\nexport interface StatsInit {\n    dev?: number\n    ino?: number\n    mode: number\n    nlink?: number\n    uid: number\n    gid: number\n    rdev?: number\n    size: number\n    blksize?: number\n    blocks?: number\n    atimeMs: number\n    mtimeMs: number\n    ctimeMs: number\n    birthtimeMs?: number\n}\n\nexport class Stats {\n    dev: number\n    ino: number\n    mode: number\n    nlink: number\n    uid: number\n    gid: number\n    rdev: number\n    size: number\n    blksize: number\n    blocks: number\n    atimeMs: number\n    mtimeMs: number\n    ctimeMs: number\n    birthtimeMs: number\n    atime: Date\n    mtime: Date\n    ctime: Date\n    birthtime: Date\n\n    constructor(init: StatsInit) {\n        this.dev = init.dev ?? 0\n        this.ino = init.ino ?? 0\n        this.mode = init.mode\n        this.nlink = init.nlink ?? 1\n        this.uid = init.uid\n        this.gid = init.gid\n        this.rdev = init.rdev ?? 0\n        this.size = init.size\n        this.blksize = init.blksize ?? 4096\n        this.blocks = init.blocks ?? Math.ceil(init.size / 512)\n        this.atimeMs = init.atimeMs\n        this.mtimeMs = init.mtimeMs\n        this.ctimeMs = init.ctimeMs\n        this.birthtimeMs = init.birthtimeMs ?? init.ctimeMs\n        this.atime = new Date(this.atimeMs)\n        this.mtime = new Date(this.mtimeMs)\n        this.ctime = new Date(this.ctimeMs)\n        this.birthtime = new Date(this.birthtimeMs)\n    }\n\n    isFile(): boolean {\n        return (this.mode & S_IFMT) === S_IFREG\n    }\n\n    isDirectory(): boolean {\n        return (this.mode & S_IFMT) === S_IFDIR\n    }\n\n    isBlockDevice(): boolean {\n        return (this.mode & S_IFMT) === S_IFBLK\n    }\n\n    isCharacterDevice(): boolean {\n        return (this.mode & S_IFMT) === S_IFCHR\n    }\n\n    isSymbolicLink(): boolean {\n        return (this.mode & S_IFMT) === S_IFLNK\n    }\n\n    isFIFO(): boolean {\n        return (this.mode & S_IFMT) === S_IFIFO\n    }\n\n    isSocket(): boolean {\n        return (this.mode & S_IFMT) === S_IFSOCK\n    }\n\n    // For JSON serialization\n    toJSON() {\n        return {\n            __type: 'Stats',\n            dev: this.dev,\n            ino: this.ino,\n            mode: this.mode,\n            nlink: this.nlink,\n            uid: this.uid,\n            gid: this.gid,\n            rdev: this.rdev,\n            size: this.size,\n            blksize: this.blksize,\n            blocks: this.blocks,\n            atimeMs: this.atimeMs,\n            mtimeMs: this.mtimeMs,\n            ctimeMs: this.ctimeMs,\n            birthtimeMs: this.birthtimeMs\n        }\n    }\n\n    // Reconstruct from JSON\n    static fromJSON(obj: StatsInit & { __type?: string }): Stats {\n        return new Stats(obj)\n    }\n}\n\n// BigInt version for stat({ bigint: true })\nexport class BigIntStats {\n    dev: bigint\n    ino: bigint\n    mode: bigint\n    nlink: bigint\n    uid: bigint\n    gid: bigint\n    rdev: bigint\n    size: bigint\n    blksize: bigint\n    blocks: bigint\n    atimeMs: bigint\n    mtimeMs: bigint\n    ctimeMs: bigint\n    birthtimeMs: bigint\n    atimeNs: bigint\n    mtimeNs: bigint\n    ctimeNs: bigint\n    birthtimeNs: bigint\n    atime: Date\n    mtime: Date\n    ctime: Date\n    birthtime: Date\n\n    constructor(init: StatsInit) {\n        this.dev = BigInt(init.dev ?? 0)\n        this.ino = BigInt(init.ino ?? 0)\n        this.mode = BigInt(init.mode)\n        this.nlink = BigInt(init.nlink ?? 1)\n        this.uid = BigInt(init.uid)\n        this.gid = BigInt(init.gid)\n        this.rdev = BigInt(init.rdev ?? 0)\n        this.size = BigInt(init.size)\n        this.blksize = BigInt(init.blksize ?? 4096)\n        this.blocks = BigInt(init.blocks ?? Math.ceil(init.size / 512))\n        this.atimeMs = BigInt(Math.floor(init.atimeMs))\n        this.mtimeMs = BigInt(Math.floor(init.mtimeMs))\n        this.ctimeMs = BigInt(Math.floor(init.ctimeMs))\n        this.birthtimeMs = BigInt(Math.floor(init.birthtimeMs ?? init.ctimeMs))\n        this.atimeNs = this.atimeMs * 1000000n\n        this.mtimeNs = this.mtimeMs * 1000000n\n        this.ctimeNs = this.ctimeMs * 1000000n\n        this.birthtimeNs = this.birthtimeMs * 1000000n\n        this.atime = new Date(Number(this.atimeMs))\n        this.mtime = new Date(Number(this.mtimeMs))\n        this.ctime = new Date(Number(this.ctimeMs))\n        this.birthtime = new Date(Number(this.birthtimeMs))\n    }\n\n    isFile(): boolean {\n        return (Number(this.mode) & S_IFMT) === S_IFREG\n    }\n\n    isDirectory(): boolean {\n        return (Number(this.mode) & S_IFMT) === S_IFDIR\n    }\n\n    isBlockDevice(): boolean {\n        return (Number(this.mode) & S_IFMT) === S_IFBLK\n    }\n\n    isCharacterDevice(): boolean {\n        return (Number(this.mode) & S_IFMT) === S_IFCHR\n    }\n\n    isSymbolicLink(): boolean {\n        return (Number(this.mode) & S_IFMT) === S_IFLNK\n    }\n\n    isFIFO(): boolean {\n        return (Number(this.mode) & S_IFMT) === S_IFIFO\n    }\n\n    isSocket(): boolean {\n        return (Number(this.mode) & S_IFMT) === S_IFSOCK\n    }\n}\n\n// Helper to create Stats from VFS metadata\nexport const createStats = (\n    size: number,\n    mode: number,\n    uid: number,\n    gid: number,\n    atimeMs: number,\n    mtimeMs: number,\n    ctimeMs?: number,\n    bigint?: boolean\n): Stats | BigIntStats => {\n    const init: StatsInit = {\n        mode,\n        uid,\n        gid,\n        size,\n        atimeMs,\n        mtimeMs,\n        ctimeMs: ctimeMs ?? mtimeMs,\n    }\n\n    return bigint ? new BigIntStats(init) : new Stats(init)\n}\n\nexport default Stats\n","// Node.js fs constants\n// https://nodejs.org/api/fs.html#file-access-constants\n\n// File Access Constants (for fs.access)\nexport const F_OK = 0 // File exists\nexport const R_OK = 4 // File can be read\nexport const W_OK = 2 // File can be written\nexport const X_OK = 1 // File can be executed\n\n// File Copy Constants (for fs.copyFile)\nexport const COPYFILE_EXCL = 1 // Fail if dest exists\nexport const COPYFILE_FICLONE = 2 // Use copy-on-write if supported\nexport const COPYFILE_FICLONE_FORCE = 4 // Force copy-on-write, fail if not supported\n\n// File Open Constants (for fs.open)\nexport const O_RDONLY = 0 // Open for reading only\nexport const O_WRONLY = 1 // Open for writing only\nexport const O_RDWR = 2 // Open for reading and writing\nexport const O_CREAT = 64 // Create file if it doesn't exist (0o100)\nexport const O_EXCL = 128 // Fail if file exists (with O_CREAT) (0o200)\nexport const O_NOCTTY = 256 // Don't assign controlling terminal (0o400)\nexport const O_TRUNC = 512 // Truncate file to zero length (0o1000)\nexport const O_APPEND = 1024 // Append to file (0o2000)\nexport const O_DIRECTORY = 65536 // Fail if not a directory (0o200000)\nexport const O_NOATIME = 262144 // Don't update access time (0o1000000)\nexport const O_NOFOLLOW = 131072 // Don't follow symlinks (0o400000)\nexport const O_SYNC = 1052672 // Synchronous I/O (0o4010000)\nexport const O_DSYNC = 4096 // Synchronous data I/O (0o10000)\nexport const O_SYMLINK = 2097152 // Open symlink itself (0o10000000)\nexport const O_DIRECT = 16384 // Direct I/O (0o40000)\nexport const O_NONBLOCK = 2048 // Non-blocking I/O (0o4000)\n\n// File Type Constants (for stat mode)\nexport const S_IFMT = 61440 // File type mask (0o170000)\nexport const S_IFREG = 32768 // Regular file (0o100000)\nexport const S_IFDIR = 16384 // Directory (0o40000)\nexport const S_IFCHR = 8192 // Character device (0o20000)\nexport const S_IFBLK = 24576 // Block device (0o60000)\nexport const S_IFIFO = 4096 // FIFO/pipe (0o10000)\nexport const S_IFLNK = 40960 // Symbolic link (0o120000)\nexport const S_IFSOCK = 49152 // Socket (0o140000)\n\n// File Mode Constants (permissions)\nexport const S_IRWXU = 448 // Owner read/write/execute (0o700)\nexport const S_IRUSR = 256 // Owner read (0o400)\nexport const S_IWUSR = 128 // Owner write (0o200)\nexport const S_IXUSR = 64 // Owner execute (0o100)\nexport const S_IRWXG = 56 // Group read/write/execute (0o70)\nexport const S_IRGRP = 32 // Group read (0o40)\nexport const S_IWGRP = 16 // Group write (0o20)\nexport const S_IXGRP = 8 // Group execute (0o10)\nexport const S_IRWXO = 7 // Others read/write/execute (0o7)\nexport const S_IROTH = 4 // Others read (0o4)\nexport const S_IWOTH = 2 // Others write (0o2)\nexport const S_IXOTH = 1 // Others execute (0o1)\n\n// Special mode bits\nexport const S_ISUID = 2048 // Set user ID on execution (0o4000)\nexport const S_ISGID = 1024 // Set group ID on execution (0o2000)\nexport const S_ISVTX = 512 // Sticky bit (0o1000)\n\n// Combined constants object (like fs.constants in Node.js)\nexport const constants = {\n    // File Access\n    F_OK,\n    R_OK,\n    W_OK,\n    X_OK,\n\n    // File Copy\n    COPYFILE_EXCL,\n    COPYFILE_FICLONE,\n    COPYFILE_FICLONE_FORCE,\n\n    // File Open\n    O_RDONLY,\n    O_WRONLY,\n    O_RDWR,\n    O_CREAT,\n    O_EXCL,\n    O_NOCTTY,\n    O_TRUNC,\n    O_APPEND,\n    O_DIRECTORY,\n    O_NOATIME,\n    O_NOFOLLOW,\n    O_SYNC,\n    O_DSYNC,\n    O_SYMLINK,\n    O_DIRECT,\n    O_NONBLOCK,\n\n    // File Type\n    S_IFMT,\n    S_IFREG,\n    S_IFDIR,\n    S_IFCHR,\n    S_IFBLK,\n    S_IFIFO,\n    S_IFLNK,\n    S_IFSOCK,\n\n    // File Mode (permissions)\n    S_IRWXU,\n    S_IRUSR,\n    S_IWUSR,\n    S_IXUSR,\n    S_IRWXG,\n    S_IRGRP,\n    S_IWGRP,\n    S_IXGRP,\n    S_IRWXO,\n    S_IROTH,\n    S_IWOTH,\n    S_IXOTH,\n\n    // Special mode bits\n    S_ISUID,\n    S_ISGID,\n    S_ISVTX,\n}\n\nexport default constants\n","// Node.js fs.Dirent class implementation\n// https://nodejs.org/api/fs.html#class-fsdirent\n\nimport { S_IFMT, S_IFREG, S_IFDIR, S_IFLNK, S_IFCHR, S_IFBLK, S_IFIFO, S_IFSOCK } from '../constants'\n\nexport interface DirentInit {\n    name: string\n    path?: string\n    mode: number\n}\n\nexport class Dirent {\n    name: string\n    path: string\n    // Use public _mode for JSON serialization (private # fields don't serialize)\n    _mode: number\n\n    constructor(init: DirentInit) {\n        this.name = init.name\n        this.path = init.path ?? ''\n        this._mode = init.mode\n    }\n\n    isFile(): boolean {\n        return (this._mode & S_IFMT) === S_IFREG\n    }\n\n    isDirectory(): boolean {\n        return (this._mode & S_IFMT) === S_IFDIR\n    }\n\n    isBlockDevice(): boolean {\n        return (this._mode & S_IFMT) === S_IFBLK\n    }\n\n    isCharacterDevice(): boolean {\n        return (this._mode & S_IFMT) === S_IFCHR\n    }\n\n    isSymbolicLink(): boolean {\n        return (this._mode & S_IFMT) === S_IFLNK\n    }\n\n    isFIFO(): boolean {\n        return (this._mode & S_IFMT) === S_IFIFO\n    }\n\n    isSocket(): boolean {\n        return (this._mode & S_IFMT) === S_IFSOCK\n    }\n\n    // For JSON serialization\n    toJSON() {\n        return {\n            __type: 'Dirent',\n            name: this.name,\n            path: this.path,\n            _mode: this._mode\n        }\n    }\n\n    // Reconstruct from JSON\n    static fromJSON(obj: { name: string; path: string; _mode: number }): Dirent {\n        return new Dirent({ name: obj.name, path: obj.path, mode: obj._mode })\n    }\n}\n\n// Helper to create Dirent from VFS entry\nexport const createDirent = (\n    name: string,\n    isDir: boolean,\n    isSymlink: boolean,\n    parentPath?: string\n): Dirent => {\n    let mode: number\n    if (isSymlink) {\n        mode = S_IFLNK | 0o777\n    } else if (isDir) {\n        mode = S_IFDIR | 0o755\n    } else {\n        mode = S_IFREG | 0o644\n    }\n\n    return new Dirent({\n        name,\n        path: parentPath,\n        mode,\n    })\n}\n\nexport default Dirent\n","// Node.js fs.Dir class implementation\n// https://nodejs.org/api/fs.html#class-fsdir\n\nimport { Dirent } from './Dirent'\n\nexport interface DirInit {\n    path: string\n    entries: Dirent[]\n}\n\nexport class Dir implements AsyncIterable<Dirent> {\n    readonly path: string\n    #entries: Dirent[]\n    #index: number = 0\n    #closed: boolean = false\n\n    constructor(init: DirInit) {\n        this.path = init.path\n        this.#entries = init.entries\n    }\n\n    // Async read one entry at a time\n    async read(): Promise<Dirent | null> {\n        if (this.#closed) {\n            throw new Error('Directory handle was closed')\n        }\n\n        if (this.#index >= this.#entries.length) {\n            return null\n        }\n\n        return this.#entries[this.#index++]\n    }\n\n    // Sync read one entry at a time\n    readSync(): Dirent | null {\n        if (this.#closed) {\n            throw new Error('Directory handle was closed')\n        }\n\n        if (this.#index >= this.#entries.length) {\n            return null\n        }\n\n        return this.#entries[this.#index++]\n    }\n\n    // Close the directory handle\n    async close(): Promise<void> {\n        this.#closed = true\n    }\n\n    // Sync close\n    closeSync(): void {\n        this.#closed = true\n    }\n\n    // Async iterator support\n    async *[Symbol.asyncIterator](): AsyncIterableIterator<Dirent> {\n        if (this.#closed) {\n            throw new Error('Directory handle was closed')\n        }\n\n        for (const entry of this.#entries) {\n            yield entry\n        }\n    }\n\n    // For...of support (sync)\n    *[Symbol.iterator](): IterableIterator<Dirent> {\n        if (this.#closed) {\n            throw new Error('Directory handle was closed')\n        }\n\n        for (const entry of this.#entries) {\n            yield entry\n        }\n    }\n}\n\nexport default Dir\n","// Node.js fs.FileHandle class implementation (promises API)\n// https://nodejs.org/api/fs.html#class-filehandle\n\nimport { Stats } from './Stats'\n\n// Types for async request function\ntype AsyncRequestFn = (method: string, args: unknown[]) => Promise<unknown>\n\nlet asyncRequestFn: AsyncRequestFn | null = null\n\nexport const setFileHandleAsyncRequestFn = (fn: AsyncRequestFn) => {\n    asyncRequestFn = fn\n}\n\nconst asyncRequest = (method: string, args: unknown[]): Promise<unknown> => {\n    if (!asyncRequestFn) throw new Error('FileHandle async request function not initialized')\n    return asyncRequestFn(method, args)\n}\n\nexport interface ReadResult {\n    bytesRead: number\n    buffer: Buffer\n}\n\nexport interface WriteResult {\n    bytesWritten: number\n    buffer: Buffer\n}\n\nexport class FileHandle {\n    readonly fd: number\n    #closed: boolean = false\n\n    constructor(fd: number) {\n        this.fd = fd\n    }\n\n    #checkClosed(): void {\n        if (this.#closed) {\n            throw new Error('file closed')\n        }\n    }\n\n    async appendFile(data: string | Buffer, options?: { encoding?: string }): Promise<void> {\n        this.#checkClosed()\n        const encoding = options?.encoding ?? 'utf8'\n        const buffer = typeof data === 'string' ? Buffer.from(data, encoding as BufferEncoding) : data\n        await asyncRequest('write', [this.fd, buffer, 0, buffer.length, null])\n    }\n\n    async chmod(mode: number): Promise<void> {\n        this.#checkClosed()\n        await asyncRequest('fchmod', [this.fd, mode])\n    }\n\n    async chown(uid: number, gid: number): Promise<void> {\n        this.#checkClosed()\n        await asyncRequest('fchown', [this.fd, uid, gid])\n    }\n\n    async close(): Promise<void> {\n        if (this.#closed) return\n        this.#closed = true\n        await asyncRequest('close', [this.fd])\n    }\n\n    async datasync(): Promise<void> {\n        this.#checkClosed()\n        await asyncRequest('fdatasync', [this.fd])\n    }\n\n    async read(\n        buffer: Buffer,\n        offset?: number,\n        length?: number,\n        position?: number | null\n    ): Promise<ReadResult>\n    async read(options?: {\n        buffer?: Buffer\n        offset?: number\n        length?: number\n        position?: number | null\n    }): Promise<ReadResult>\n    async read(\n        bufferOrOptions?: Buffer | { buffer?: Buffer; offset?: number; length?: number; position?: number | null },\n        offset?: number,\n        length?: number,\n        position?: number | null\n    ): Promise<ReadResult> {\n        this.#checkClosed()\n\n        let buffer: Buffer\n        let off: number\n        let len: number\n        let pos: number | null\n\n        if (Buffer.isBuffer(bufferOrOptions)) {\n            buffer = bufferOrOptions\n            off = offset ?? 0\n            len = length ?? buffer.length - off\n            pos = position ?? null\n        } else {\n            const opts = bufferOrOptions ?? {}\n            buffer = opts.buffer ?? Buffer.alloc(16384)\n            off = opts.offset ?? 0\n            len = opts.length ?? buffer.length - off\n            pos = opts.position ?? null\n        }\n\n        const bytesRead = await asyncRequest('read', [this.fd, buffer, off, len, pos]) as number\n        return { bytesRead, buffer }\n    }\n\n    async readFile(options?: { encoding?: string; flag?: string }): Promise<Buffer | string> {\n        this.#checkClosed()\n        // Read entire file from current position\n        const stat = await this.stat()\n        const buffer = Buffer.alloc(stat.size)\n        await this.read(buffer, 0, stat.size, 0)\n\n        if (options?.encoding) {\n            return buffer.toString(options.encoding as BufferEncoding)\n        }\n        return buffer\n    }\n\n    async readLines(options?: { encoding?: string }): Promise<AsyncIterable<string>> {\n        this.#checkClosed()\n        const content = await this.readFile({ encoding: options?.encoding ?? 'utf8' }) as string\n        const lines = content.split(/\\r?\\n/)\n\n        return {\n            async *[Symbol.asyncIterator]() {\n                for (const line of lines) {\n                    yield line\n                }\n            }\n        }\n    }\n\n    async readv(buffers: Buffer[], position?: number | null): Promise<{ bytesRead: number; buffers: Buffer[] }> {\n        this.#checkClosed()\n        const bytesRead = await asyncRequest('readv', [this.fd, buffers, position ?? null]) as number\n        return { bytesRead, buffers }\n    }\n\n    async stat(options?: { bigint?: boolean }): Promise<Stats> {\n        this.#checkClosed()\n        const result = await asyncRequest('fstat', [this.fd, options])\n        return result as Stats\n    }\n\n    async sync(): Promise<void> {\n        this.#checkClosed()\n        await asyncRequest('fsync', [this.fd])\n    }\n\n    async truncate(len?: number): Promise<void> {\n        this.#checkClosed()\n        await asyncRequest('ftruncate', [this.fd, len ?? 0])\n    }\n\n    async utimes(atime: number | string | Date, mtime: number | string | Date): Promise<void> {\n        this.#checkClosed()\n        await asyncRequest('futimes', [this.fd, atime, mtime])\n    }\n\n    async write(\n        buffer: Buffer,\n        offset?: number,\n        length?: number,\n        position?: number | null\n    ): Promise<WriteResult>\n    async write(\n        data: string,\n        position?: number | null,\n        encoding?: string\n    ): Promise<WriteResult>\n    async write(\n        bufferOrData: Buffer | string,\n        offsetOrPosition?: number | null,\n        lengthOrEncoding?: number | string,\n        position?: number | null\n    ): Promise<WriteResult> {\n        this.#checkClosed()\n\n        let buffer: Buffer\n        let off: number\n        let len: number\n        let pos: number | null\n\n        if (Buffer.isBuffer(bufferOrData)) {\n            buffer = bufferOrData\n            off = (offsetOrPosition as number) ?? 0\n            len = (lengthOrEncoding as number) ?? buffer.length - off\n            pos = position ?? null\n        } else {\n            const encoding = (lengthOrEncoding as string) ?? 'utf8'\n            buffer = Buffer.from(bufferOrData, encoding as BufferEncoding)\n            off = 0\n            len = buffer.length\n            pos = (offsetOrPosition as number) ?? null\n        }\n\n        const bytesWritten = await asyncRequest('write', [this.fd, buffer, off, len, pos]) as number\n        return { bytesWritten, buffer }\n    }\n\n    async writeFile(data: string | Buffer, options?: { encoding?: string }): Promise<void> {\n        this.#checkClosed()\n        await this.truncate(0)\n        const buffer = typeof data === 'string'\n            ? Buffer.from(data, (options?.encoding ?? 'utf8') as BufferEncoding)\n            : data\n        await this.write(buffer, 0, buffer.length, 0)\n    }\n\n    async writev(buffers: Buffer[], position?: number | null): Promise<{ bytesWritten: number; buffers: Buffer[] }> {\n        this.#checkClosed()\n        const bytesWritten = await asyncRequest('writev', [this.fd, buffers, position ?? null]) as number\n        return { bytesWritten, buffers }\n    }\n\n    // createReadStream and createWriteStream are omitted - they need stream implementation\n}\n\nexport default FileHandle\n","// Node.js fs.ReadStream class implementation\n// https://nodejs.org/api/fs.html#class-fsreadstream\n\nimport { EventEmitter } from 'events'\n\n// Type for async read function (full file)\ntype ReadFn = (path: string, options?: { start?: number; end?: number }) => Promise<Buffer>\n\n// Type for chunked read function (for streaming large files)\ntype ReadChunkFn = (path: string, start: number, end: number) => Promise<Buffer>\n\n// Type for getting file size\ntype GetSizeFn = (path: string) => Promise<number>\n\nlet readFileFn: ReadFn | null = null\nlet readChunkFn: ReadChunkFn | null = null\nlet getSizeFn: GetSizeFn | null = null\n\n// Threshold for using chunked reads (files larger than 1MB use streaming)\nconst CHUNKED_READ_THRESHOLD = 1024 * 1024\n\nexport const setReadStreamReadFn = (fn: ReadFn) => {\n    readFileFn = fn\n}\n\nexport const setReadStreamChunkFn = (fn: ReadChunkFn) => {\n    readChunkFn = fn\n}\n\nexport const setReadStreamSizeFn = (fn: GetSizeFn) => {\n    getSizeFn = fn\n}\n\nexport interface ReadStreamOptions {\n    flags?: string\n    encoding?: BufferEncoding | null\n    fd?: number | null\n    mode?: number\n    autoClose?: boolean\n    emitClose?: boolean\n    start?: number\n    end?: number\n    highWaterMark?: number\n}\n\nexport class ReadStream extends EventEmitter {\n    readonly path: string\n    readonly flags: string\n    readonly mode: number\n    readonly start?: number\n    readonly end?: number\n    readonly autoClose: boolean\n    readonly bytesRead: number = 0\n    readonly pending: boolean = true\n\n    #encoding: BufferEncoding | null\n    #highWaterMark: number\n    #destroyed: boolean = false\n    #reading: boolean = false\n    #position: number\n    #endPosition: number | undefined\n\n    constructor(path: string, options?: ReadStreamOptions) {\n        super()\n        this.path = path\n        this.flags = options?.flags ?? 'r'\n        this.mode = options?.mode ?? 0o666\n        this.start = options?.start\n        this.end = options?.end\n        this.autoClose = options?.autoClose ?? true\n        this.#encoding = options?.encoding ?? null\n        this.#highWaterMark = options?.highWaterMark ?? 64 * 1024\n        this.#position = this.start ?? 0\n        this.#endPosition = this.end\n\n        // Start reading on next tick\n        setImmediate(() => this.#startReading())\n    }\n\n    async #startReading(): Promise<void> {\n        if (this.#destroyed || this.#reading) return\n        this.#reading = true\n        ;(this as { pending: boolean }).pending = false\n\n        try {\n            if (!readFileFn) {\n                throw new Error('ReadStream read function not initialized')\n            }\n\n            // Determine file size and whether to use chunked reading\n            let fileSize: number | undefined\n            if (getSizeFn && readChunkFn) {\n                try {\n                    fileSize = await getSizeFn(this.path)\n                } catch {\n                    // Fall back to non-chunked read if size check fails\n                }\n            }\n\n            const effectiveEnd = this.end !== undefined ? this.end + 1 : fileSize\n            const effectiveStart = this.start ?? 0\n            const totalToRead = effectiveEnd !== undefined\n                ? effectiveEnd - effectiveStart\n                : undefined\n\n            // Use chunked reads for large files (more memory efficient)\n            if (\n                totalToRead !== undefined &&\n                totalToRead > CHUNKED_READ_THRESHOLD &&\n                readChunkFn &&\n                getSizeFn\n            ) {\n                await this.#readChunked(effectiveStart, effectiveEnd!)\n            } else {\n                // Small file or no chunk support - read all at once\n                await this.#readFull()\n            }\n        } catch (err) {\n            this.emit('error', err)\n            if (this.autoClose) {\n                this.destroy()\n            }\n        }\n\n        this.#reading = false\n    }\n\n    // Read file in chunks (memory efficient for large files)\n    async #readChunked(start: number, end: number): Promise<void> {\n        let position = start\n\n        while (position < end && !this.#destroyed) {\n            const chunkEnd = Math.min(position + this.#highWaterMark, end)\n            const chunk = await readChunkFn!(this.path, position, chunkEnd)\n\n            position = chunkEnd\n            ;(this as { bytesRead: number }).bytesRead += chunk.length\n\n            if (this.#encoding) {\n                this.emit('data', chunk.toString(this.#encoding))\n            } else {\n                this.emit('data', chunk)\n            }\n\n            // Allow event loop to process between chunks\n            await new Promise(resolve => setImmediate(resolve))\n        }\n\n        if (!this.#destroyed) {\n            this.emit('end')\n            if (this.autoClose) {\n                this.destroy()\n            }\n        }\n    }\n\n    // Read entire file at once (for small files)\n    async #readFull(): Promise<void> {\n        const content = await readFileFn!(this.path, {\n            start: this.start,\n            end: this.end,\n        })\n\n        let buffer = content\n        let offset = 0\n\n        while (offset < buffer.length && !this.#destroyed) {\n            const chunkSize = Math.min(this.#highWaterMark, buffer.length - offset)\n            const chunk = buffer.subarray(offset, offset + chunkSize)\n            offset += chunkSize\n            ;(this as { bytesRead: number }).bytesRead += chunkSize\n\n            if (this.#encoding) {\n                this.emit('data', chunk.toString(this.#encoding))\n            } else {\n                this.emit('data', chunk)\n            }\n\n            // Allow event loop to process between chunks\n            await new Promise(resolve => setImmediate(resolve))\n        }\n\n        if (!this.#destroyed) {\n            this.emit('end')\n            if (this.autoClose) {\n                this.destroy()\n            }\n        }\n    }\n\n    setEncoding(encoding: BufferEncoding): this {\n        this.#encoding = encoding\n        return this\n    }\n\n    pause(): this {\n        // In this simple implementation, we read all at once\n        // A full implementation would support pausing mid-read\n        return this\n    }\n\n    resume(): this {\n        return this\n    }\n\n    isPaused(): boolean {\n        return false\n    }\n\n    pipe<T extends NodeJS.WritableStream>(destination: T): T {\n        this.on('data', (chunk) => {\n            destination.write(chunk)\n        })\n        this.on('end', () => {\n            if ((destination as any).end) {\n                (destination as any).end()\n            }\n        })\n        return destination\n    }\n\n    unpipe(): this {\n        this.removeAllListeners('data')\n        return this\n    }\n\n    destroy(error?: Error): this {\n        if (this.#destroyed) return this\n        this.#destroyed = true\n\n        if (error) {\n            this.emit('error', error)\n        }\n        this.emit('close')\n\n        return this\n    }\n\n    // Readable stream interface\n    read(_size?: number): Buffer | string | null {\n        // This implementation uses push mode (events), not pull mode\n        return null\n    }\n\n    get destroyed(): boolean {\n        return this.#destroyed\n    }\n\n    // AsyncIterable support\n    async *[Symbol.asyncIterator](): AsyncIterableIterator<Buffer | string> {\n        const chunks: (Buffer | string)[] = []\n        let ended = false\n        let error: Error | null = null\n\n        this.on('data', (chunk) => chunks.push(chunk))\n        this.on('end', () => { ended = true })\n        this.on('error', (err) => { error = err })\n\n        while (!ended && !error) {\n            if (chunks.length > 0) {\n                yield chunks.shift()!\n            } else {\n                await new Promise(resolve => setImmediate(resolve))\n            }\n        }\n\n        // Yield remaining chunks\n        while (chunks.length > 0) {\n            yield chunks.shift()!\n        }\n\n        if (error) {\n            throw error\n        }\n    }\n}\n\nexport default ReadStream\n","// Node.js fs.WriteStream class implementation\n// https://nodejs.org/api/fs.html#class-fswritestream\n\nimport { EventEmitter } from 'events'\n\n// Type for async write function\ntype WriteFn = (path: string, data: Buffer, options?: { flag?: string; start?: number }) => Promise<void>\ntype AppendFn = (path: string, data: Buffer) => Promise<void>\n\nlet writeFileFn: WriteFn | null = null\nlet appendFileFn: AppendFn | null = null\n\nexport const setWriteStreamWriteFn = (fn: WriteFn) => {\n    writeFileFn = fn\n}\n\nexport const setWriteStreamAppendFn = (fn: AppendFn) => {\n    appendFileFn = fn\n}\n\nexport interface WriteStreamOptions {\n    flags?: string\n    encoding?: BufferEncoding\n    fd?: number | null\n    mode?: number\n    autoClose?: boolean\n    emitClose?: boolean\n    start?: number\n    highWaterMark?: number\n}\n\nexport class WriteStream extends EventEmitter {\n    readonly path: string\n    readonly flags: string\n    readonly mode: number\n    readonly start?: number\n    readonly autoClose: boolean\n    bytesWritten: number = 0\n    readonly pending: boolean = true\n\n    #encoding: BufferEncoding\n    #highWaterMark: number\n    #destroyed: boolean = false\n    #finished: boolean = false\n    #writeQueue: Buffer[] = []\n    #writing: boolean = false\n    #needsDrain: boolean = false\n    #isFirstWrite: boolean = true\n\n    constructor(path: string, options?: WriteStreamOptions) {\n        super()\n        this.path = path\n        this.flags = options?.flags ?? 'w'\n        this.mode = options?.mode ?? 0o666\n        this.start = options?.start\n        this.autoClose = options?.autoClose ?? true\n        this.#encoding = options?.encoding ?? 'utf8'\n        this.#highWaterMark = options?.highWaterMark ?? 64 * 1024\n\n        // Mark as ready on next tick\n        setImmediate(() => {\n            (this as { pending: boolean }).pending = false\n            this.emit('ready')\n            this.emit('open')\n        })\n    }\n\n    write(chunk: string | Buffer, callback?: (err?: Error | null) => void): boolean\n    write(chunk: string | Buffer, encoding?: BufferEncoding, callback?: (err?: Error | null) => void): boolean\n    write(\n        chunk: string | Buffer,\n        encodingOrCallback?: BufferEncoding | ((err?: Error | null) => void),\n        callback?: (err?: Error | null) => void\n    ): boolean {\n        if (this.#destroyed || this.#finished) {\n            const err = new Error('write after end')\n            if (callback) callback(err)\n            else if (typeof encodingOrCallback === 'function') encodingOrCallback(err)\n            return false\n        }\n\n        let encoding = this.#encoding\n        let cb = callback\n\n        if (typeof encodingOrCallback === 'function') {\n            cb = encodingOrCallback\n        } else if (encodingOrCallback) {\n            encoding = encodingOrCallback\n        }\n\n        const buffer = typeof chunk === 'string' ? Buffer.from(chunk, encoding) : chunk\n        this.#writeQueue.push(buffer)\n\n        // Check if we need to signal drain\n        const totalQueued = this.#writeQueue.reduce((sum, b) => sum + b.length, 0)\n        this.#needsDrain = totalQueued >= this.#highWaterMark\n\n        // Process the write queue\n        this.#processQueue(cb)\n\n        return !this.#needsDrain\n    }\n\n    async #processQueue(callback?: (err?: Error | null) => void): Promise<void> {\n        if (this.#writing || this.#writeQueue.length === 0) {\n            if (callback) callback(null)\n            return\n        }\n\n        this.#writing = true\n\n        try {\n            while (this.#writeQueue.length > 0 && !this.#destroyed) {\n                const buffer = this.#writeQueue.shift()!\n\n                if (!writeFileFn || !appendFileFn) {\n                    throw new Error('WriteStream write function not initialized')\n                }\n\n                // First write truncates (if flags='w'), subsequent appends\n                if (this.#isFirstWrite && this.flags === 'w') {\n                    await writeFileFn(this.path, buffer, { flag: 'w', start: this.start })\n                    this.#isFirstWrite = false\n                } else {\n                    await appendFileFn(this.path, buffer)\n                }\n\n                this.bytesWritten += buffer.length\n            }\n\n            if (callback) callback(null)\n\n            // Emit drain if we were backed up\n            if (this.#needsDrain) {\n                this.#needsDrain = false\n                this.emit('drain')\n            }\n        } catch (err) {\n            if (callback) callback(err as Error)\n            this.emit('error', err)\n            if (this.autoClose) {\n                this.destroy()\n            }\n        }\n\n        this.#writing = false\n    }\n\n    end(callback?: () => void): this\n    end(chunk: string | Buffer, callback?: () => void): this\n    end(chunk: string | Buffer, encoding?: BufferEncoding, callback?: () => void): this\n    end(\n        chunkOrCallback?: string | Buffer | (() => void),\n        encodingOrCallback?: BufferEncoding | (() => void),\n        callback?: () => void\n    ): this {\n        if (this.#finished) return this\n\n        let chunk: string | Buffer | undefined\n        let cb: (() => void) | undefined\n\n        if (typeof chunkOrCallback === 'function') {\n            cb = chunkOrCallback\n        } else if (chunkOrCallback !== undefined) {\n            chunk = chunkOrCallback\n            if (typeof encodingOrCallback === 'function') {\n                cb = encodingOrCallback\n            } else {\n                cb = callback\n            }\n        }\n\n        const finish = () => {\n            this.#finished = true\n            this.emit('finish')\n            if (this.autoClose) {\n                this.destroy()\n            }\n            if (cb) cb()\n        }\n\n        if (chunk !== undefined) {\n            this.write(chunk, () => {\n                this.#processQueue().then(finish)\n            })\n        } else {\n            this.#processQueue().then(finish)\n        }\n\n        return this\n    }\n\n    setDefaultEncoding(encoding: BufferEncoding): this {\n        this.#encoding = encoding\n        return this\n    }\n\n    cork(): void {\n        // No-op in this implementation\n    }\n\n    uncork(): void {\n        // No-op in this implementation\n    }\n\n    destroy(error?: Error): this {\n        if (this.#destroyed) return this\n        this.#destroyed = true\n\n        if (error) {\n            this.emit('error', error)\n        }\n        this.emit('close')\n\n        return this\n    }\n\n    get destroyed(): boolean {\n        return this.#destroyed\n    }\n\n    get writable(): boolean {\n        return !this.#destroyed && !this.#finished\n    }\n\n    get writableEnded(): boolean {\n        return this.#finished\n    }\n\n    get writableFinished(): boolean {\n        return this.#finished && this.#writeQueue.length === 0\n    }\n\n    get writableHighWaterMark(): number {\n        return this.#highWaterMark\n    }\n\n    get writableLength(): number {\n        return this.#writeQueue.reduce((sum, b) => sum + b.length, 0)\n    }\n}\n\nexport default WriteStream\n","// Node.js fs error class implementation\n// https://nodejs.org/api/errors.html#class-systemerror\n\n// Error codes mapping\nexport const ERROR_CODES: Record<string, { code: string; errno: number; message: string }> = {\n    ENOENT: { code: 'ENOENT', errno: -2, message: 'no such file or directory' },\n    EEXIST: { code: 'EEXIST', errno: -17, message: 'file already exists' },\n    ENOTDIR: { code: 'ENOTDIR', errno: -20, message: 'not a directory' },\n    EISDIR: { code: 'EISDIR', errno: -21, message: 'illegal operation on a directory' },\n    ENOTEMPTY: { code: 'ENOTEMPTY', errno: -39, message: 'directory not empty' },\n    EACCES: { code: 'EACCES', errno: -13, message: 'permission denied' },\n    EPERM: { code: 'EPERM', errno: -1, message: 'operation not permitted' },\n    EBADF: { code: 'EBADF', errno: -9, message: 'bad file descriptor' },\n    EINVAL: { code: 'EINVAL', errno: -22, message: 'invalid argument' },\n    EMFILE: { code: 'EMFILE', errno: -24, message: 'too many open files' },\n    ENFILE: { code: 'ENFILE', errno: -23, message: 'file table overflow' },\n    ELOOP: { code: 'ELOOP', errno: -40, message: 'too many symbolic links encountered' },\n    ENAMETOOLONG: { code: 'ENAMETOOLONG', errno: -36, message: 'file name too long' },\n    ENOSPC: { code: 'ENOSPC', errno: -28, message: 'no space left on device' },\n    EROFS: { code: 'EROFS', errno: -30, message: 'read-only file system' },\n    EXDEV: { code: 'EXDEV', errno: -18, message: 'cross-device link not permitted' },\n    EAGAIN: { code: 'EAGAIN', errno: -11, message: 'resource temporarily unavailable' },\n    EBUSY: { code: 'EBUSY', errno: -16, message: 'resource busy or locked' },\n    ENOTCONN: { code: 'ENOTCONN', errno: -107, message: 'socket is not connected' },\n    ETIMEDOUT: { code: 'ETIMEDOUT', errno: -110, message: 'connection timed out' },\n    ECONNREFUSED: { code: 'ECONNREFUSED', errno: -111, message: 'connection refused' },\n    ECONNRESET: { code: 'ECONNRESET', errno: -104, message: 'connection reset by peer' },\n}\n\nexport class FSError extends Error {\n    code: string\n    errno: number\n    syscall: string\n    path?: string\n    dest?: string\n\n    constructor(\n        code: keyof typeof ERROR_CODES | string,\n        syscall: string,\n        path?: string,\n        dest?: string\n    ) {\n        const errorInfo = ERROR_CODES[code] ?? { code, errno: -1, message: code.toLowerCase() }\n\n        let message = `${errorInfo.code}: ${errorInfo.message}, ${syscall}`\n        if (path) {\n            message += ` '${path}'`\n        }\n        if (dest) {\n            message += ` -> '${dest}'`\n        }\n\n        super(message)\n\n        this.name = 'Error'\n        this.code = errorInfo.code\n        this.errno = errorInfo.errno\n        this.syscall = syscall\n        this.path = path\n        this.dest = dest\n\n        // Maintain proper stack trace in V8\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, FSError)\n        }\n    }\n\n    // Convert to JSON-serializable object\n    toJSON(): object {\n        return {\n            name: this.name,\n            message: this.message,\n            code: this.code,\n            errno: this.errno,\n            syscall: this.syscall,\n            path: this.path,\n            dest: this.dest,\n        }\n    }\n}\n\n// Helper functions to create common errors\nexport const createENOENT = (syscall: string, path: string): FSError =>\n    new FSError('ENOENT', syscall, path)\n\nexport const createEEXIST = (syscall: string, path: string): FSError =>\n    new FSError('EEXIST', syscall, path)\n\nexport const createENOTDIR = (syscall: string, path: string): FSError =>\n    new FSError('ENOTDIR', syscall, path)\n\nexport const createEISDIR = (syscall: string, path: string): FSError =>\n    new FSError('EISDIR', syscall, path)\n\nexport const createENOTEMPTY = (syscall: string, path: string): FSError =>\n    new FSError('ENOTEMPTY', syscall, path)\n\nexport const createEACCES = (syscall: string, path: string): FSError =>\n    new FSError('EACCES', syscall, path)\n\nexport const createEPERM = (syscall: string, path: string): FSError =>\n    new FSError('EPERM', syscall, path)\n\nexport const createEBADF = (syscall: string): FSError =>\n    new FSError('EBADF', syscall)\n\nexport const createEINVAL = (syscall: string, path?: string, message?: string): FSError => {\n    const error = new FSError('EINVAL', syscall, path)\n    if (message) {\n        error.message = `EINVAL: ${message}, ${syscall}${path ? ` '${path}'` : ''}`\n    }\n    return error\n}\n\nexport const createELOOP = (syscall: string, path: string): FSError =>\n    new FSError('ELOOP', syscall, path)\n\nexport default FSError\n","// Export all utility functions\n\nexport {\n    validateEncoding,\n    validateFlag,\n    validateMode,\n    normalizeEncoding,\n    normalizePath,\n    isValidPath,\n    parseSymbolicMode,\n    modeToSymbolic,\n    parseMode,\n} from './validation'\n","// Validation utilities for fs operations\n\nimport { createEINVAL } from '../classes'\n\n// Valid Node.js buffer encodings\nconst VALID_ENCODINGS = new Set([\n    'ascii',\n    'utf8',\n    'utf-8',\n    'utf16le',\n    'utf-16le',\n    'ucs2',\n    'ucs-2',\n    'base64',\n    'base64url',\n    'latin1',\n    'binary', // alias for latin1\n    'hex',\n])\n\n// Valid file open flags\nconst VALID_FLAGS = new Set([\n    'r',      // Open for reading, error if doesn't exist\n    'r+',     // Open for reading and writing, error if doesn't exist\n    'rs',     // Open for reading synchronously\n    'rs+',    // Open for reading and writing synchronously\n    'w',      // Open for writing, create if doesn't exist, truncate if exists\n    'wx',     // Like 'w' but fails if path exists\n    'w+',     // Open for reading and writing, create/truncate\n    'wx+',    // Like 'w+' but fails if path exists\n    'a',      // Open for appending, create if doesn't exist\n    'ax',     // Like 'a' but fails if path exists\n    'a+',     // Open for reading and appending\n    'ax+',    // Like 'a+' but fails if path exists\n])\n\n/**\n * Validates that the encoding is a valid Node.js buffer encoding\n * @throws Error with code EINVAL if encoding is invalid\n */\nexport const validateEncoding = (encoding: string | undefined, syscall: string, path?: string): void => {\n    if (encoding === undefined || encoding === null) return\n\n    const normalizedEncoding = encoding.toLowerCase()\n\n    if (!VALID_ENCODINGS.has(normalizedEncoding)) {\n        throw createEINVAL(syscall, path, `Unknown encoding: ${encoding}`)\n    }\n}\n\n/**\n * Validates that the flag is a valid file open flag\n * @throws Error with code EINVAL if flag is invalid\n */\nexport const validateFlag = (flag: string | undefined, syscall: string, path?: string): void => {\n    if (flag === undefined || flag === null) return\n\n    if (!VALID_FLAGS.has(flag)) {\n        throw createEINVAL(syscall, path, `Unknown file flag: ${flag}`)\n    }\n}\n\n/**\n * Normalizes encoding to standard form\n * Returns undefined if no encoding specified (binary mode)\n */\nexport const normalizeEncoding = (encoding: string | undefined): BufferEncoding | undefined => {\n    if (encoding === undefined || encoding === null) return undefined\n\n    const lower = encoding.toLowerCase()\n\n    // Normalize aliases\n    switch (lower) {\n        case 'utf-8':\n            return 'utf8'\n        case 'utf-16le':\n            return 'utf16le'\n        case 'ucs-2':\n            return 'ucs2'\n        case 'binary':\n            return 'latin1'\n        default:\n            return lower as BufferEncoding\n    }\n}\n\n/**\n * Validates that mode is a valid file mode (permissions)\n */\nexport const validateMode = (mode: number | undefined, syscall: string, path?: string): void => {\n    if (mode === undefined || mode === null) return\n\n    if (typeof mode !== 'number' || mode < 0 || mode > 0o7777) {\n        throw createEINVAL(syscall, path, `Invalid mode: ${mode}`)\n    }\n}\n\n/**\n * Validates and normalizes a path\n * Supports string, Buffer, and URL paths\n */\nexport const normalizePath = (path: string | Buffer | URL): string => {\n    if (typeof path === 'string') {\n        return path\n    }\n\n    if (Buffer.isBuffer(path)) {\n        return path.toString('utf8')\n    }\n\n    if (path instanceof URL) {\n        if (path.protocol !== 'file:') {\n            throw new TypeError(`The URL must be of scheme file. Received ${path.protocol}`)\n        }\n        // Convert file:// URL to path\n        // file:///path/to/file -> /path/to/file\n        return decodeURIComponent(path.pathname)\n    }\n\n    throw new TypeError(`The \"path\" argument must be of type string, Buffer, or URL. Received ${typeof path}`)\n}\n\n/**\n * Checks if a value is a valid path type\n */\nexport const isValidPath = (path: unknown): path is string | Buffer | URL => {\n    return typeof path === 'string' || Buffer.isBuffer(path) || path instanceof URL\n}\n\n/**\n * Permission bits for symbolic mode parsing\n */\nconst PERM_READ = 4\nconst PERM_WRITE = 2\nconst PERM_EXEC = 1\n\n/**\n * Parses a symbolic permission mode string and applies it to an existing mode\n * Supports formats like: 'u+x', 'go-w', 'a=rw', 'u+rwx,g+rx,o+r'\n *\n * @param symbolicMode - The symbolic mode string (e.g., 'u+x', 'go-w')\n * @param currentMode - The current numeric mode to modify (default: 0)\n * @returns The resulting numeric mode\n */\nexport const parseSymbolicMode = (symbolicMode: string, currentMode: number = 0): number => {\n    // Handle numeric mode passed as string\n    if (/^[0-7]+$/.test(symbolicMode)) {\n        return parseInt(symbolicMode, 8)\n    }\n\n    let mode = currentMode\n\n    // Split by comma for multiple clauses (e.g., 'u+x,g+r')\n    const clauses = symbolicMode.split(',')\n\n    for (const clause of clauses) {\n        // Parse: [ugoa]*[+-=][rwxXst]+\n        const match = clause.match(/^([ugoa]*)([+\\-=])([rwxXst]+)$/)\n\n        if (!match) {\n            throw new Error(`Invalid symbolic mode: ${clause}`)\n        }\n\n        const [, who, op, perms] = match\n\n        // Determine which permission groups to affect\n        // Empty 'who' means 'a' (all), but respects umask in real Node.js\n        // For simplicity, we treat empty as 'a'\n        const affectUser = who === '' || who.includes('u') || who.includes('a')\n        const affectGroup = who === '' || who.includes('g') || who.includes('a')\n        const affectOther = who === '' || who.includes('o') || who.includes('a')\n\n        // Calculate permission bits\n        let bits = 0\n        if (perms.includes('r')) bits |= PERM_READ\n        if (perms.includes('w')) bits |= PERM_WRITE\n        if (perms.includes('x')) bits |= PERM_EXEC\n        // 'X' - execute only if directory or already has execute\n        // For simplicity, treat as 'x' (would need file type info for full support)\n        if (perms.includes('X')) bits |= PERM_EXEC\n\n        // Build the mask for affected bits\n        let mask = 0\n        let value = 0\n\n        if (affectUser) {\n            mask |= 0o700\n            value |= (bits << 6)\n        }\n        if (affectGroup) {\n            mask |= 0o070\n            value |= (bits << 3)\n        }\n        if (affectOther) {\n            mask |= 0o007\n            value |= bits\n        }\n\n        // Handle special bits (setuid, setgid, sticky)\n        if (perms.includes('s')) {\n            if (affectUser) {\n                mask |= 0o4000\n                value |= 0o4000\n            }\n            if (affectGroup) {\n                mask |= 0o2000\n                value |= 0o2000\n            }\n        }\n        if (perms.includes('t')) {\n            mask |= 0o1000\n            value |= 0o1000\n        }\n\n        // Apply the operation\n        switch (op) {\n            case '+':\n                mode |= value\n                break\n            case '-':\n                mode &= ~value\n                break\n            case '=':\n                mode = (mode & ~mask) | value\n                break\n        }\n    }\n\n    return mode\n}\n\n/**\n * Converts a numeric mode to symbolic string representation\n * @param mode - The numeric mode\n * @returns Symbolic representation (e.g., 'rwxr-xr-x')\n */\nexport const modeToSymbolic = (mode: number): string => {\n    const chars = [\n        (mode & 0o400) ? 'r' : '-',\n        (mode & 0o200) ? 'w' : '-',\n        (mode & 0o4000) ? ((mode & 0o100) ? 's' : 'S') : ((mode & 0o100) ? 'x' : '-'),\n        (mode & 0o040) ? 'r' : '-',\n        (mode & 0o020) ? 'w' : '-',\n        (mode & 0o2000) ? ((mode & 0o010) ? 's' : 'S') : ((mode & 0o010) ? 'x' : '-'),\n        (mode & 0o004) ? 'r' : '-',\n        (mode & 0o002) ? 'w' : '-',\n        (mode & 0o1000) ? ((mode & 0o001) ? 't' : 'T') : ((mode & 0o001) ? 'x' : '-'),\n    ]\n    return chars.join('')\n}\n\n/**\n * Parses a mode that can be either numeric or symbolic\n * @param mode - Numeric mode, or symbolic string\n * @param currentMode - Current mode for symbolic operations (default: 0o666 for files, 0o777 for dirs)\n * @returns Numeric mode\n */\nexport const parseMode = (mode: number | string, currentMode: number = 0o666): number => {\n    if (typeof mode === 'number') {\n        return mode\n    }\n\n    if (typeof mode === 'string') {\n        return parseSymbolicMode(mode, currentMode)\n    }\n\n    throw new TypeError(`Invalid mode type: ${typeof mode}`)\n}\n","// Async FS Methods - All asynchronous file system operations\n// File descriptor operations are in async-fd.ts\n// Watch and stream operations are in async-watch.ts\n\nimport type { PathLike } from 'node:fs'\nimport { getStorageMode } from '../config'\nimport type { Dirent } from '../classes'\nimport {\n    Stats,\n    BigIntStats,\n    setReadStreamReadFn,\n    setReadStreamChunkFn,\n    setReadStreamSizeFn,\n    setWriteStreamWriteFn,\n    setWriteStreamAppendFn,\n    setFileHandleAsyncRequestFn,\n    Dir as DirClass,\n} from '../classes'\nimport type { Dir } from '../classes'\nimport { validateEncoding, validateFlag, normalizePath, parseMode } from '../utils'\n\n// Import sub-modules and re-export their functions\nimport { setFdAsyncRequestFn, setFdFireAndForgetFn } from './async-fd'\nexport * from './async-fd'\n\nimport { setWatchAsyncRequestFn, setWatchSyncRequestFn } from './async-watch'\nexport * from './async-watch'\n\n// Async request function - passed from main polyfill\nlet asyncRequestFn: (method: string, args: unknown[]) => Promise<unknown>\nlet fireAndForgetFn: (method: string, args: unknown[]) => void\nlet syncRequestFn: (method: string, args: unknown[]) => unknown\n\n// Expose asyncRequest and fireAndForget for sub-modules\nexport const getAsyncRequest = () => asyncRequest\nexport const getFireAndForget = () => fireAndForget\n\nexport const setAsyncRequestFn = (fn: (method: string, args: unknown[]) => Promise<unknown>) => {\n    asyncRequestFn = fn\n\n    // Wire up stream read/write functions\n    setReadStreamReadFn(async (path, options) => {\n        return asyncRequest('readFile', [path, options]) as Promise<Buffer>\n    })\n    setReadStreamChunkFn(async (path, start, end) => {\n        return asyncRequest('readFileChunk', [path, start, end]) as Promise<Buffer>\n    })\n    setReadStreamSizeFn(async (path) => {\n        return asyncRequest('getFileSize', [path]) as Promise<number>\n    })\n    setWriteStreamWriteFn(async (path, data, options) => {\n        await asyncRequest('writeFile', [path, data, options])\n    })\n    setWriteStreamAppendFn(async (path, data) => {\n        await asyncRequest('appendFile', [path, data])\n    })\n\n    // Wire up FileHandle's async request function\n    setFileHandleAsyncRequestFn(fn)\n\n    // Wire up sub-modules\n    setFdAsyncRequestFn(fn)\n    setWatchAsyncRequestFn(fn)\n}\n\nexport const setFireAndForgetFn = (fn: (method: string, args: unknown[]) => void) => {\n    fireAndForgetFn = fn\n    setFdFireAndForgetFn(fn)\n}\n\nexport const setSyncRequestFn = (fn: (method: string, args: unknown[]) => unknown) => {\n    syncRequestFn = fn\n    setWatchSyncRequestFn(fn)\n}\n\nconst asyncRequest = (method: string, args: unknown[]): Promise<unknown> => {\n    // In VFS-only mode, route async requests through sync methods\n    if (getStorageMode() === 'vfs-only') {\n        if (!syncRequestFn) throw new Error('Sync request function not initialized')\n        // Wrap sync call in a microtask to maintain async semantics\n        return Promise.resolve().then(() => syncRequestFn(method, args))\n    }\n\n    if (!asyncRequestFn) throw new Error('Async request function not initialized')\n    return asyncRequestFn(method, args)\n}\n\nconst fireAndForget = (method: string, args: unknown[]) => {\n    // Skip in opfs-only mode (no VFS to sync) and vfs-only mode (async uses sync, already in VFS)\n    const mode = getStorageMode()\n    if (mode === 'opfs-only' || mode === 'vfs-only') return\n\n    if (fireAndForgetFn) fireAndForgetFn(method, args)\n}\n\n// Helper for AbortSignal support\nconst checkAborted = (signal?: AbortSignal): void => {\n    if (signal?.aborted) {\n        const error = new Error('The operation was aborted')\n        error.name = 'AbortError'\n        ;(error as NodeJS.ErrnoException).code = 'ABORT_ERR'\n        throw error\n    }\n}\n\nconst withAbortSignal = async <T>(promise: Promise<T>, signal?: AbortSignal): Promise<T> => {\n    checkAborted(signal)\n\n    if (!signal) return promise\n\n    return Promise.race([\n        promise,\n        new Promise<T>((_, reject) => {\n            signal.addEventListener('abort', () => {\n                const error = new Error('The operation was aborted')\n                error.name = 'AbortError'\n                ;(error as NodeJS.ErrnoException).code = 'ABORT_ERR'\n                reject(error)\n            }, { once: true })\n        })\n    ])\n}\n\nexport interface StatOptions {\n    bigint?: boolean\n}\n\nexport interface ReaddirOptions {\n    withFileTypes?: boolean\n    encoding?: BufferEncoding | 'buffer'\n    recursive?: boolean\n}\n\nexport interface GlobOptions {\n    cwd?: string\n    withFileTypes?: boolean\n    exclude?: (path: string) => boolean\n}\n\nexport interface ReadFileOptions {\n    encoding?: BufferEncoding\n    flag?: string\n    signal?: AbortSignal\n}\n\nexport interface WriteFileOptions {\n    encoding?: BufferEncoding\n    mode?: number\n    flag?: string\n    signal?: AbortSignal\n    flush?: boolean\n}\n\nexport interface CpOptions {\n    recursive?: boolean\n    force?: boolean\n    signal?: AbortSignal\n}\n\n// File read/write\nexport const readFile = async (path: PathLike, options?: ReadFileOptions | BufferEncoding): Promise<string | Buffer> => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const opts = typeof options === 'string' ? { encoding: options } : options\n\n    validateEncoding(opts?.encoding, 'read', normalizedPath)\n    validateFlag(opts?.flag, 'open', normalizedPath)\n\n    return withAbortSignal(\n        asyncRequest('readFile', [normalizedPath, opts]) as Promise<string | Buffer>,\n        opts?.signal\n    )\n}\n\nexport const writeFile = async (path: PathLike, data: string | Buffer, options?: WriteFileOptions | BufferEncoding): Promise<void> => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const opts = typeof options === 'string' ? { encoding: options } : options\n\n    validateEncoding(opts?.encoding, 'write', normalizedPath)\n    validateFlag(opts?.flag, 'open', normalizedPath)\n\n    await withAbortSignal(\n        asyncRequest('writeFile', [normalizedPath, data, opts]),\n        opts?.signal\n    )\n    fireAndForget('writeFileSync', [normalizedPath, data, opts])\n}\n\nexport const appendFile = async (path: PathLike, data: string | Buffer, options?: { encoding?: BufferEncoding; signal?: AbortSignal }): Promise<void> => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    validateEncoding(options?.encoding, 'appendFile', normalizedPath)\n\n    await withAbortSignal(\n        asyncRequest('appendFile', [normalizedPath, data]),\n        options?.signal\n    )\n    fireAndForget('appendFileSync', [normalizedPath, data])\n}\n\n// File existence and access\nexport function exists(path: PathLike): Promise<boolean>\nexport function exists(path: PathLike, callback: (exists: boolean) => void): void\nexport function exists(path: PathLike, callback?: (exists: boolean) => void): Promise<boolean> | void {\n    const promise = asyncRequest('exists', [path]) as Promise<boolean>\n\n    if (callback) {\n        promise.then(result => callback(result), () => callback(false))\n        return\n    }\n    return promise\n}\n\nexport const access = async (path: PathLike, mode?: number): Promise<void> => {\n    await asyncRequest('access', [path, mode])\n}\n\n// File deletion\nexport const unlink = async (path: PathLike): Promise<void> => {\n    await asyncRequest('unlink', [path])\n    fireAndForget('unlinkSync', [path])\n}\n\nexport const rm = async (path: PathLike, options?: { recursive?: boolean; force?: boolean }): Promise<void> => {\n    await asyncRequest('rm', [path, options])\n    fireAndForget('rmSync', [path, options])\n}\n\n// Directory operations\nexport const mkdir = async (path: PathLike, options?: { recursive?: boolean }): Promise<void> => {\n    await asyncRequest('mkdir', [path, options])\n    fireAndForget('mkdirSync', [path, options])\n}\n\nexport const rmdir = async (path: PathLike, options?: { recursive?: boolean }): Promise<void> => {\n    await asyncRequest('rmdir', [path, options])\n    fireAndForget('rmdirSync', [path, options])\n}\n\nexport const readdir = async (path: PathLike, options?: ReaddirOptions): Promise<string[] | Dirent[]> => {\n    return asyncRequest('readdir', [path, options]) as Promise<string[] | Dirent[]>\n}\n\nexport const opendir = async (path: PathLike): Promise<Dir> => {\n    const pathStr = String(path).replace(/^\\/+|\\/+$/g, '')\n    const entries = await asyncRequest('readdir', [path, { withFileTypes: true }]) as Dirent[]\n    return new DirClass({ path: pathStr, entries })\n}\n\n// File stats\nexport const stat = async (path: PathLike, options?: StatOptions): Promise<Stats | BigIntStats> => {\n    const result = await asyncRequest('stat', [path, options]) as Record<string, unknown>\n    if (options?.bigint) {\n        return new BigIntStats(result as unknown as ConstructorParameters<typeof BigIntStats>[0])\n    }\n    return new Stats(result as unknown as ConstructorParameters<typeof Stats>[0])\n}\n\nexport const lstat = async (path: PathLike, options?: StatOptions): Promise<Stats | BigIntStats> => {\n    const result = await asyncRequest('lstat', [path, options]) as Record<string, unknown>\n    if (options?.bigint) {\n        return new BigIntStats(result as unknown as ConstructorParameters<typeof BigIntStats>[0])\n    }\n    return new Stats(result as unknown as ConstructorParameters<typeof Stats>[0])\n}\n\nexport const statfs = async (path: PathLike): Promise<unknown> => {\n    return asyncRequest('statfs', [path])\n}\n\n// Glob (Node.js 22+)\nexport async function* glob(\n    pattern: string | string[],\n    options?: GlobOptions\n): AsyncGenerator<string | Dirent, void, unknown> {\n    const results = await asyncRequest('glob', [pattern, options]) as (string | Dirent)[]\n    for (const result of results) {\n        yield result\n    }\n}\n\n// File operations\nexport const rename = async (oldPath: PathLike, newPath: PathLike): Promise<void> => {\n    await asyncRequest('rename', [oldPath, newPath])\n    fireAndForget('renameSync', [oldPath, newPath])\n}\n\nexport const copyFile = async (src: PathLike, dest: PathLike, mode?: number): Promise<void> => {\n    await asyncRequest('copyFile', [src, dest, mode])\n    fireAndForget('copyFileSync', [src, dest, mode])\n}\n\nexport const cp = async (src: PathLike, dest: PathLike, options?: CpOptions): Promise<void> => {\n    await withAbortSignal(asyncRequest('cp', [src, dest, options]), options?.signal)\n    fireAndForget('cpSync', [src, dest, options])\n}\n\nexport const truncate = async (path: PathLike, len?: number): Promise<void> => {\n    await asyncRequest('truncate', [path, len])\n    fireAndForget('truncateSync', [path, len])\n}\n\n// Permissions\nexport const chmod = async (path: PathLike, mode: number | string): Promise<void> => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const numericMode = parseMode(mode)\n    await asyncRequest('chmod', [normalizedPath, numericMode])\n    fireAndForget('chmodSync', [normalizedPath, numericMode])\n}\n\nexport const chown = async (path: PathLike, uid: number, gid: number): Promise<void> => {\n    await asyncRequest('chown', [path, uid, gid])\n    fireAndForget('chownSync', [path, uid, gid])\n}\n\nexport const lchmod = async (path: PathLike, mode: number | string): Promise<void> => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const numericMode = parseMode(mode)\n    await asyncRequest('lchmod', [normalizedPath, numericMode])\n    fireAndForget('lchmodSync', [normalizedPath, numericMode])\n}\n\nexport const lchown = async (path: PathLike, uid: number, gid: number): Promise<void> => {\n    await asyncRequest('lchown', [path, uid, gid])\n    fireAndForget('lchownSync', [path, uid, gid])\n}\n\n// Links\nexport const link = async (existingPath: PathLike, newPath: PathLike): Promise<void> => {\n    await asyncRequest('link', [existingPath, newPath])\n    fireAndForget('linkSync', [existingPath, newPath])\n}\n\nexport const symlink = async (target: PathLike, path: PathLike, type?: string): Promise<void> => {\n    await asyncRequest('symlink', [target, path, type])\n    fireAndForget('symlinkSync', [target, path, type])\n}\n\nexport const readlink = async (path: PathLike): Promise<string> => {\n    return asyncRequest('readlink', [path]) as Promise<string>\n}\n\n// Paths\nexport const realpath = async (path: PathLike): Promise<string> => {\n    return asyncRequest('realpath', [path]) as Promise<string>\n}\n\nexport const mkdtemp = async (prefix: string): Promise<string> => {\n    return asyncRequest('mkdtemp', [prefix]) as Promise<string>\n}\n\n// Times\nexport const utimes = async (path: PathLike, atime: number | Date, mtime: number | Date): Promise<void> => {\n    await asyncRequest('utimes', [path, atime, mtime])\n    fireAndForget('utimesSync', [path, atime, mtime])\n}\n\nexport const lutimes = async (path: PathLike, atime: number | Date, mtime: number | Date): Promise<void> => {\n    await asyncRequest('lutimes', [path, atime, mtime])\n    fireAndForget('lutimesSync', [path, atime, mtime])\n}\n","/**\n * FS Polyfill Configuration\n * Manages storage modes and other configuration options\n */\n\nimport type { LoggerConfig } from './logger'\n\n/**\n * Storage mode determines how sync and async operations are handled\n *\n * - 'hybrid' (default): Sync uses VFS binary file (single persistent OPFS file), async uses OPFS native structure\n * - 'vfs-only': Both sync and async use VFS binary file (async wraps sync)\n * - 'opfs-only': Both use OPFS native directory/file structure (sync uses SAB+async internally)\n */\nexport type StorageMode = 'hybrid' | 'vfs-only' | 'opfs-only'\n\n/**\n * Full FS polyfill configuration\n */\nexport interface FsConfig {\n    /**\n     * Storage mode - must be set before initialization\n     */\n    storageMode: StorageMode\n\n    /**\n     * Logging configuration\n     */\n    logging: LoggerConfig\n}\n\n/**\n * Default configuration\n */\nexport const defaultConfig: FsConfig = {\n    storageMode: 'hybrid',\n    logging: {\n        enabled: false,\n        level: 'info',\n        console: true,\n        buffer: false,\n        bufferSize: 1000,\n    },\n}\n\n// Current configuration state\nlet config: FsConfig = { ...defaultConfig, logging: { ...defaultConfig.logging } }\nlet initialized = false\n\n/**\n * Configure the FS polyfill\n * Must be called before any fs operation for storage mode to take effect\n */\nexport function configure(options: Partial<FsConfig>): void {\n    if (initialized && options.storageMode !== undefined && options.storageMode !== config.storageMode) {\n        console.warn(\n            '[FS Config] storageMode cannot be changed after initialization. ' +\n            `Current mode: ${config.storageMode}, requested: ${options.storageMode}`\n        )\n        // Still allow other options to be updated\n        const { storageMode, ...rest } = options\n        options = rest\n    }\n\n    if (options.storageMode !== undefined) {\n        config.storageMode = options.storageMode\n    }\n\n    if (options.logging !== undefined) {\n        config.logging = { ...config.logging, ...options.logging }\n    }\n}\n\n/**\n * Get current configuration\n */\nexport function getConfig(): FsConfig {\n    return {\n        ...config,\n        logging: { ...config.logging },\n    }\n}\n\n/**\n * Get current storage mode\n */\nexport function getStorageMode(): StorageMode {\n    return config.storageMode\n}\n\n/**\n * Mark the polyfill as initialized\n * After this, storage mode cannot be changed\n */\nexport function markInitialized(): void {\n    initialized = true\n}\n\n/**\n * Check if the polyfill has been initialized\n */\nexport function isInitialized(): boolean {\n    return initialized\n}\n\n/**\n * Reset configuration (mainly for testing)\n */\nexport function resetConfig(): void {\n    config = { ...defaultConfig, logging: { ...defaultConfig.logging } }\n    initialized = false\n}\n\n/**\n * Storage mode descriptions for help/documentation\n */\nexport const storageModeDescriptions: Record<StorageMode, string> = {\n    'hybrid': 'Sync operations use VFS binary file (single persistent OPFS file), async operations use OPFS native structure. Best performance for mixed workloads.',\n    'vfs-only': 'All operations use VFS binary file. Async methods wrap sync operations. Single file contains entire filesystem state.',\n    'opfs-only': 'All operations use OPFS native directory/file structure directly. Sync methods use SAB with async OPFS internally. No VFS binary file.',\n}\n\nexport default {\n    configure,\n    getConfig,\n    getStorageMode,\n    markInitialized,\n    isInitialized,\n    resetConfig,\n    storageModeDescriptions,\n}\n","// Async FS Methods - File Descriptor Operations\n\nimport type { PathLike } from 'node:fs'\nimport { Stats, FileHandle as FileHandleClass } from '../classes'\nimport { validateFlag, normalizePath, parseMode } from '../utils'\n\n// Re-export types\nexport type { FileHandle } from '../classes'\n\n// Request functions - set from async.ts\nlet asyncRequestFn: (method: string, args: unknown[]) => Promise<unknown>\nlet fireAndForgetFn: (method: string, args: unknown[]) => void\n\nexport const setFdAsyncRequestFn = (fn: (method: string, args: unknown[]) => Promise<unknown>) => {\n    asyncRequestFn = fn\n}\n\nexport const setFdFireAndForgetFn = (fn: (method: string, args: unknown[]) => void) => {\n    fireAndForgetFn = fn\n}\n\nconst asyncRequest = (method: string, args: unknown[]): Promise<unknown> => {\n    if (!asyncRequestFn) throw new Error('Async request function not initialized')\n    return asyncRequestFn(method, args)\n}\n\nconst fireAndForget = (method: string, args: unknown[]) => {\n    if (fireAndForgetFn) fireAndForgetFn(method, args)\n}\n\n// File descriptor operations\nexport const open = async (path: PathLike, flags?: string, mode?: number): Promise<FileHandleClass> => {\n    const normalizedPath = normalizePath(path as string | Buffer | URL)\n    const flag = flags ?? 'r'\n\n    // Validate flag\n    validateFlag(flag, 'open', normalizedPath)\n\n    const fd = await asyncRequest('open', [normalizedPath, flag, mode]) as number\n    return new FileHandleClass(fd)\n}\n\nexport const close = async (fd: number): Promise<void> => {\n    await asyncRequest('close', [fd])\n    fireAndForget('closeSync', [fd])\n}\n\nexport const read = async (fd: number, buffer: Buffer | Uint8Array, offset: number, length: number, position: number | null): Promise<{ bytesRead: number; buffer: Buffer | Uint8Array }> => {\n    return asyncRequest('read', [fd, buffer, offset, length, position]) as Promise<{ bytesRead: number; buffer: Buffer | Uint8Array }>\n}\n\nexport const write = async (fd: number, buffer: Buffer | Uint8Array | string, offset?: number, length?: number, position?: number | null): Promise<{ bytesWritten: number; buffer: Buffer | Uint8Array | string }> => {\n    return asyncRequest('write', [fd, buffer, offset, length, position]) as Promise<{ bytesWritten: number; buffer: Buffer | Uint8Array | string }>\n}\n\nexport const fstat = async (fd: number): Promise<Stats> => {\n    return asyncRequest('fstat', [fd]) as Promise<Stats>\n}\n\nexport const fsync = async (fd: number): Promise<void> => {\n    await asyncRequest('fsync', [fd])\n    fireAndForget('fsyncSync', [fd])\n}\n\nexport const fdatasync = async (fd: number): Promise<void> => {\n    await asyncRequest('fdatasync', [fd])\n    fireAndForget('fdatasyncSync', [fd])\n}\n\nexport const ftruncate = async (fd: number, len?: number): Promise<void> => {\n    await asyncRequest('ftruncate', [fd, len])\n    fireAndForget('ftruncateSync', [fd, len])\n}\n\nexport const fchmod = async (fd: number, mode: number | string): Promise<void> => {\n    const numericMode = parseMode(mode)\n    await asyncRequest('fchmod', [fd, numericMode])\n    fireAndForget('fchmodSync', [fd, numericMode])\n}\n\nexport const fchown = async (fd: number, uid: number, gid: number): Promise<void> => {\n    await asyncRequest('fchown', [fd, uid, gid])\n    fireAndForget('fchownSync', [fd, uid, gid])\n}\n\nexport const futimes = async (fd: number, atime: number | Date, mtime: number | Date): Promise<void> => {\n    await asyncRequest('futimes', [fd, atime, mtime])\n    fireAndForget('futimesSync', [fd, atime, mtime])\n}\n\nexport const readv = async (fd: number, buffers: ArrayBufferView[]): Promise<{ bytesRead: number; buffers: ArrayBufferView[] }> => {\n    return asyncRequest('readv', [fd, buffers]) as Promise<{ bytesRead: number; buffers: ArrayBufferView[] }>\n}\n\nexport const writev = async (fd: number, buffers: ArrayBufferView[]): Promise<{ bytesWritten: number; buffers: ArrayBufferView[] }> => {\n    return asyncRequest('writev', [fd, buffers]) as Promise<{ bytesWritten: number; buffers: ArrayBufferView[] }>\n}\n","// Async FS Methods - Watch and Stream Operations\n\nimport type { PathLike } from 'node:fs'\nimport type { Dirent, ReadStream, WriteStream, ReadStreamOptions, WriteStreamOptions } from '../classes'\nimport { Stats, ReadStream as ReadStreamClass, WriteStream as WriteStreamClass } from '../classes'\n\n// Request functions - set from async.ts\nlet asyncRequestFn: (method: string, args: unknown[]) => Promise<unknown>\nlet syncRequestFn: (method: string, args: unknown[]) => unknown\n\nexport const setWatchAsyncRequestFn = (fn: (method: string, args: unknown[]) => Promise<unknown>) => {\n    asyncRequestFn = fn\n}\n\nexport const setWatchSyncRequestFn = (fn: (method: string, args: unknown[]) => unknown) => {\n    syncRequestFn = fn\n}\n\nconst asyncRequest = (method: string, args: unknown[]): Promise<unknown> => {\n    if (!asyncRequestFn) throw new Error('Async request function not initialized')\n    return asyncRequestFn(method, args)\n}\n\n// Stat function for watchFile (duplicated here to avoid circular deps)\nconst stat = async (path: PathLike, options?: { bigint?: boolean }): Promise<Stats> => {\n    const result = await asyncRequest('stat', [path, options]) as Record<string, unknown>\n    return new Stats(result as unknown as ConstructorParameters<typeof Stats>[0])\n}\n\n// Watch types\nexport interface FSWatcher {\n    close(): void\n    on(event: 'change', listener: (eventType: string, filename: string) => void): this\n    on(event: 'error', listener: (error: Error) => void): this\n    on(event: 'close', listener: () => void): this\n}\n\nexport interface WatchFileOptions {\n    bigint?: boolean\n    persistent?: boolean\n    interval?: number\n}\n\nexport type WatchFileListener = (curr: Stats, prev: Stats) => void\n\n// Watch\nexport const watch = (path: PathLike, options?: { persistent?: boolean; recursive?: boolean; encoding?: BufferEncoding } | ((eventType: string, filename: string) => void), listener?: (eventType: string, filename: string) => void): FSWatcher => {\n    const actualListener = typeof options === 'function' ? options : listener\n    const actualOptions = typeof options === 'object' ? options : undefined\n\n    const listeners: Map<string, Set<Function>> = new Map()\n\n    const watcher: FSWatcher = {\n        close: () => {\n            asyncRequest('watch', [path, { ...actualOptions, close: true }]).catch(() => {})\n            listeners.clear()\n        },\n        on: (event: string, fn: Function) => {\n            if (!listeners.has(event)) listeners.set(event, new Set())\n            listeners.get(event)!.add(fn)\n            return watcher\n        }\n    }\n\n    asyncRequest('watch', [path, actualOptions]).then(() => {\n        // The watch method in async worker returns immediately\n        // Events will be propagated through the VFS watch system\n    }).catch((err: Error) => {\n        const errorListeners = listeners.get('error')\n        if (errorListeners) {\n            errorListeners.forEach(fn => fn(err))\n        }\n    })\n\n    if (actualListener) {\n        watcher.on('change', actualListener)\n    }\n\n    return watcher\n}\n\n// watchFile / unwatchFile (deprecated but still used)\nconst watchFileListeners = new Map<string, Map<WatchFileListener, ReturnType<typeof setInterval>>>()\n\nexport const watchFile = (\n    filename: PathLike,\n    optionsOrListener?: WatchFileOptions | WatchFileListener,\n    listener?: WatchFileListener\n): void => {\n    let options: WatchFileOptions = {}\n    let callback: WatchFileListener | undefined\n\n    if (typeof optionsOrListener === 'function') {\n        callback = optionsOrListener\n    } else if (optionsOrListener) {\n        options = optionsOrListener\n        callback = listener\n    }\n\n    if (!callback) return\n\n    const path = String(filename)\n    const interval = options.interval ?? 5007\n\n    if (!watchFileListeners.has(path)) {\n        watchFileListeners.set(path, new Map())\n    }\n\n    let prevStats: Stats | null = null\n\n    const timer = setInterval(async () => {\n        try {\n            const currStats = await stat(path, { bigint: options.bigint }) as Stats\n            if (prevStats && (prevStats.mtimeMs !== currStats.mtimeMs || prevStats.size !== currStats.size)) {\n                callback!(currStats, prevStats)\n            }\n            prevStats = currStats\n        } catch {\n            // File doesn't exist or error - use zeroed stats\n            const emptyStats = { size: 0, mtimeMs: 0 } as Stats\n            if (prevStats) {\n                callback!(emptyStats, prevStats)\n            }\n            prevStats = emptyStats\n        }\n    }, interval)\n\n    if (!options.persistent && timer.unref) {\n        timer.unref()\n    }\n\n    watchFileListeners.get(path)!.set(callback, timer)\n}\n\nexport const unwatchFile = (filename: PathLike, listener?: WatchFileListener): void => {\n    const path = String(filename)\n    const listeners = watchFileListeners.get(path)\n\n    if (!listeners) return\n\n    if (listener) {\n        const timer = listeners.get(listener)\n        if (timer) {\n            clearInterval(timer)\n            listeners.delete(listener)\n        }\n        if (listeners.size === 0) {\n            watchFileListeners.delete(path)\n        }\n    } else {\n        // Remove all listeners for this file\n        for (const timer of listeners.values()) {\n            clearInterval(timer)\n        }\n        watchFileListeners.delete(path)\n    }\n}\n\n// Streams\nexport const createReadStream = (\n    path: PathLike,\n    options?: ReadStreamOptions | string\n): ReadStream => {\n    const opts: ReadStreamOptions = typeof options === 'string'\n        ? { encoding: options as BufferEncoding }\n        : options ?? {}\n\n    return new ReadStreamClass(String(path), opts) as unknown as ReadStream\n}\n\nexport const createWriteStream = (\n    path: PathLike,\n    options?: WriteStreamOptions | string\n): WriteStream => {\n    const opts: WriteStreamOptions = typeof options === 'string'\n        ? { encoding: options as BufferEncoding }\n        : options ?? {}\n\n    return new WriteStreamClass(String(path), opts) as unknown as WriteStream\n}\n\n// VFS Management\n// These run in the sync worker where VFS state is initialized\n// Must use syncRequest because VFS state is only in the sync worker\nexport const vfsLoad = async (): Promise<void> => {\n    if (!syncRequestFn) throw new Error('Sync request function not initialized')\n    syncRequestFn('vfsLoad', [])\n}\n\nexport const vfsExtract = async (): Promise<void> => {\n    if (!syncRequestFn) throw new Error('Sync request function not initialized')\n    syncRequestFn('vfsExtract', [])\n}\n","/**\n * Tab Tracker - Uses Web Locks + BroadcastChannel to track tabs\n *\n * Each tab holds a unique lock. Primary monitors secondary locks.\n * When a lock is released (tab closed), primary detects it immediately.\n */\n\nconst TAB_CHANNEL = 'fs_tab_channel'\nconst TAB_LOCK_PREFIX = 'fs_tab_'\n\nexport interface TabInfo {\n    tabId: string\n    lockId: string\n}\n\nexport interface TabTrackerCallbacks {\n    onSecondaryConnected: (tab: TabInfo) => void\n    onSecondaryDisconnected: (tab: TabInfo) => void\n    onPrimaryChanged: () => void\n}\n\nlet tabId: string\nlet lockId: string\nlet channel: BroadcastChannel | null = null\nlet callbacks: TabTrackerCallbacks | null = null\nlet isPrimary = false\nlet trackedTabs: Map<string, { tab: TabInfo; abortController: AbortController }> = new Map()\n\n// Generate unique tab ID\nfunction generateTabId(): string {\n    return Math.random().toString(36).substr(2, 9) + '-' + Date.now().toString(36)\n}\n\n/**\n * Initialize the tab tracker\n * Call this before checking for primary\n */\nexport function initTabTracker(): string {\n    tabId = generateTabId()\n    lockId = TAB_LOCK_PREFIX + tabId\n\n    // Acquire our own lock (held until tab closes)\n    navigator.locks.request(lockId, { mode: 'exclusive' }, () => {\n        // This promise never resolves - we hold the lock until tab closes\n        return new Promise(() => {})\n    })\n\n    // Setup broadcast channel\n    channel = new BroadcastChannel(TAB_CHANNEL)\n    channel.onmessage = handleBroadcast\n\n    console.log(`[TabTracker] Initialized with tabId: ${tabId}`)\n    return tabId\n}\n\n/**\n * Set callbacks for tab events\n */\nexport function setTabTrackerCallbacks(cbs: TabTrackerCallbacks) {\n    callbacks = cbs\n}\n\n/**\n * Called when this tab becomes primary\n */\nexport function becomePrimary() {\n    isPrimary = true\n    console.log('[TabTracker] Becoming primary, broadcasting...')\n\n    // Broadcast that we're the new primary\n    channel?.postMessage({ type: 'new-primary', tabId })\n}\n\n/**\n * Called when this tab is secondary and needs to announce to primary\n */\nexport function announceToCurrentPrimary() {\n    if (isPrimary) return\n\n    console.log('[TabTracker] Announcing to primary...')\n    channel?.postMessage({ type: 'secondary-announce', tabId, lockId })\n}\n\n/**\n * Handle broadcast messages\n */\nfunction handleBroadcast(event: MessageEvent) {\n    const { type, tabId: senderTabId, lockId: senderLockId } = event.data\n\n    if (type === 'new-primary') {\n        console.log(`[TabTracker] New primary announced: ${senderTabId}`)\n\n        if (!isPrimary && senderTabId !== tabId) {\n            // Re-announce ourselves to the new primary\n            setTimeout(() => {\n                channel?.postMessage({ type: 'secondary-announce', tabId, lockId })\n            }, 100)\n        }\n\n        callbacks?.onPrimaryChanged()\n    }\n\n    if (type === 'secondary-announce' && isPrimary) {\n        console.log(`[TabTracker] Secondary announced: ${senderTabId}`)\n\n        // Don't track ourselves\n        if (senderTabId === tabId) return\n\n        // Already tracking this tab?\n        if (trackedTabs.has(senderTabId)) return\n\n        const tabInfo: TabInfo = { tabId: senderTabId, lockId: senderLockId }\n\n        // Start monitoring this secondary's lock\n        monitorSecondaryLock(tabInfo)\n\n        callbacks?.onSecondaryConnected(tabInfo)\n    }\n\n    if (type === 'request-announce' && !isPrimary) {\n        // Primary is requesting all secondaries to announce\n        channel?.postMessage({ type: 'secondary-announce', tabId, lockId })\n    }\n}\n\n/**\n * Monitor a secondary tab's lock - when we acquire it, the tab is gone\n */\nfunction monitorSecondaryLock(tab: TabInfo) {\n    const abortController = new AbortController()\n    trackedTabs.set(tab.tabId, { tab, abortController })\n\n    console.log(`[TabTracker] Monitoring lock for tab: ${tab.tabId}`)\n\n    // Try to acquire the secondary's lock\n    // This will only succeed when they release it (close tab)\n    navigator.locks.request(\n        tab.lockId,\n        { mode: 'exclusive', signal: abortController.signal },\n        () => {\n            // We got the lock! Secondary is gone\n            console.log(`[TabTracker] Tab ${tab.tabId} disconnected (lock released)`)\n            trackedTabs.delete(tab.tabId)\n            callbacks?.onSecondaryDisconnected(tab)\n\n            // Release immediately\n            return Promise.resolve()\n        }\n    ).catch(err => {\n        // AbortError is expected when we stop tracking\n        if (err.name !== 'AbortError') {\n            console.error(`[TabTracker] Error monitoring lock for ${tab.tabId}:`, err)\n        }\n    })\n}\n\n/**\n * Stop tracking all secondaries (called when demoted from primary)\n */\nexport function stopTrackingAll() {\n    console.log(`[TabTracker] Stopping tracking of ${trackedTabs.size} tabs`)\n    for (const [, { abortController }] of trackedTabs) {\n        abortController.abort()\n    }\n    trackedTabs.clear()\n    isPrimary = false\n}\n\n/**\n * Request all secondaries to announce themselves\n */\nexport function requestAllAnnounce() {\n    channel?.postMessage({ type: 'request-announce' })\n}\n\n/**\n * Get current tab ID\n */\nexport function getTabId(): string {\n    return tabId\n}\n\n/**\n * Get number of tracked secondaries\n */\nexport function getTrackedCount(): number {\n    return trackedTabs.size\n}\n\n/**\n * Cleanup on tab close\n */\nexport function cleanup() {\n    stopTrackingAll()\n    channel?.close()\n    channel = null\n}\n","/**\n * FS SAB Utilities - SharedArrayBuffer encoding/decoding\n */\n\nimport {\n    SAB_SIZES,\n    SAB_OFFSETS,\n    SAB_STATUS,\n    SAB_TYPE,\n    LOCKS,\n} from './app-constants'\n\n// Re-export from centralized constants for backwards compatibility\n// Cast to number to avoid literal type issues with `as const`\nexport const SYNC_STATUS_OFFSET: number = SAB_OFFSETS.STATUS\nexport const SYNC_LENGTH_OFFSET: number = SAB_OFFSETS.LENGTH\nexport const SYNC_TYPE_OFFSET: number = SAB_OFFSETS.TYPE\nexport const SYNC_DATA_OFFSET: number = SAB_OFFSETS.DATA_FS\n\nexport const STATUS_IDLE: number = SAB_STATUS.IDLE\nexport const STATUS_REQUEST: number = SAB_STATUS.REQUEST\nexport const STATUS_RESPONSE: number = SAB_STATUS.RESPONSE\nexport const STATUS_ERROR: number = SAB_STATUS.ERROR\n\nexport const REQUEST_TYPE_JSON: number = SAB_TYPE.REQUEST_JSON\nexport const REQUEST_TYPE_BINARY_ARG: number = SAB_TYPE.REQUEST_BINARY_ARG\nexport const RESPONSE_TYPE_JSON: number = SAB_TYPE.RESPONSE_JSON\nexport const RESPONSE_TYPE_BINARY: number = SAB_TYPE.RESPONSE_BINARY\n\nexport const SYNC_SAB_SIZE: number = SAB_SIZES.FS_SYNC\nexport const EVENTS_SAB_SIZE: number = SAB_SIZES.FS_EVENTS\nexport const FS_LOCK_OFFSET: number = SAB_OFFSETS.FS_LOCK\n\nexport const FS_PRIMARY_LOCK: string = LOCKS.FS_PRIMARY\n\nconst syncEncoder = new TextEncoder()\n\n/**\n * Acquire exclusive lock on the FS SAB.\n * Uses compare-and-swap (CAS) spinlock at FS_LOCK_OFFSET.\n * This prevents race conditions when both the exec worker and\n * primary tab use the same SAB for sync FS operations.\n *\n * @param isWorkerThread - true if running in a Worker (can use Atomics.wait),\n *                         false for main thread (must busy-wait)\n */\nexport function acquireSabLock(sab: SharedArrayBuffer, isWorkerThread: boolean): void {\n    const lockArray = new Int32Array(sab, FS_LOCK_OFFSET, 1)\n    while (true) {\n        // Try to set lock from 0 (unlocked) to 1 (locked)\n        if (Atomics.compareExchange(lockArray, 0, 0, 1) === 0) {\n            return // Lock acquired\n        }\n        // Lock is held by another thread - wait\n        if (isWorkerThread) {\n            Atomics.wait(lockArray, 0, 1, 5) // sleep up to 5ms\n        }\n        // Main thread: just spin (can't use Atomics.wait)\n    }\n}\n\n/**\n * Release the FS SAB lock.\n */\nexport function releaseSabLock(sab: SharedArrayBuffer): void {\n    const lockArray = new Int32Array(sab, FS_LOCK_OFFSET, 1)\n    Atomics.store(lockArray, 0, 0) // Unlock\n    Atomics.notify(lockArray, 0, 1) // Wake one waiting thread\n}\n\n/**\n * Write a sync request to the SAB with binary encoding for Buffer args\n */\nexport function writeSyncRequest(sab: SharedArrayBuffer, method: string, args: unknown[]): void {\n    const typeView = new Uint8Array(sab, SYNC_TYPE_OFFSET, 1)\n    const lengthView = new DataView(sab, SYNC_LENGTH_OFFSET, 4)\n\n    // Check if any arg is a Buffer/Uint8Array\n    let bufferArgIndex = -1\n    let bufferData: Uint8Array | null = null\n    for (let i = 0; i < args.length; i++) {\n        const arg = args[i]\n        if (Buffer.isBuffer(arg)) {\n            bufferArgIndex = i\n            bufferData = new Uint8Array(arg)\n            break\n        }\n        if (arg instanceof Uint8Array) {\n            bufferArgIndex = i\n            bufferData = arg\n            break\n        }\n    }\n\n    if (bufferArgIndex >= 0 && bufferData!) {\n        const processedArgs = args.slice()\n        processedArgs[bufferArgIndex] = null\n        const jsonBytes = syncEncoder.encode(JSON.stringify({ method, args: processedArgs }))\n\n        typeView[0] = REQUEST_TYPE_BINARY_ARG\n        const headerView = new DataView(sab, SYNC_DATA_OFFSET, 5)\n        headerView.setUint32(0, jsonBytes.length)\n        headerView.setUint8(4, bufferArgIndex)\n        new Uint8Array(sab, SYNC_DATA_OFFSET + 5, jsonBytes.length).set(jsonBytes)\n        new Uint8Array(sab, SYNC_DATA_OFFSET + 5 + jsonBytes.length, bufferData.length).set(bufferData)\n        lengthView.setUint32(0, 5 + jsonBytes.length + bufferData.length)\n    } else {\n        const jsonBytes = syncEncoder.encode(JSON.stringify({ method, args }))\n        typeView[0] = REQUEST_TYPE_JSON\n        new Uint8Array(sab, SYNC_DATA_OFFSET, jsonBytes.length).set(jsonBytes)\n        lengthView.setUint32(0, jsonBytes.length)\n    }\n}\n\n/**\n * Read sync response from SAB\n */\nexport function readSyncResponse(sab: SharedArrayBuffer): unknown {\n    const lengthView = new DataView(sab, SYNC_LENGTH_OFFSET, 4)\n    const decoder = new TextDecoder()\n\n    const status = Atomics.load(new Int32Array(sab, SYNC_STATUS_OFFSET, 1), 0)\n    const responseType = new Uint8Array(sab, SYNC_TYPE_OFFSET, 1)[0]\n    const responseLength = lengthView.getUint32(0)\n\n    Atomics.store(new Int32Array(sab, SYNC_STATUS_OFFSET, 1), 0, STATUS_IDLE)\n\n    if (responseType === RESPONSE_TYPE_BINARY) {\n        if (status === STATUS_ERROR) throw new Error('Unexpected binary error response')\n        const binaryData = new Uint8Array(sab, SYNC_DATA_OFFSET, responseLength)\n        return Buffer.from(binaryData.slice())\n    }\n\n    const responseData = new Uint8Array(sab, SYNC_DATA_OFFSET, responseLength).slice()\n    const response = JSON.parse(decoder.decode(responseData))\n\n    if (status === STATUS_ERROR) {\n        const err = new Error(response.error) as any\n        err.code = response.code\n        err.errno = response.errno\n        err.syscall = response.syscall\n        err.path = response.path\n        throw err\n    }\n\n    return response.result\n}\n\n/**\n * Extract transferable objects from a value (ArrayBuffers)\n */\nexport function extractTransferables(value: unknown): Transferable[] {\n    const transferables: Transferable[] = []\n\n    if (value instanceof ArrayBuffer) {\n        transferables.push(value)\n    } else if (value instanceof Uint8Array || value instanceof Int8Array ||\n               value instanceof Uint16Array || value instanceof Int16Array ||\n               value instanceof Uint32Array || value instanceof Int32Array ||\n               value instanceof Float32Array || value instanceof Float64Array) {\n        transferables.push(value.buffer)\n    } else if (Array.isArray(value)) {\n        for (const item of value) {\n            transferables.push(...extractTransferables(item))\n        }\n    } else if (value && typeof value === 'object') {\n        for (const key of Object.keys(value)) {\n            transferables.push(...extractTransferables((value as Record<string, unknown>)[key]))\n        }\n    }\n\n    return transferables\n}\n","/**\n * FS Primary Tab - Functions for the primary tab\n */\n\nimport { setSharedArrayBuffer as setPoolSAB } from './fs.worker-pool'\nimport { getStorageMode } from './config'\nimport { initSabPersistence, saveEventsSab, saveSyncSab, loadEventsSab, loadSyncSab } from './utils/sab-persistence'\nimport { becomePrimary, requestAllAnnounce, setTabTrackerCallbacks, type TabInfo } from './utils/tab-tracker'\nimport {\n    SYNC_STATUS_OFFSET, STATUS_IDLE, STATUS_REQUEST, SYNC_SAB_SIZE, EVENTS_SAB_SIZE,\n    writeSyncRequest, extractTransferables, readSyncResponse,\n    acquireSabLock, releaseSabLock\n} from './fs.sab-utils'\n\n// State\nlet syncSAB: SharedArrayBuffer | null = null\nlet eventsSAB: SharedArrayBuffer | null = null\nlet syncWorker: Worker | null = null\nlet syncWorkerReady = false\nlet isPrimaryTab = false\nlet readyResolve: (() => void) | null = null\nlet readyReject: ((err: Error) => void) | null = null\n\n// Active service worker reference (shared between primary and secondary code)\nlet activeServiceWorker: ServiceWorker | null = null\nexport function setActiveServiceWorker(sw: ServiceWorker) { activeServiceWorker = sw }\nexport function getActiveServiceWorker() { return activeServiceWorker }\n\n// Connected secondaries\nconst connectedSecondaries: Set<string> = new Set()\nconst secondaryPorts: Map<string, MessagePort> = new Map()\n\n// Fire-and-forget buffer\nconst fireAndForgetBuffer: Array<{ method: string; args: unknown[] }> = []\n\n// SAB persistence debouncing\nlet sabSaveTimeout: ReturnType<typeof setTimeout> | null = null\nconst SAB_SAVE_DEBOUNCE_MS = 2000\n\nexport function setReadyCallbacks(resolve: () => void, reject: (err: Error) => void) {\n    readyResolve = resolve\n    readyReject = reject\n}\n\nexport function getSyncSAB() { return syncSAB }\nexport function getEventsSAB() { return eventsSAB }\nexport function getSyncWorkerReady() { return syncWorkerReady }\nexport function getIsPrimaryTab() { return isPrimaryTab }\nexport function getSyncWorker() { return syncWorker }\n\nexport function initPrimarySyncWorker() {\n    console.log('[FS] Creating sync worker (primary tab)...')\n    syncWorker = new Worker(new URL('./fs.sync.worker.js', import.meta.url), { type: 'module' })\n\n    syncWorker.onmessage = (e) => {\n        console.log('[FS] Sync worker message:', e.data.type)\n        if (e.data.type === 'initialized') {\n            syncWorkerReady = true\n            console.log('[FS] FS polyfill ready (primary)!')\n            flushFireAndForgetBuffer()\n            readyResolve?.()\n        }\n    }\n\n    syncWorker.onerror = (e) => {\n        console.error('[FS] Sync worker error:', e)\n        readyReject?.(new Error(`Sync worker error: ${e.message}`))\n    }\n\n    syncWorker.postMessage({ type: 'init', syncSAB, eventsSAB, storageMode: getStorageMode() })\n    setPoolSAB(eventsSAB!)\n}\n\nexport async function createSABsAndInitPrimary() {\n    console.log('[FS] Creating SABs as primary tab...')\n\n    try {\n        syncSAB = new SharedArrayBuffer(SYNC_SAB_SIZE)\n        eventsSAB = new SharedArrayBuffer(EVENTS_SAB_SIZE)\n        console.log('[FS] SABs created:', { syncSize: SYNC_SAB_SIZE, eventsSize: EVENTS_SAB_SIZE })\n\n        try {\n            console.log('[FS] Initializing SAB persistence...')\n            await initSabPersistence()\n            const [syncLoaded, eventsLoaded] = await Promise.all([\n                loadSyncSab(syncSAB),\n                loadEventsSab(eventsSAB)\n            ])\n            if (syncLoaded || eventsLoaded) {\n                console.log('[FS] Restored persisted SAB data:', { syncLoaded, eventsLoaded })\n            }\n        } catch (err) {\n            console.warn('[FS] Could not restore persisted SAB data:', err)\n        }\n\n        const statusArray = new Int32Array(syncSAB, SYNC_STATUS_OFFSET, 1)\n        Atomics.store(statusArray, 0, STATUS_IDLE)\n\n        isPrimaryTab = true\n        initPrimarySyncWorker()\n    } catch (err) {\n        const msg = `Failed to create SharedArrayBuffer: ${(err as Error).message}. Make sure the page is cross-origin isolated.`\n        console.error('[FS]', msg)\n        readyReject?.(new Error(msg))\n    }\n}\n\nexport function scheduleSabPersist() {\n    if (!isPrimaryTab || !syncSAB || !eventsSAB) return\n\n    if (sabSaveTimeout) clearTimeout(sabSaveTimeout)\n\n    sabSaveTimeout = setTimeout(async () => {\n        console.log('[FS] Persisting SAB data to IndexedDB...')\n        try {\n            await Promise.all([saveSyncSab(syncSAB!), saveEventsSab(eventsSAB!)])\n            console.log('[FS] SAB data persisted successfully')\n        } catch (err) {\n            console.warn('[FS] Failed to persist SAB data:', err)\n        }\n    }, SAB_SAVE_DEBOUNCE_MS)\n}\n\nexport function primaryExecuteSync(method: string, args: unknown[]): unknown {\n    if (!syncSAB || !syncWorkerReady) throw new Error('Primary not ready')\n\n    // Acquire lock to prevent race with exec worker's polyfill request()\n    // Primary tab is main thread  isWorkerThread = false (busy-wait)\n    acquireSabLock(syncSAB, false)\n\n    try {\n        const statusArray = new Int32Array(syncSAB, SYNC_STATUS_OFFSET, 1)\n        writeSyncRequest(syncSAB, method, args)\n        Atomics.store(statusArray, 0, STATUS_REQUEST)\n        Atomics.notify(statusArray, 0)\n\n        while (Atomics.load(statusArray, 0) === STATUS_REQUEST) {}\n\n        return readSyncResponse(syncSAB)\n    } finally {\n        releaseSabLock(syncSAB)\n    }\n}\n\nfunction handleSecondaryFsRequest(port: MessagePort, requestId: string, method: string, args: unknown[]) {\n    console.log(`[FS Primary] Request: ${method}`)\n\n    try {\n        const result = primaryExecuteSync(method, args)\n        const message = { type: 'fs-response', requestId, result }\n        const transferables = extractTransferables(result)\n        if (transferables.length > 0) port.postMessage(message, transferables)\n        else port.postMessage(message)\n    } catch (err) {\n        const e = err as any\n        port.postMessage({\n            type: 'fs-response', requestId, error: e.message,\n            code: e.code, errno: e.errno, syscall: e.syscall, path: e.path\n        })\n    }\n}\n\n/**\n * Handle VFS read request from Service Worker (for ESM module serving)\n */\nfunction handleVfsReadRequest(requestId: string, filePath: string) {\n    const sw = activeServiceWorker\n    if (!sw) {\n        console.error('[FS Primary] No active service worker for VFS read response')\n        return\n    }\n\n    try {\n        // Use sync FS to read the file\n        const content = primaryExecuteSync('readFileSync', [filePath]) as Buffer | null\n\n        if (content) {\n            // Convert Buffer to Uint8Array for transfer\n            const data = content instanceof Uint8Array ? content : new Uint8Array(content)\n            sw.postMessage({\n                type: 'vfs-read-response',\n                requestId,\n                content: Array.from(data) // Convert to array for structured clone\n            })\n        } else {\n            sw.postMessage({\n                type: 'vfs-read-response',\n                requestId,\n                content: null\n            })\n        }\n    } catch (err) {\n        // File doesn't exist or read error\n        sw.postMessage({\n            type: 'vfs-read-response',\n            requestId,\n            content: null,\n            error: (err as Error).message\n        })\n    }\n}\n\nfunction handleSecondaryPort(secondaryClientId: string, port: MessagePort) {\n    console.log(`[FS Primary] Received port from secondary: ${secondaryClientId}`)\n    secondaryPorts.set(secondaryClientId, port)\n    connectedSecondaries.add(secondaryClientId)\n\n    port.onmessage = (e: MessageEvent) => {\n        const { type: msgType, requestId, method, args } = e.data\n        if (msgType === 'fs-request') {\n            handleSecondaryFsRequest(port, requestId, method, args)\n        }\n    }\n\n    port.postMessage({ type: 'connected' })\n}\n\nexport function setupPrimaryServiceWorkerListener() {\n    // Register with SW using a control port (scope-independent communication)\n    const sw = activeServiceWorker\n    if (sw) {\n        const mc = new MessageChannel()\n        sw.postMessage({ type: 'register-primary' }, [mc.port2])\n\n        // Listen for secondary ports on the control port\n        mc.port1.onmessage = (event: MessageEvent) => {\n            if (event.data.type === 'secondary-port') {\n                const port = event.ports[0]\n                if (port) handleSecondaryPort(event.data.secondaryClientId, port)\n            }\n        }\n        mc.port1.start()\n    }\n\n    // Also listen on navigator.serviceWorker for backwards compat (when page is in scope)\n    navigator.serviceWorker.addEventListener('message', (event) => {\n        const { type, secondaryClientId, requestId, filePath } = event.data\n\n        if (type === 'vfs-read-request') {\n            handleVfsReadRequest(requestId, filePath)\n            return\n        }\n\n        if (type === 'discover-primary') {\n            if (isPrimaryTab) {\n                console.log('[FS Primary] Re-registering with ServiceWorker (discover-primary)')\n                activeServiceWorker?.postMessage({ type: 'register-primary' })\n            }\n            return\n        }\n\n        if (type === 'secondary-port') {\n            const port = event.ports[0]\n            if (port) handleSecondaryPort(secondaryClientId, port)\n        }\n    })\n    console.log('[FS Primary] Listening for secondary ports via ServiceWorker')\n}\n\nexport function setupTabTrackerCallbacks(reconnectFn: () => void) {\n    setTabTrackerCallbacks({\n        onSecondaryConnected: (tab: TabInfo) => {\n            console.log(`[FS Primary] Secondary connected (tab tracker): ${tab.tabId}`)\n            connectedSecondaries.add(tab.tabId)\n        },\n        onSecondaryDisconnected: (tab: TabInfo) => {\n            console.log(`[FS Primary] Secondary disconnected: ${tab.tabId}`)\n            connectedSecondaries.delete(tab.tabId)\n        },\n        onPrimaryChanged: () => {\n            console.log('[FS] Primary changed notification received')\n            if (!isPrimaryTab) {\n                console.log('[FS Secondary] Reconnecting to new primary...')\n                reconnectFn()\n            }\n        }\n    })\n}\n\nexport function flushFireAndForgetBuffer() {\n    if (!syncWorker || !syncWorkerReady || !isPrimaryTab) return\n    while (fireAndForgetBuffer.length > 0) {\n        const { method, args } = fireAndForgetBuffer.shift()!\n        syncWorker.postMessage({ type: 'fireAndForget', method, args })\n    }\n}\n\nexport function fireAndForget(method: string, args: unknown[]) {\n    if (!isPrimaryTab) return\n    if (!syncWorker || !syncWorkerReady) {\n        fireAndForgetBuffer.push({ method, args })\n        return\n    }\n    syncWorker.postMessage({ type: 'fireAndForget', method, args })\n}\n\nexport function promoteToTruePrimary(relayWorker: Worker | null) {\n    console.log('[FS] Acquired primary lock - promoted to primary!')\n    isPrimaryTab = true\n    syncWorkerReady = false // Reset  new sync worker needs to initialize\n    if (relayWorker) {\n        relayWorker.terminate()\n    }\n    setupPrimaryServiceWorkerListener()\n    becomePrimary()\n    requestAllAnnounce()\n    createSABsAndInitPrimary()\n}\n\nexport function setSABs(sync: SharedArrayBuffer, events: SharedArrayBuffer | null) {\n    syncSAB = sync\n    if (events) eventsSAB = events\n}\n\nexport function setWorkerReady(ready: boolean) {\n    syncWorkerReady = ready\n}\n\nexport function setIsPrimaryTab(primary: boolean) {\n    isPrimaryTab = primary\n}\n","/**\n * SAB Persistence - Save/restore SharedArrayBuffer state to IndexedDB\n *\n * Persists:\n * - Events SAB: File system event subscriptions and state\n * - Sync SAB: Communication buffer state (for restoring after tab change)\n *\n * VFS data is NOT stored here - it's already persisted in OPFS.\n */\n\nconst DB_NAME = 'fs_sab_store'\nconst DB_VERSION = 1\nconst STORE_NAME = 'sab_data'\nconst EVENTS_KEY = 'events_sab'\nconst SYNC_KEY = 'sync_sab'\n\n// Format version - increment when SAB format changes to invalidate old data\nconst EVENTS_FORMAT_VERSION = 2 // v2: header is now 12 bytes (added writeOffset)\nconst SYNC_FORMAT_VERSION = 1\n\nlet db: IDBDatabase | null = null\n\n/**\n * Initialize IndexedDB connection\n */\nexport async function initSabPersistence(): Promise<void> {\n    return new Promise((resolve, reject) => {\n        const request = indexedDB.open(DB_NAME, DB_VERSION)\n\n        request.onerror = () => {\n            console.error('[SAB Persistence] Failed to open IndexedDB:', request.error)\n            reject(request.error)\n        }\n\n        request.onsuccess = () => {\n            db = request.result\n            console.log('[SAB Persistence] IndexedDB opened')\n            resolve()\n        }\n\n        request.onupgradeneeded = (event) => {\n            const database = (event.target as IDBOpenDBRequest).result\n            if (!database.objectStoreNames.contains(STORE_NAME)) {\n                database.createObjectStore(STORE_NAME)\n                console.log('[SAB Persistence] Created object store')\n            }\n        }\n    })\n}\n\n/**\n * Save events SAB data to IndexedDB\n */\nexport async function saveEventsSab(sab: SharedArrayBuffer): Promise<void> {\n    if (!db) {\n        console.warn('[SAB Persistence] DB not initialized, skipping save')\n        return\n    }\n\n    // Copy SAB to regular ArrayBuffer for storage\n    const data = new Uint8Array(sab).slice().buffer\n\n    return new Promise((resolve, reject) => {\n        const transaction = db!.transaction([STORE_NAME], 'readwrite')\n        const store = transaction.objectStore(STORE_NAME)\n\n        const request = store.put({\n            data,\n            timestamp: Date.now(),\n            size: data.byteLength,\n            formatVersion: EVENTS_FORMAT_VERSION\n        }, EVENTS_KEY)\n\n        request.onerror = () => {\n            console.error('[SAB Persistence] Failed to save events:', request.error)\n            reject(request.error)\n        }\n\n        request.onsuccess = () => {\n            console.log(`[SAB Persistence] Saved events SAB (${(data.byteLength / 1024).toFixed(1)}KB)`)\n            resolve()\n        }\n    })\n}\n\n/**\n * Save sync SAB data to IndexedDB\n */\nexport async function saveSyncSab(sab: SharedArrayBuffer): Promise<void> {\n    if (!db) {\n        console.warn('[SAB Persistence] DB not initialized, skipping save')\n        return\n    }\n\n    // Copy SAB to regular ArrayBuffer for storage\n    const data = new Uint8Array(sab).slice().buffer\n\n    return new Promise((resolve, reject) => {\n        const transaction = db!.transaction([STORE_NAME], 'readwrite')\n        const store = transaction.objectStore(STORE_NAME)\n\n        const request = store.put({\n            data,\n            timestamp: Date.now(),\n            size: data.byteLength,\n            formatVersion: SYNC_FORMAT_VERSION\n        }, SYNC_KEY)\n\n        request.onerror = () => {\n            console.error('[SAB Persistence] Failed to save sync:', request.error)\n            reject(request.error)\n        }\n\n        request.onsuccess = () => {\n            console.log(`[SAB Persistence] Saved sync SAB (${(data.byteLength / 1024).toFixed(1)}KB)`)\n            resolve()\n        }\n    })\n}\n\n/**\n * Load events SAB data from IndexedDB into existing SAB\n */\nexport async function loadEventsSab(targetSab: SharedArrayBuffer): Promise<boolean> {\n    if (!db) {\n        try {\n            await initSabPersistence()\n        } catch {\n            return false\n        }\n    }\n\n    return new Promise((resolve, reject) => {\n        const transaction = db!.transaction([STORE_NAME], 'readonly')\n        const store = transaction.objectStore(STORE_NAME)\n        const request = store.get(EVENTS_KEY)\n\n        request.onerror = () => {\n            console.error('[SAB Persistence] Failed to load events:', request.error)\n            reject(request.error)\n        }\n\n        request.onsuccess = () => {\n            const result = request.result\n            if (result && result.data) {\n                // Check format version - skip if mismatched (format changed)\n                if (result.formatVersion !== EVENTS_FORMAT_VERSION) {\n                    console.log(`[SAB Persistence] Events SAB format version mismatch (stored: ${result.formatVersion}, current: ${EVENTS_FORMAT_VERSION}) - starting fresh`)\n                    resolve(false)\n                    return\n                }\n\n                // Copy stored data into the SAB\n                const storedData = new Uint8Array(result.data)\n                const targetView = new Uint8Array(targetSab)\n\n                // Only copy up to the size of the target SAB\n                const copyLength = Math.min(storedData.length, targetView.length)\n                targetView.set(storedData.subarray(0, copyLength))\n\n                console.log(`[SAB Persistence] Loaded events SAB (${(copyLength / 1024).toFixed(1)}KB) from ${new Date(result.timestamp).toISOString()}`)\n                resolve(true)\n            } else {\n                console.log('[SAB Persistence] No saved events data found')\n                resolve(false)\n            }\n        }\n    })\n}\n\n/**\n * Load sync SAB data from IndexedDB into existing SAB\n */\nexport async function loadSyncSab(targetSab: SharedArrayBuffer): Promise<boolean> {\n    if (!db) {\n        try {\n            await initSabPersistence()\n        } catch {\n            return false\n        }\n    }\n\n    return new Promise((resolve, reject) => {\n        const transaction = db!.transaction([STORE_NAME], 'readonly')\n        const store = transaction.objectStore(STORE_NAME)\n        const request = store.get(SYNC_KEY)\n\n        request.onerror = () => {\n            console.error('[SAB Persistence] Failed to load sync:', request.error)\n            reject(request.error)\n        }\n\n        request.onsuccess = () => {\n            const result = request.result\n            if (result && result.data) {\n                // Check format version - skip if mismatched\n                if (result.formatVersion !== SYNC_FORMAT_VERSION) {\n                    console.log(`[SAB Persistence] Sync SAB format version mismatch (stored: ${result.formatVersion}, current: ${SYNC_FORMAT_VERSION}) - starting fresh`)\n                    resolve(false)\n                    return\n                }\n\n                // Copy stored data into the SAB\n                const storedData = new Uint8Array(result.data)\n                const targetView = new Uint8Array(targetSab)\n\n                // Only copy up to the size of the target SAB\n                const copyLength = Math.min(storedData.length, targetView.length)\n                targetView.set(storedData.subarray(0, copyLength))\n\n                console.log(`[SAB Persistence] Loaded sync SAB (${(copyLength / 1024).toFixed(1)}KB) from ${new Date(result.timestamp).toISOString()}`)\n                resolve(true)\n            } else {\n                console.log('[SAB Persistence] No saved sync data found')\n                resolve(false)\n            }\n        }\n    })\n}\n\n/**\n * Clear all saved SAB data\n */\nexport async function clearSabData(): Promise<void> {\n    if (!db) return\n\n    return new Promise((resolve, reject) => {\n        const transaction = db!.transaction([STORE_NAME], 'readwrite')\n        const store = transaction.objectStore(STORE_NAME)\n\n        const req1 = store.delete(EVENTS_KEY)\n        const req2 = store.delete(SYNC_KEY)\n\n        transaction.oncomplete = () => {\n            console.log('[SAB Persistence] Cleared all saved data')\n            resolve()\n        }\n\n        transaction.onerror = () => reject(transaction.error)\n    })\n}\n\n/**\n * Close the database connection\n */\nexport function closeSabPersistence(): void {\n    if (db) {\n        db.close()\n        db = null\n    }\n}\n","/**\n * FS Secondary Tab - Functions for secondary tabs\n */\n\nimport { getTabId, announceToCurrentPrimary } from './utils/tab-tracker'\nimport { SYNC_STATUS_OFFSET, STATUS_IDLE, SYNC_SAB_SIZE } from './fs.sab-utils'\nimport { Dirent, Stats } from './classes'\nimport { setSABs, setWorkerReady, setIsPrimaryTab, getActiveServiceWorker } from './fs.primary'\n\n// Browser detection\nconst isSafari = /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent)\n\n// State\nlet secondarySyncSAB: SharedArrayBuffer | null = null\nlet relayWorker: Worker | null = null\nlet relayWorkerReady = false\nlet syncSupported = true\nlet readyResolve: (() => void) | null = null\nlet readyReject: ((err: Error) => void) | null = null\n\n// Safari async-only mode\nlet safariPrimaryPort: MessagePort | null = null\nconst safariPendingRequests = new Map<string, { resolve: (v: unknown) => void, reject: (e: Error) => void }>()\n\nexport function setReadyCallbacks(resolve: () => void, reject: (err: Error) => void) {\n    readyResolve = resolve\n    readyReject = reject\n}\n\nexport function getRelayWorker() { return relayWorker }\nexport function getRelayWorkerReady() { return relayWorkerReady }\nexport function isSyncSupported() { return syncSupported }\nexport function getSafariPrimaryPort() { return safariPrimaryPort }\n\nfunction reconstructClasses(value: unknown): unknown {\n    if (value === null || value === undefined) return value\n    if (Array.isArray(value)) return value.map(reconstructClasses)\n    if (typeof value === 'object') {\n        const obj = value as Record<string, unknown>\n        if (obj.__type === 'Dirent') return Dirent.fromJSON(obj as any)\n        if (obj.__type === 'Stats') return Stats.fromJSON(obj as any)\n        const result: Record<string, unknown> = {}\n        for (const key of Object.keys(obj)) result[key] = reconstructClasses(obj[key])\n        return result\n    }\n    return value\n}\n\nexport function initSecondary() {\n    console.log('[FS Secondary] Initializing secondary tab...')\n\n    if (isSafari) {\n        console.warn('[FS Secondary] Safari detected - sync operations not supported in secondary tabs.')\n        syncSupported = false\n        initSecondaryAsyncOnly()\n        return\n    }\n\n    try {\n        secondarySyncSAB = new SharedArrayBuffer(SYNC_SAB_SIZE)\n        console.log('[FS Secondary] Local SAB created')\n\n        const statusArray = new Int32Array(secondarySyncSAB, SYNC_STATUS_OFFSET, 1)\n        Atomics.store(statusArray, 0, STATUS_IDLE)\n    } catch (err) {\n        console.error('[FS Secondary] Failed to create local SAB:', err)\n        readyReject?.(new Error('Failed to create SharedArrayBuffer for secondary tab'))\n        return\n    }\n\n    console.log('[FS Secondary] Creating relay worker...')\n    relayWorker = new Worker(new URL('./fs.relay.worker.js', import.meta.url), { type: 'module' })\n\n    relayWorker.onmessage = (e) => {\n        console.log('[FS Secondary] Relay worker message:', e.data.type)\n\n        if (e.data.type === 'initialized') {\n            relayWorkerReady = true\n            console.log('[FS Secondary] Relay worker ready')\n            connectToPrimary()\n        }\n\n        if (e.data.type === 'primary-disconnected') {\n            console.log('[FS Secondary] Primary disconnected notification')\n        }\n    }\n\n    relayWorker.onerror = (e) => {\n        console.error('[FS Secondary] Relay worker error:', e)\n        readyReject?.(new Error(`Relay worker error: ${e.message}`))\n    }\n\n    relayWorker.postMessage({ type: 'init', syncSAB: secondarySyncSAB, tabId: getTabId() })\n}\n\nfunction initSecondaryAsyncOnly() {\n    console.log('[FS Secondary] Initializing in async-only mode (Safari)...')\n\n    const channel = new MessageChannel()\n\n    channel.port1.onmessage = (e) => {\n        if (e.data.type === 'connected') {\n            console.log('[FS Secondary] Connected to primary (async-only mode)!')\n            safariPrimaryPort = channel.port1\n\n            channel.port1.onmessage = (event) => {\n                const { type, requestId, result, error } = event.data\n                if (type === 'fs-response') {\n                    const pending = safariPendingRequests.get(requestId)\n                    if (pending) {\n                        safariPendingRequests.delete(requestId)\n                        if (error) pending.reject(new Error(error))\n                        else pending.resolve(reconstructClasses(result))\n                    }\n                }\n            }\n\n            setWorkerReady(true)\n            announceToCurrentPrimary()\n            readyResolve?.()\n        }\n    }\n\n    getActiveServiceWorker()?.postMessage(\n        { type: 'request-connection' },\n        [channel.port2]\n    )\n}\n\nexport function safariAsyncRequest(method: string, args: unknown[]): Promise<unknown> {\n    return new Promise((resolve, reject) => {\n        if (!safariPrimaryPort) {\n            reject(new Error('Not connected to primary'))\n            return\n        }\n\n        const requestId = Math.random().toString(36).substr(2, 9)\n        safariPendingRequests.set(requestId, { resolve, reject })\n\n        setTimeout(() => {\n            if (safariPendingRequests.has(requestId)) {\n                safariPendingRequests.delete(requestId)\n                reject(new Error('Request timeout'))\n            }\n        }, 30000)\n\n        safariPrimaryPort.postMessage({ type: 'fs-request', requestId, method, args })\n    })\n}\n\nfunction connectToPrimary() {\n    console.log('[FS Secondary] Connecting to primary via ServiceWorker...')\n\n    const channel = new MessageChannel()\n\n    channel.port1.onmessage = (e) => {\n        if (e.data.type === 'connected') {\n            console.log('[FS Secondary] Connected to primary!')\n\n            relayWorker?.postMessage({ type: 'set-primary-port' }, [channel.port1])\n\n            setWorkerReady(true)\n            setSABs(secondarySyncSAB!, null)\n            setIsPrimaryTab(false)\n\n            announceToCurrentPrimary()\n            readyResolve?.()\n        }\n    }\n\n    getActiveServiceWorker()?.postMessage(\n        { type: 'request-connection' },\n        [channel.port2]\n    )\n}\n\nexport function reconnectToPrimary() {\n    console.log('[FS Secondary] Reconnecting to new primary via ServiceWorker...')\n\n    const channel = new MessageChannel()\n\n    channel.port1.onmessage = (e) => {\n        if (e.data.type === 'connected') {\n            console.log('[FS Secondary] Reconnected to new primary!')\n            relayWorker?.postMessage({ type: 'set-primary-port' }, [channel.port1])\n            announceToCurrentPrimary()\n        }\n    }\n\n    getActiveServiceWorker()?.postMessage(\n        { type: 'request-connection' },\n        [channel.port2]\n    )\n}\n"],"mappings":"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","names":["__create","__defProp","__getOwnPropDesc","__getOwnPropNames","__getProtoOf","__hasOwnProp","__commonJS","__copyProps","__toESM","read","write","ReflectApply","ReflectOwnKeys","NumberIsNaN","EventEmitter","once","nextId","nextId","init","init","init","stat","import_events","request","defaultConfig","config","initialized","asyncRequestFn","asyncRequest","asyncRequestFn","asyncRequest","asyncRequestFn","fireAndForgetFn","syncRequestFn","asyncRequestFn","asyncRequest","fireAndForgetFn","syncRequestFn","fireAndForget","entries","stat","request","eventsSAB","fireAndForget","relayWorker","readyResolve","readyReject","setReadyCallbacks","readyReject","channel","pending","readyResolve","syncSupported","reconstructClasses","readyResolve","readyReject","setReadyCallbacks","request","syncSAB","fireAndForget","stat"]}